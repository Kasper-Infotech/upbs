(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{164:function(e,t,a){},195:function(e,t,a){},205:function(e,t,a){},275:function(e,t,a){},277:function(e,t,a){},278:function(e,t,a){},279:function(e,t,a){},296:function(e,t,a){},325:function(e,t,a){},344:function(e,t,a){},350:function(e,t,a){},352:function(e,t,a){},361:function(e,t){},363:function(e,t){},374:function(e,t){},376:function(e,t){},404:function(e,t){},406:function(e,t){},407:function(e,t){},412:function(e,t){},414:function(e,t){},420:function(e,t){},422:function(e,t){},441:function(e,t){},453:function(e,t){},456:function(e,t){},473:function(e,t,a){},474:function(e,t,a){},475:function(e,t,a){},476:function(e,t,a){},477:function(e,t,a){},478:function(e,t,a){},480:function(e,t,a){},481:function(e,t,a){},482:function(e,t,a){},483:function(e,t,a){},484:function(e,t,a){},485:function(e,t,a){},486:function(e,t,a){},487:function(e,t,a){},488:function(e,t,a){},489:function(e,t,a){},490:function(e,t,a){},491:function(e,t,a){},492:function(e,t,a){},493:function(e,t,a){},494:function(e,t,a){},495:function(e,t,a){},496:function(e,t,a){},497:function(e,t,a){},498:function(e,t,a){},499:function(e,t,a){},500:function(e,t,a){},501:function(e,t,a){},502:function(e,t,a){},503:function(e,t,a){},506:function(e,t,a){},507:function(e,t,a){},508:function(e,t,a){},509:function(e,t,a){},510:function(e,t,a){},511:function(e,t,a){},512:function(e,t,a){},514:function(e,t,a){},522:function(e,t,a){},523:function(e,t,a){},524:function(e,t,a){},617:function(e,t,a){},618:function(e,t,a){},619:function(e,t,a){},621:function(e,t,a){},622:function(e,t,a){},623:function(e,t,a){},624:function(e,t,a){},625:function(e,t,a){},626:function(e,t,a){},627:function(e,t,a){},628:function(e,t,a){},629:function(e,t,a){},630:function(e,t,a){},631:function(e,t,a){},632:function(e,t,a){},633:function(e,t,a){},634:function(e,t,a){},635:function(e,t){},636:function(e,t,a){},637:function(e,t,a){},639:function(e,t,a){"use strict";a.r(t);var s=a(2),l=a.n(s),c=a(297),r=a.n(c),n=(a(205),a(10)),o=(a(325),a(164),a(9)),i=a(3),d=a.n(i),j=a.p+"static/media/logo.d9b58578.webp",m=(a(344),a(39)),h=a(40);const b=Object(s.createContext)();var u=a(298),p=a.n(u),x=a(6),O=(a(350),a(1));const v=Object(s.createContext)(),g=()=>Object(s.useContext)(v),y=e=>{let{children:t}=e;const[a,l]=Object(s.useState)((()=>{const e=localStorage.getItem("darkMode");return!e||JSON.parse(e)}));return Object(s.useEffect)((()=>{localStorage.setItem("darkMode",JSON.stringify(a))}),[a]),Object(O.jsx)(v.Provider,{value:{darkMode:a,toggleTheme:()=>{l((e=>!e))}},children:t})};var f=function(){const{darkMode:e,toggleTheme:t}=g();return Object(O.jsx)("div",{className:"toggle-container",children:Object(O.jsx)("span",{className:"toggle-switch "+(e?"dark":"light"),onClick:t,children:Object(O.jsx)("span",{className:"icon",children:e?Object(O.jsx)(x.h,{className:"text-dark fs-4"}):Object(O.jsx)(x.m,{className:"text-light fs-4"})})})})},N=a(23);const D=Object(s.createContext)(),k=e=>{let{children:t}=e;const[a,l]=Object(s.useState)(!1);return Object(O.jsx)(D.Provider,{value:{isOpen:a,toggleSidebar:()=>{l(!a)}},children:t})},C=()=>Object(s.useContext)(D);var w="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQEAAAHIAAAAAAQwAABtbnRyUkdCIFhZWiAH4AABAAEAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAACRyWFlaAAABFAAAABRnWFlaAAABKAAAABRiWFlaAAABPAAAABR3dHB0AAABUAAAABRyVFJDAAABZAAAAChnVFJDAAABZAAAAChiVFJDAAABZAAAAChjcHJ0AAABjAAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAHMAUgBHAEJYWVogAAAAAAAAb6IAADj1AAADkFhZWiAAAAAAAABimQAAt4UAABjaWFlaIAAAAAAAACSgAAAPhAAAts9YWVogAAAAAAAA9tYAAQAAAADTLXBhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABtbHVjAAAAAAAAAAEAAAAMZW5VUwAAACAAAAAcAEcAbwBvAGcAbABlACAASQBuAGMALgAgADIAMAAxADb/2wBDABALDA4MChAODQ4SERATGCkbGBYWGDIkJh4pOzQ+PTo0OThBSV5QQUVZRjg5Um9TWWFkaWppP09ze3Jmel5naWX/2wBDARESEhgVGDAbGzBlQzlDZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWX/wAARCAEyATIDASIAAhEBAxEB/8QAGgABAQEBAQEBAAAAAAAAAAAAAAUEAwECBv/EADQQAQACAQEGAggFBQEBAAAAAAABAgMEBRESITFRQWETIjJScXKBkTRCQ6GxI1NiksGC0f/EABQBAQAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwD9+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOWXUYsMevaInt4smTacfp45+MyCgJU7RzT0ikfR5G0c/ak/QFYTabTt+fHE/CWrDrMOXlFuGe1uQNAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACfq9fzmmGfjb/4bQ1Mx/RpPzT/AMTwJmZnfMzMz4yAAAAADVptbfFMVvvtT94VKXrkrFqzvifFBaNHqZwX4bT6luvl5gsB1AAAAAAAAAAAAAAAAAAAAAAAAAAAHPUZYw4bXnw6fF0TtqZOdMcfNIMFpm1pmZ3zPOQAAAAAAAAAVNnZvSYeC0+tT+GxG0WT0epr2tylZAAAAAAAAAAAAAAAAAAAAAAAAAAARtdbi1d/LksoWonfqMk/5SD4AAAAAAAAAAiZiYmOsL9Z4qxPeN6Auaed+nx/LAOgAAAAAAAAAAAAAAAAAAAAAAAAACFqI3ajJH+U/wArqPr68Orv2nmDOAAAAAAAAAAuaeN2nxx/jCHWJtaIjrM7l+scNYiPAHoAAAAAAAAAAAAAAAAAAAAAAAAACftTH7GSPhKg558cZcVqT4wCGPbVmlpraN0xO6XgAAAAAAAANGhx+k1Ne1ecrDJs/D6LDxWj1r8/o1gAAAAAAAAAAAAAAAAAAAAAAAAAAAAw7Q0vHHpaR60e1HdNfoGHV6Djmb4eVvGvcE0e2ralt1omJjwl4AAAAA1aHTTmvF7x6lf3fWm0NskxbLvrXt4yp1rFKxWsbojpAPQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAfGTDjyxuyVizJk2bjn2L2r5TzbgEydm5PC9frveRs3L43p+6oAn02ZH58kz8IasWlxYedaxv7zzl2AAAAAAAAAAAAAAAAAAAAAAAAAAAAACZ3Muo12PD6tfXv2jpCdm1GXNPr25do6ApZddhx8uLjntVlybSyT7FIrHnzYgHa2rz265LfTk5zkvPW9p+r5Ae8dven7nHb3p+7wB7x296fucdven7vAHvHb3p+5x296fu8Ae8d46Wn7vuuozV6Zb/dzAaqbQzV9rht8Yace0cduV6zSfvCYAvUvXJG+lotHk+kCl7UtxUtNZ8m7T7R/Lmj/ANQCiPKWresWrMTE+MPQAAAAAAAAAAAAAAAAAJmIjfPQHlrRWszad0R1mUzVa62TfTFvrTv4y+NZqpzW4a8scfuzAAAAAAAAAAAAAAAAAAA6YM98Ft9J5eMT0lX0+opnpvrymOsdkR9Y8lsV4vSd0wC8OWmz1z4+KOU+MdnUAAAAAAAAAAAAAABg2ln4axhrPOedvg3oWfJ6XNe/eeQPgAAAAAAAAAAAAAAAAAAAAAHbSZ5wZon8s8rLXV+fWNDfj0tJnrHKQaAAAAAAAAAAAAAAc9RbgwZLdqyhq20bcOlmPemISQAAAAAAAAAAAAAAAAAAAAAAFLZVt+O9e0701t2XbdmvXvUFMAAAAAAAAAAAAAGDas+pjr3mZTm7ak/1McdoYQAAAAAAAAAAAAAAAAAAAAAAGjZ87tXXz3wzuukndqsfzAtgAAAAAAAAAAAAAl7T/EV+X/ssbZtP8RX5f+yxgAAAAAAAAAAAAAAAAAAAAAAPvT/iMXzR/L4dNP8AiMfzR/ILgAAAAAAAAAAAAAJ21Kc8d/jDAt6nDGfDNOk9YnzRslLY7zW8bpgHyAAAAAAAAAAAAAAAAAAAAAA76GvFqqeXNwU9naecdZyXjdNukeQNoAAAAAAAAAAAAADlnwY89d145+Ex1h1ASM+iy4t8xHHXvDM/QOGbSYc3O1d0945AjDbk2bevPHaLR2nlLLkw5cft0tH0B8AAAAAAAAAAAAAAA+8eDLl9ikz5+APh7Str2itYmZnwhuxbNnrlvu8qt2LDjxRupWIBk0ugikxfLum3hXwhuAAAAAAAAAAAAAAAAAAAAAHK+mw5Pax1nz3OF9nYZ9mbV+u9sATrbMt+XLE/GHK2z88dOGfhKsAjTotRH6c/SYfE6bNH6V/suAIU4csfp3/1l56LJ/bt9l4BB9Fk/t3/ANZfUYM09MV/9VwBFjSZ56YpfddBqJ61iPjKuAmV2ZefayVj4RvdqbNxR7VrW/ZtAcaaXDj9nHXf3nm7AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//2Q==",A=a(8),S=a.n(A);var E="http://localhost:4000",M=a(28),L=a(651);const T=[{control:"admin",name:"Dashboard",path:"/admin/dashboard"},{control:"admin",name:"Employee List",path:"/admin/employee"},{control:"admin",name:"Salary",path:"/admin/salary"},{control:"admin",name:"My Attendance",path:"/admin/myAttendance"},{control:"admin",name:"Attendance register",path:"/admin/AttendanceRegister"},{control:"admin",name:"TodaysAttendance",path:"/admin/todaysAttendance"},{control:"admin",name:"View Attendance",path:"/admin/viewAttendance"},{control:"admin",name:"Leave Request",path:"/admin/leaveApplication"},{control:"admin",name:"Approved Leaves",path:"/admin/leaveAccepted"},{control:"admin",name:"Rejected Leaves",path:"/admin/leaveRejected"},{control:"admin",name:"Leave Register",path:"/admin/leaveRegister"},{control:"admin",name:"Leave Assign",path:"/admin/leaveAssign"},{control:"admin",name:"Emp Leave Balance",path:"/admin/AllEmpLeave"},{control:"admin",name:"Create New Task",path:"/admin/task"},{control:"admin",name:"Assigned",path:"/admin/taskassign"},{control:"admin",name:"Active Task",path:"/admin/taskActive"},{control:"admin",name:"Cancelled Task",path:"/admin/taskcancle"},{control:"admin",name:"Completed Task",path:"/admin/taskcomplete"},{control:"admin",name:"Rejected Task",path:"/admin/taskreject"},{control:"admin",name:"Role",path:"/admin/role"},{control:"admin",name:"Position",path:"/admin/position"},{control:"admin",name:"Department",path:"/admin/department"},{control:"admin",name:"Company List",path:"/admin/company"},{control:"admin",name:"Country",path:"/admin/country"},{control:"admin",name:"State",path:"/admin/state"},{control:"admin",name:"City",path:"/admin/city"},{control:"admin",name:"Notice",path:"/admin/NoticeManagement"},{control:"admin",name:"Request Open",path:"/admin/requestReceived"},{control:"admin",name:"Request Closed",path:"/admin/requestClosed"},{control:"admin",name:"Leave Calendar",path:"/admin/leaveCal"},{control:"admin",name:"Project Bidding",path:"/admin/project-bid"},{control:"admin",name:"Portal Master",path:"/admin/portal-master"},{control:"hr",name:"Dashboard",path:"/hr/dashboard"},{control:"hr",name:"Employee List",path:"/hr/employee"},{control:"hr",name:"Salary",path:"/hr/salary"},{control:"hr",name:"Company",path:"/hr/company"},{control:"hr",name:"Role",path:"/hr/role"},{control:"hr",name:"Position",path:"/hr/position"},{control:"hr",name:"Department",path:"/hr/department"},{control:"hr",name:"Country",path:"/hr/country"},{control:"hr",name:"State",path:"/hr/state"},{control:"hr",name:"City",path:"/hr/city"},{control:"hr",name:"Leave Application",path:"/hr/leaveApplication"},{control:"hr",name:"Assign Leave",path:"/hr/assignLeave"},{control:"hr",name:"All Employee Leaves",path:"/hr/allEmpLeave"},{control:"hr",name:"Create Leave",path:"/hr/createLeave"},{control:"hr",name:"Leave Accepted",path:"/hr/leaveAccepted"},{control:"hr",name:"Leave Rejected",path:"/hr/leaveRejected"},{control:"hr",name:"New Task",path:"/hr/newTask"},{control:"hr",name:"Active Task",path:"/hr/ActiveTask"},{control:"hr",name:"Task Cancel",path:"/hr/taskcancle"},{control:"hr",name:"Task Complete",path:"/hr/taskcomplete"},{control:"hr",name:"Reject Task",path:"/hr/rejectTask"},{control:"hr",name:"Self Attendance",path:"/hr/attenDance"},{control:"hr",name:"Attendance Register",path:"/hr/AttendanceRegister"},{control:"hr",name:"TodaysAttendance",path:"/hr/todaysAttendance"},{control:"hr",name:"View Attendance",path:"/hr/viewAttenDance"},{control:"hr",name:"Manual Attendance",path:"/hr/manualAttand"},{control:"hr",name:"Notice",path:"/hr/NoticeManagement"},{control:"hr",name:"Raise Request",path:"/hr/request"},{control:"hr",name:"Open Request",path:"/hr/requestOpen"},{control:"hr",name:"Closed Request",path:"/hr/requestClosed"},{control:"hr",name:"Open Team Request",path:"/hr/teamRequestOpen"},{control:"hr",name:"Closed Team Request",path:"/hr/teamRequestClosed"},{control:"hr",name:"Holiday",path:"/hr/holiday"},{control:"hr",name:"Personal Info",path:"/hr/personal-info"},{control:"employee",name:"Dashboard",path:"/employee/dashboard"},{control:"employee",name:"Education",path:"/employee/:id/education"},{control:"employee",name:"Family",path:"/employee/:id/family-info"},{control:"employee",name:"Experience",path:"/employee/:id/work-experience"},{control:"employee",name:"Documents",path:"/employee/document"},{control:"employee",name:"Personal Info",path:"/employee/:id/personal-info"},{control:"employee",name:"Leave Application",path:"/employee/:id/leave-application-emp"},{control:"employee",name:"My Attendance",path:"/employee/MyAttendance"},{control:"employee",name:"Active Task",path:"/employee/activeTask"},{control:"employee",name:"Task Complete",path:"/employee/taskcomplete"},{control:"employee",name:"Task Reject",path:"/employee/taskreject"},{control:"employee",name:"Birthday",path:"/employee/:id/birthday"},{control:"employee",name:"Notification",path:"/employee/notification"},{control:"employee",name:"New Task",path:"/employee/newTask"},{control:"employee",name:"Raise Request",path:"/employee/request"},{control:"employee",name:"Open Request",path:"/employee/requestOpen"},{control:"employee",name:"Closed Request",path:"/employee/requestClosed"},{control:"manager",name:"Dashboard",path:"/manager/dashboard"},{control:"manager",name:"My Attendance",path:"/manager/myAttendance"},{control:"manager",name:"TodaysAttendance",path:"/manager/todaysAttendance"},{control:"manager",name:"View Attendance",path:"/manager/viewAttenDance"},{control:"manager",name:"Create Leave",path:"/manager/createLeave"},{control:"manager",name:"Leave Requests",path:"/manager/leaveApplication"},{control:"manager",name:"Accepted Leave",path:"/manager/leaveApplicationAccepted"},{control:"manager",name:"Rejected Leave",path:"/manager/leaveApplicationRejected"},{control:"manager",name:"Assign New Task",path:"/manager/newTask"},{control:"manager",name:"Active Task",path:"/manager/ActiveTask"},{control:"manager",name:"Cancelled Task",path:"/manager/taskcancle"},{control:"manager",name:"Completed Task",path:"/manager/taskcomplete"},{control:"manager",name:"Rejected Task",path:"/manager/rejectTask"},{control:"manager",name:"Notice",path:"/manager/NoticeManagement"},{control:"manager",name:"Raise Request",path:"/manager/request"},{control:"manager",name:"Open Request",path:"/manager/requestOpen"},{control:"manager",name:"Closed Request",path:"/manager/requestClosed"},{control:"manager",name:"Open Team Request",path:"/manager/teamRequestOpen"},{control:"manager",name:"Closed Team Request",path:"/manager/teamRequestClosed"},{control:"manager",name:"Personal Info",path:"/manager/personal-info"},{control:"manager",name:"Holiday Calendar",path:"/manager/holiday"}];var F=a(48),P=(a(352),a(4));var I=()=>{const[e,t]=Object(s.useState)(""),{userData:a}=Object(P.c)((e=>e.user)),[l,c]=Object(s.useState)(!1),[r,i]=Object(s.useState)(-1),j=Object(s.useRef)(null),[m,h]=Object(s.useState)({}),b=null===a||void 0===a?void 0:a._id,u=Object(o.p)(),{darkMode:p}=g();Object(s.useEffect)((()=>{d.a.get(`${E}/api/particularEmployee/${b}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{h(e.data)})).catch((e=>{console.log(e)}))}),[]);const x=()=>{t(""),c(!1)},v=e?T.filter((t=>{const a=t.name.toLowerCase().includes(e.toLowerCase()),s=(()=>{switch(m.Account){case 1:return"admin"===t.control;case 2:return"hr"===t.control;case 3:return"employee"===t.control;case 4:return"manager"===t.control;default:return!1}})();return a&&s})).slice(0,5):[];return Object(s.useEffect)((()=>{const e=e=>{j.current&&!j.current.contains(e.target)&&(t(""),c(!1))};return document.body.addEventListener("click",e),()=>{document.body.removeEventListener("click",e)}}),[]),Object(O.jsxs)("div",{className:"mx-2",style:{width:"210px",height:"2.2rem",position:"relative"},ref:j,children:[Object(O.jsx)(M.a.Control,{className:"border-0 outline-0 borderless-input "+(p?"dark-placeholder":"light-placeholder"),placeholder:"Search",style:{height:"2.3rem",paddingLeft:"2.3rem",borderRadius:v.length>0?"8px 8px 0 0":"8px",background:p?"white":"black",color:p?"black":"white"},value:e,onChange:e=>{t(e.target.value),i(-1)},onKeyDown:e=>{"ArrowDown"===e.key?i((e=>Math.min(e+1,v.length-1))):"ArrowUp"===e.key?i((e=>Math.max(e-1,0))):"Enter"===e.key&&r>=0&&(e.preventDefault(),u.push(v[r].path),t(""),c(!1))}}),Object(O.jsx)(F.b,{style:{position:"absolute",top:".5rem",left:".4rem",fontSize:"1.2rem",opacity:"60%",color:p?"black":"white"}}),v.length>0?Object(O.jsx)(L.a,{className:"py-2 px-1",style:{position:"absolute",width:"100%",borderRadius:"0 0 8px 8px",zIndex:"2000",background:p?"white":"black"},children:v.map(((e,t)=>Object(O.jsx)(n.a,{style:{textDecorationLine:"none",width:"100%"},to:e.path,onClick:x,children:Object(O.jsx)("div",{style:{textDecorationLine:"none",backgroundColor:t===r?"#abcdf56f":"transparent",boxShadow:t===r?"0 2px 3px 2px rgba(0,0,0,.2)":"none",padding:"5px",color:p?"black":"white"},className:"search-hoverable-text",children:e.name})},t)))}):Object(O.jsx)("div",{children:e&&l&&Object(O.jsx)("span",{style:{position:"absolute",width:"210px",textAlign:"start"},className:"bg-white shadow-sm border rounded-0 py-1 px-3",children:"No result found"})})]})},R=a(52),$=a(16);var z=()=>{const e=Object(o.p)(),t=Object(o.n)(),{darkMode:a}=g(),{userData:s}=Object(P.c)((e=>e.user)),l=null===s||void 0===s?void 0:s.Account,c=1==l&&"/admin/dashboard"===t.pathname||2==l&&"/hr/dashboard"===t.pathname||3==l&&"/manager/dashboard"===t.pathname||4==l&&"/employee/dashboard"===t.pathname;return Object(O.jsx)("div",{children:!c&&Object(O.jsxs)("span",{style:{cursor:"pointer",color:a?"black":"white"},className:"py-1 px-2 d-flex align-items-center gap-2",onClick:()=>e(-1),children:[Object(O.jsx)($.i,{})," Back"]})})},q=a(27);const B=Object(q.c)({name:"user",initialState:{userData:null,error:null,notification:[],messageData:{taskId:null,to:null}},reducers:{},extraReducers:e=>{e.addCase(_.fulfilled,((e,t)=>{e.userData=t.payload,e.notification=t.payload.Notification})).addCase(_.rejected,((e,t)=>{e.error=t.payload})).addCase(H.fulfilled,((e,t)=>{e.notification=t.payload})).addCase(U.fulfilled,((e,t)=>{e.notification=t.payload.notifications,e.messageData=t.payload.messageData})).addCase(U.rejected,((e,t)=>{e.error=t.payload})).addCase(W.fulfilled,((e,t)=>{e.notification=t.payload.notifications})).addCase(W.rejected,((e,t)=>{e.error=t.payload}))}}),_=Object(q.b)("user/userInfo",(async(e,t)=>{let{_id:a}=e;try{return(await d.a.get(`${E}/api/userData/${a}`,{headers:{authorization:localStorage.getItem("token")||""}})).data}catch(l){var s;return t.rejectWithValue((null===(s=l.response)||void 0===s?void 0:s.data)||"Failed to fetch user info")}})),H=Object(q.b)("user/notificationAdd",((e,t)=>[e,...t.getState().user.notification])),U=Object(q.b)("user/NotificationStatusUpdate",(async(e,t)=>{let{id:a,val:s}=e;console.log(t.getState().user);try{await d.a.post(`${E}/api/notificationStatusUpdate/${a}`,{email:t.getState().user.userData.Email},{headers:{authorization:localStorage.getItem("token")||""}});const e=t.getState().user.notification.map((e=>e.taskId===a?{...e,status:"seen"}:e));return{notifications:e,messageData:{taskId:s.taskIden,to:s.to}}}catch(c){var l;return t.rejectWithValue((null===(l=c.response)||void 0===l?void 0:l.data)||"Failed to change status")}})),W=Object(q.b)("user/notificationDelete",(async(e,t)=>{try{console.log(t.getState());await d.a.post(`${E}/api/notificationDeleteHandler/${e}`,{email:t.getState().user.userData.Email},{headers:{authorization:localStorage.getItem("token")||""}});const a=t.getState().user.notification.filter((t=>t.taskId!==e));return console.log(a),{notifications:a}}catch(s){var a;return console.log(s),t.rejectWithValue((null===(a=s.response)||void 0===a?void 0:a.data)||"Failed to change status")}}));var G=B.reducer,Y=a(93),V=a(29),J=a(302),Z=a.n(J);const X=Object(q.c)({name:"department",initialState:{departments:[],loading:!0},reducers:{departmentUpdate(e,t){e.departments=t.payload.department,e.loading=!1}}});var Q=X.reducer;const K=Object(q.b)("attendance/fetchAttendanceData",(async()=>(await d.a.get(`${E}/api/todays-attendance`)).data));var ee=Object(q.c)({name:"Todaysattendance",initialState:{attendanceData:[],status:"idle",error:null},reducers:{},extraReducers:e=>{e.addCase(K.pending,(e=>{e.status="loading"})).addCase(K.fulfilled,((e,t)=>{e.status="succeeded",e.attendanceData=t.payload})).addCase(K.rejected,((e,t)=>{e.status="failed",e.error=t.error.message}))}}).reducer;const te=Object(q.b)("holidays/fetchHolidays",(async()=>(await d.a.get(`${E}/api/holidays`)).data));var ae=Object(q.c)({name:"holidays",initialState:{holidaysData:[],status:"idle",error:null},reducers:{},extraReducers:e=>{e.addCase(te.pending,(e=>{e.status="loading"})).addCase(te.fulfilled,((e,t)=>{e.status="succeeded",e.holidaysData=t.payload})).addCase(te.rejected,((e,t)=>{e.status="failed",e.error=t.error.message}))}}).reducer;const se=Object(q.b)("employee/fetchEmployees",(async()=>(await d.a.get(`${E}/api/employee`,{headers:{authorization:localStorage.getItem("token")||""}})).data));var le=Object(q.c)({name:"employee",initialState:{employees:[],status:"idle",error:null},reducers:{},extraReducers:e=>{e.addCase(se.pending,(e=>{e.status="loading"})).addCase(se.fulfilled,((e,t)=>{e.status="succeeded",e.employees=t.payload})).addCase(se.rejected,((e,t)=>{e.status="failed",e.error=t.error.message}))}}).reducer;const ce=Object(q.b)("personalInfo/fetchPersonalInfo",(async(e,t)=>{let{rejectWithValue:a}=t;try{return(await d.a.get(`${E}/api/personal-info/${e}`,{headers:{authorization:localStorage.getItem("token")||""}})).data}catch(s){return a("Error fetching personal info. Please try again later.")}}));var re=Object(q.c)({name:"personalInfo",initialState:{empData:null,email:"",error:null,loading:!1},reducers:{},extraReducers:e=>{e.addCase(ce.pending,(e=>{e.loading=!0,e.error=null})).addCase(ce.fulfilled,((e,t)=>{e.loading=!1,e.empData=t.payload,e.email=t.payload.Email})).addCase(ce.rejected,((e,t)=>{e.loading=!1,e.error=t.payload}))}}).reducer;const ne=Object(q.b)("tasks/fetchTasks",(async(e,t)=>{let{rejectWithValue:a}=t;try{return(await d.a.get(`${E}/api/tasks`)).data}catch(s){return a("Error fetching tasks. Please try again later.")}}));var oe=Object(q.c)({name:"tasks",initialState:{tasks:[],loading:!0,error:null},reducers:{},extraReducers:e=>{e.addCase(ne.pending,(e=>{e.loading=!0,e.error=null})).addCase(ne.fulfilled,((e,t)=>{e.loading=!1,e.tasks=t.payload})).addCase(ne.rejected,((e,t)=>{e.loading=!1,e.error=t.payload}))}}).reducer,ie=a(303),de=a.n(ie);const je=Object(q.b)("login/loginUser",(async(e,t)=>{try{const a=await d.a.post(`${E}/api/login`,e);localStorage.setItem("token",a.data);const s=de.a.decode(a.data);return t.dispatch(me({employeeId:s._id,attendanceId:s.attendanceObjID,status:"login"})),t.dispatch(_(s)),s}catch(s){var a;return t.rejectWithValue((null===(a=s.response)||void 0===a?void 0:a.data)||"Login failed")}})),me=Object(q.b)("login/attendanceInfo",(async(e,t)=>{let{employeeId:a,attendanceId:s,status:l}=e;try{console.log(s,a);return(await d.a.post(`${E}/api/attendance/${s}`,{employeeId:a,status:l},{headers:{authorization:localStorage.getItem("token")||""}})).data.message}catch(n){var c,r;return t.rejectWithValue((null===(c=n.response)||void 0===c||null===(r=c.data)||void 0===r?void 0:r.error)||"Failed to mark user attendance")}}));var he=Object(q.c)({name:"login",initialState:{loginInfo:null,loginError:"",attednaceInfo:null,attednaceError:""},reducers:{},extraReducers:e=>{e.addCase(je.pending,(e=>{e.loginError=""})).addCase(je.fulfilled,((e,t)=>{const a=t.payload;e.loginInfo=a,e.loginError=""})).addCase(je.rejected,((e,t)=>{e.loginError=t.payload})).addCase(me.fulfilled,((e,t)=>{e.attednaceInfo=t.payload})).addCase(me.rejected,((e,t)=>{e.attednaceError=t.payload}))}}).reducer;const be={key:"root",storage:Z.a,keyPrefix:"redux-",whitelist:["user"]},ue=Object(V.b)({department:Q,attendance:ee,holidays:ae,employee:le,personalInfo:re,tasks:oe,login:he,user:G}),pe=Object(q.a)({reducer:Object(Y.a)(be,ue),middleware:e=>e({serializableCheck:!1,immutableCheck:!1})}),{dispatch:xe}=(Object(Y.b)(pe),pe);P.c;var Oe=a(105);var ve=(e,t)=>{const a=Object(Y.b)(pe),[l,c]=Object(s.useState)(null),r=Object(P.b)(),i=Object(o.p)(),{darkMode:u}=g(),x=Object(o.n)().pathname.split("/")[1],v=Object(o.n)().pathname,{userData:y}=Object(P.c)((e=>e.user));Object(s.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("token");if(!e)return void i("/");const t=(e=>{if(3!==e.split(".").length)return localStorage.clear(),void i("/");try{return Object(Oe.a)(e)}catch(t){return localStorage.clear(),i("/"),null}})(e);if(console.log(t),!t||!t.Account)return void i("/");if((null===y||void 0===y?void 0:y.Account)!==t.Account)return localStorage.clear(),await a.purge(),void i("/");const s={_id:null===y||void 0===y?void 0:y._id,Account:null===y||void 0===y?void 0:y.Account};await d.a.post(`${E}/api/verifyAccount`,s,{headers:{authorization:e}})}catch(s){var e,t;console.error("Error during verification:",s),"Unauthorized Access"===(null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)?(await a.purge(),i("/")):console.error("Account verification failed:",s)}})()}),[v,y]);const[D,k]=Object(s.useState)([]),[S,M]=Object(s.useState)(""),[L,T]=Object(s.useState)(!1),{socket:F}=Object(s.useContext)(b),{toggleSidebar:$}=C(),[q,B]=Object(s.useState)(!0),_=null===y||void 0===y?void 0:y._id,H=null===y||void 0===y?void 0:y.Email,U=e=>{p()({title:"Kasper",subtitle:e,duration:4e3,icon:j,native:!0})},W=()=>{d.a.get(`${E}/api/particularEmployee/${_}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{M(e.data),k(e.data.Notification)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{W()}),[]);Object(s.useEffect)((()=>{F.emit("userConnected",{email:H}),"Notification"in window&&Notification.requestPermission().then((e=>{"granted"===e&&console.log("Notification permission granted")})),F&&(F.on("taskNotificationReceived",(e=>{if(console.log(e.Account),4===e.Account)e.managerEmail===H&&(k((t=>[e,...t])),U(e.message));else if(2===e.Account||3===e.Account){console.log(e),e.employeesEmail.filter((t=>t===H&&t!==e.senderMail)).length>0&&(k((t=>[e,...t])),U(e.message))}else 1===e.Account&&(console.log(e),e.adminMail===H&&(k((t=>[e,...t])),U(e.message)))})),F.on("notificationPageUpdate",(e=>{e&&W()})),F.on("leaveNotificationReceived",(e=>{const{message:t,status:a,path:s,taskId:l,managerEmail:c,hrEmail:r,messageBy:n,profile:o}=e,i={message:t,status:a,path:s,taskId:l,managerEmail:c,hrEmail:r,messageBy:n,profile:o};k((e=>[i,...e])),U(i.message)})),F.on("leaveManagerStatusNotificationReceived",(e=>{const{message:t,status:a,path:s,taskId:l,employeeEmail:c,hrEmail:r,managerEmail:n,messageBy:o,profile:i}=e;if("employee"===x){const e={message:t,status:a,path:s,taskId:l,employeeEmail:c,hrEmail:r,messageBy:o,profile:i};k((t=>[e,...t])),U(e.message)}else if("hr"===x){const e={message:t,status:a,path:s,taskId:l,employeeEmail:c,hrEmail:r,messageBy:o,profile:i};k((t=>[e,...t])),U(e.message)}else if("manager"===x){const e={message:t,status:a,path:s,taskId:l,employeeEmail:c,managerEmail:n,messageBy:o,profile:i};k((t=>[e,...t])),U(e.message)}})))}),[F]);let G=D.filter(((e,t,a)=>"unseen"===e.status&&a.findIndex((t=>t.taskId===e.taskId))===t));const V=e=>{q&&(e=>{if(e){const{message:t}=e;A.toast.success(t,{duration:2e3,position:"top-right",style:{color:"green",backgroundColor:"white",boxShadow:"0px 2px 10px rgba(0, 0, 0, 0.1)",borderRadius:"4px",zIndex:"9999"},toastClassName:"custom-toast"})}})(e)},J=e=>{q&&(e=>{if(e){const{message:t}=e;A.toast.error(t,{duration:2e3,position:"top-right",style:{color:"white",backgroundColor:"red",boxShadow:"0px 2px 10px rgba(0, 0, 0, 0.1)",borderRadius:"4px",zIndex:"9999"},toastClassName:"custom-toast"})}})(e)};Object(s.useEffect)((()=>(F.on("userLogin",V),F.on("userLogout",J),()=>{F.off("userLogin",V),F.off("userLogout",J)})),[]);return Object(O.jsxs)("nav",{style:{height:"100%"},className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("button",{onClick:()=>{$()},style:{color:u?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)",fontSize:"2.2rem"},className:"btn d-flex d-sm-none align-iems-center",children:Object(O.jsx)(N.c,{})}),Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between w-100",children:[Object(O.jsx)(z,{}),Object(O.jsxs)("div",{className:"ms-auto gap-2 d-flex align-items-center ",children:[Object(O.jsx)(I,{}),Object(O.jsx)(f,{}),Object(O.jsxs)("div",{className:"position-relative",onMouseEnter:()=>T("name"),onMouseLeave:()=>T(!1),children:[D.length>0&&Object(O.jsx)("div",{className:"notilenghth text-muted",style:{display:G.length<=0?"none":"flex",height:"fit-content",width:"fit-content",minWidth:"18px",minHeight:"18px",position:"absolute",top:"-30%",right:"-35%",borderRadius:"50% 50% 50% 0",objectFit:"cover",fontSize:".8rem",padding:"0 .1rem",background:"#e2cd12f1"},children:Object(O.jsx)("span",{className:"m-auto",children:G.length})}),Object(O.jsx)(R.b,{style:{fontSize:"22px",color:u?"black":"white"},className:""})," ",D.length>0&&Object(O.jsx)("div",{className:"position-relative",children:Object(O.jsx)("div",{style:{position:"absolute",zIndex:"2001",right:".5rem",top:"100%",minWidth:"230px",maxWidth:"250px",display:"name"==L?"flex":"none"},className:"border border-muted border-1 flex-column w-100 bg-white align-items-center gap-1 justify-content-between  p-1 rounded-2  shadow",children:L&&D.length>0&&D.filter(((e,t,a)=>a.findIndex((t=>t.taskId===e.taskId))===t)).slice(0,10).map(((e,t)=>{return Object(O.jsxs)("div",{style:{cursor:"pointer"},className:"unseen"===e.status?"d-flex align-items-center justify-content-between p-1 w-100 back":"d-flex align-items-center justify-content-between p-1 w-100",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2 cursor-pointer ",onClick:"unseen"===e.status?()=>((e,t)=>{d.a.post(`${E}/api/notificationStatusUpdate/${e}`,{email:H},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{M(e.data.result),k(e.data.result.Notification),i(`/${x}/${t}`)})).catch((e=>{console.log(e)}))})(e.taskId,e.path):()=>i(`/${x}/${e.path}`),children:[Object(O.jsx)("div",{style:{height:"25px",width:"25px",overflow:"hidden"},children:Object(O.jsx)("img",{style:{height:"100%",width:"100%",objectFit:"cover",overflow:"hidden",borderRadius:"50%"},src:e.profile?e.profile:w,alt:""})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{style:{fontSize:".75rem"},className:"p-0 m-0 w-100 text-muted",children:(a=e.message,a.length>15?a.substring(0,15)+"...":a)}),Object(O.jsx)("p",{style:{fontSize:".80rem"},className:"p-0 m-0 w-100",children:e.messageBy})]})]}),Object(O.jsx)("div",{className:"d-flex align-items-center gap-1",children:Object(O.jsx)("span",{style:{fontSize:"1rem",height:"1.2rem",width:"1.2rem",borderRadius:"50%"},className:"d-flex align-items-center text-danger  fw-bold justify-content-center",onClick:t=>((e=>{d.a.post(`${E}/api/notificationDeleteHandler/${e}`,{email:H},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{M(e.data.result),k(e.data.result.Notification)})).catch((e=>{console.log(e)}))})(e.taskId),t.stopPropagation()),children:"x"})})]});var a}))})})]}),Object(O.jsxs)("span",{className:"navbar-right-content my-auto d-flex",children:[Object(O.jsxs)("div",{onMouseEnter:()=>c("name"),onMouseLeave:()=>c(null),style:{height:"30px",width:"30px",borderRadius:"50%",position:"relative"},children:[Object(O.jsx)("img",{style:{height:"100%",width:"100%",objectFit:"cover",border:"1px solid red",borderRadius:"50%"},src:S.profile?S.profile.image_url:w,alt:""}),Object(O.jsxs)("div",{className:"bg-white shadow pb-3 pt-1 px-3 flex-column gap-3",style:{position:"absolute",zIndex:"1000",width:"fit-content",right:"0",top:"90%",display:"name"===l?"flex":"none"},children:[Object(O.jsxs)("span",{children:[Object(O.jsx)("p",{style:{width:"fit-content",fontSize:".8rem"},className:"m-0",children:(e=>{switch(e){case 1:return"Admin";case 2:return"Hr";case 4:return"Manager";default:return"Employee"}})(null===y||void 0===y?void 0:y.Account)}),Object(O.jsxs)("p",{className:"m-0 p-0",children:[Object(O.jsx)("span",{className:"text-capitalize m-0 p-0",children:`${null===y||void 0===y?void 0:y.FirstName} ${null===y||void 0===y?void 0:y.LastName}`})," "]}),Object(O.jsx)("p",{title:null===y||void 0===y?void 0:y.Email,className:"m-0 text-muted p-0",children:(Z=null===y||void 0===y?void 0:y.Email,Z.length>20?Z.toString().slice(0,20)+"...":Z)})]}),"admin"===x?Object(O.jsx)(O.Fragment,{}):Object(O.jsx)(n.a,{className:"text-decoration-none text-black",to:"employee"===x?`/employee/${_}/personal-info`:`/${x}/personal-info`,children:Object(O.jsx)("span",{children:" My Profile"})}),Object(O.jsxs)("button",{onClick:async()=>{try{if(r(me({employeeId:y._id,status:"logout"})),localStorage.clear(),await a.purge(),window.location.href="/",y){if(F.emit("logoutUser",{manager:y.reportHr||y.reportManager,user:y.Email}),!y.Email)return void alert("Please select an employee");alert("Logout time recorded successfully")}}catch(e){console.error("Error during logout:",e)}},style:{cursor:"pointer"},className:"btn btn-danger d-flex align-items-center justify-content-between",children:["Logout",Object(O.jsx)(m.a,{className:"my-auto fs-6",icon:h.d})]})]})]}),Object(O.jsx)("span",{className:"text-muted"})]})]})]})]});var Z},ge=a(26);var ye=()=>{const[e,t]=Object(s.useState)(null);return Object(s.useEffect)((()=>{const e=navigator.userAgent;e.indexOf("Chrome")>-1&&-1===e.indexOf("Edg")&&-1===e.indexOf("OPR")?t(Object(O.jsxs)("span",{children:[Object(O.jsx)(ge.a,{})," Chrome"]})):e.indexOf("Firefox")>-1?t(Object(O.jsxs)("span",{children:[Object(O.jsx)(ge.e,{})," Firefox"]})):e.indexOf("Edg")>-1?t(Object(O.jsxs)("span",{children:[Object(O.jsx)(ge.b,{})," Edge"]})):e.indexOf("Safari")>-1&&-1===e.indexOf("Chrome")?t(Object(O.jsxs)("span",{children:[Object(O.jsx)(ge.k,{})," Safari"]})):e.indexOf("OPR")>-1||e.indexOf("Opera")>-1?t(Object(O.jsxs)("span",{children:[Object(O.jsx)(ge.g,{})," Opera"]})):e.indexOf("MSIE")>-1||e.indexOf("Trident")>-1?t(Object(O.jsxs)("span",{children:[Object(O.jsx)(ge.f,{})," Explorer"]})):t(Object(O.jsx)("span",{children:"Unknown Browser"}))}),[]),e};var fe=()=>{const[e,t]=Object(s.useState)(null);return Object(s.useEffect)((()=>{fetch("https://api.ipify.org?format=json").then((e=>e.json())).then((e=>t(e.ip))).catch((e=>console.error("Error fetching IP address:",e)))}),[]),e?Object(O.jsxs)("span",{children:["IP: ",e]}):null};var Ne=()=>{const[e,t]=Object(s.useState)({lat:null,lon:null});return Object(s.useEffect)((()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition((e=>{t({lat:e.coords.latitude,lon:e.coords.longitude})}),(e=>console.error("Error fetching geolocation:",e)))}),[]),e.lat&&e.lon?Object(O.jsxs)("span",{className:"d-flex align-items-center gap-1",children:[Object(O.jsx)("span",{className:"d-md-none d-flex",children:Object(O.jsx)(F.e,{})}),Object(O.jsx)("span",{className:"d-none d-md-flex",children:"Location:"})," ",e.lat.toFixed(2),", ",e.lon.toFixed(2)]}):null},De=a(25);var ke=()=>{const[e,t]=Object(s.useState)(navigator.onLine);return Object(s.useEffect)((()=>{const e=()=>{t(navigator.onLine)};return window.addEventListener("online",e),window.addEventListener("offline",e),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}}),[]),e?Object(O.jsx)(De.d,{}):Object(O.jsx)(De.e,{})};var Ce=()=>{const[e,t]=Object(s.useState)(new Date);Object(s.useEffect)((()=>{const e=setInterval((()=>{t(new Date)}),1e3);return()=>{clearInterval(e)}}),[]);const a=e.toLocaleDateString(void 0,{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});return Object(O.jsx)("span",{className:"text-capitalize",children:a})};var we=()=>{const{darkMode:e}=g();return Object(O.jsxs)("div",{style:{backgroundColor:e?"var(--primaryDashMenuColor)":"var(--primaryDashColorDark)",color:e?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"d-flex justify-content-center align-items-center gap-5 p-2",children:[Object(O.jsx)("span",{className:"d-none d-md-flex",children:Object(O.jsx)(Ce,{})}),Object(O.jsx)(ke,{}),Object(O.jsx)(ye,{}),Object(O.jsx)(fe,{}),Object(O.jsx)(Ne,{})]})},Ae=a(33),Se=a.p+"static/media/logo.5ac7d223.png",Ee=a(18),Me=(a(473),a(649)),Le=a(304),Te=a(19),Fe=a(49),Pe=a(31),Ie=a(35),Re=a(62),$e=a(75);const ze={width:"250px",zIndex:"5",borderLeft:"5px solid white"};var qe=()=>{const[e,t]=Object(s.useState)(null),{userData:a}=Object(P.c)((e=>e.user)),[l,c]=Object(s.useState)(!1),{darkMode:r}=g(),o=[{user:1,icon:Object(O.jsx)(x.t,{}),name:"Dashboard",navLinks:[{to:"/admin/dashboard",label:"Dashboard"}]},{user:1,icon:Object(O.jsx)(F.c,{}),name:"Employee",navLinks:[{to:"/admin/employee",label:"Employee List"}]},{user:1,icon:Object(O.jsx)(x.g,{}),name:"Salary",navLinks:[{to:"/admin/salary",label:"Salary"}]},{user:1,icon:Object(O.jsx)(Te.g,{}),name:"Attendance",navLinks:[{to:"/admin/myAttendance",label:"My Attendance"},{to:"/admin/todaysAttendance",label:"Todays Attendance"},{to:"/admin/viewAttendance",label:"View Attendance"},{to:"/admin/AttendanceRegister",label:"Attendance Register"},{to:"/admin/updateAttendance",label:"Update Attencance"}]},{user:1,icon:Object(O.jsx)($.c,{}),name:"Leave",navLinks:[{to:"/admin/leaveApplication",label:"Leave Request"},{to:"/admin/leaveAccepted",label:"Approved Leaves "},{to:"/admin/leaveRejected",label:"Rejected Leaves "},{to:"/admin/leaveRegister",label:"Leave Register"},{to:"/admin/leaveAssign",label:"Leave Assign"},{to:"/admin/AllEmpLeave",label:"Emp Leave Balance"}]},{user:1,icon:Object(O.jsx)(Ae.e,{}),name:"Task",navLinks:[{to:"/admin/task",label:"Create New Task"},{to:"/admin/taskassign",label:"Assigned"},{to:"/admin/taskActive",label:"Active Task"},{to:"/admin/taskcancle",label:"Cancelled Task"},{to:"/admin/taskcomplete",label:"Completed Task"},{to:"/admin/taskreject",label:"Rejected Task"}]},{user:1,icon:Object(O.jsx)(N.a,{}),name:"Access",navLinks:[{to:"/admin/role",label:"Role"},{to:"/admin/position",label:"Position"},{to:"/admin/department",label:"Department"}]},{user:1,icon:Object(O.jsx)(Fe.c,{}),name:"Company",navLinks:[{to:"/admin/company",label:"Company List"}]},{user:1,icon:Object(O.jsx)($.l,{}),name:"Address",navLinks:[{to:"/admin/country",label:"Country"},{to:"/admin/state",label:"State"},{to:"/admin/city",label:"City"}]},{user:1,icon:Object(O.jsx)(Pe.c,{}),name:"Notice",navLinks:[{to:"/admin/NoticeManagement",label:"Notice"}]},{user:1,icon:Object(O.jsx)(Te.d,{}),name:"Request Details",navLinks:[{to:"/admin/requestReceived",label:"Request Open"},{to:"/admin/requestClosed",label:"Request Closed"}]},{user:1,icon:Object(O.jsx)(N.d,{}),name:"Holiday",navLinks:[{to:"/admin/leaveCal",label:"Leave Calendar"}]},{user:1,icon:Object(O.jsx)(Ee.c,{}),name:"Project",navLinks:[{to:"/admin/project-bid",label:"Project Bidding"},{to:"/admin/portal-master",label:"Portal Master"}]},{user:2,icon:Object(O.jsx)(N.b,{}),name:"Dashboard",navLinks:[{to:"/hr/dashboard",label:"Dashboard"}]},{user:2,icon:Object(O.jsx)($e.c,{}),name:"Employee",navLinks:[{to:"/hr/employee",label:"Employee List"}]},{user:2,icon:Object(O.jsx)($.d,{}),name:"Salary",navLinks:[{to:"/hr/salary",label:"Salary"}]},{user:2,icon:Object(O.jsx)(R.e,{}),name:"Attendance",navLinks:[{to:"/hr/attenDance",label:"Self Attendance"},{to:"/hr/AttendanceRegister",label:"Attendance Register"},{to:"/hr/todaysAttendance",label:"Todays Attendance"},{to:"/hr/viewAttenDance",label:"View Attendance"},{to:"/hr/manualAttand",label:"Manual Attendance"},{to:"/hr/updateAttendance",label:"Update Attencance"}]},{user:2,icon:Object(O.jsx)(R.a,{}),name:"Leave",navLinks:[{to:"/hr/createLeave",label:"Apply Leave"},{to:"/hr/leaveApplication",label:"Pending "},{to:"/hr/leaveAccepted",label:"Accepted "},{to:"/hr/leaveRejected",label:"Rejected "},{to:"/hr/leaveRegister",label:"Leave Register "},{to:"/hr/assignLeave",label:"Assign Leave"},{to:"/hr/allEmpLeave",label:"Emp Leave Balance"}]},{user:2,icon:Object(O.jsx)(x.r,{}),name:"Access",navLinks:[{to:"/hr/role",label:"Role"},{to:"/hr/position",label:"Position"},{to:"/hr/department",label:"Department"}]},{user:2,icon:Object(O.jsx)(Fe.c,{}),name:"Company",navLinks:[{to:"/hr/company",label:"Company List"}]},{icon:Object(O.jsx)(x.x,{}),name:"Address",navLinks:[{to:"/hr/country",label:"Country"},{to:"/hr/state",label:"State"},{to:"/hr/city",label:"City"}]},{user:2,icon:Object(O.jsx)(Pe.c,{}),name:"Notice",navLinks:[{to:"/hr/NoticeManagement",label:"Notice"}]},{user:2,icon:Object(O.jsx)($.q,{}),name:"My Request",navLinks:[{to:"/hr/request",label:"Raise Request"},{to:"/hr/requestOpen",label:"Open Request"},{to:"/hr/requestClosed",label:"Closed Request"}]},{user:2,icon:Object(O.jsx)(Te.d,{}),name:"Team Request",navLinks:[{to:"/hr/teamRequestOpen",label:"Open Request"},{to:"/hr/teamRequestClosed",label:"Closed Request"}]},{user:2,icon:Object(O.jsx)(Re.b,{}),name:"Holiday",navLinks:[{to:"/hr/holiday",label:"Holiday Calendar"}]},{user:2,icon:Object(O.jsx)(Ie.e,{}),name:"Profile",navLinks:[{to:"/hr/personal-info",label:"Profile"}]},{user:4,icon:Object(O.jsx)(x.t,{}),name:"Dashboard",navLinks:[{to:"/manager/dashboard",label:"Dashboard"}]},{user:4,icon:Object(O.jsx)(Te.g,{}),name:"Attendance",navLinks:[{to:"/manager/myAttendance",label:"My Attencance"},{to:"/manager/todaysAttendance",label:"TodaysAttendance"},{to:"/manager/viewAttenDance",label:"View Attendance"}]},{user:4,icon:Object(O.jsx)($.c,{}),name:"Leave",navLinks:[{to:"/manager/createLeave",label:"My Leave"},{to:"/manager/leaveApplication",label:"Leave Requests"},{to:"/manager/leaveApplicationAccepted",label:"Accepted Leave "},{to:"/manager/leaveApplicationRejected",label:"Rejected Leave "}]},{user:4,icon:Object(O.jsx)(Ae.e,{}),name:"Task",navLinks:[{to:"/manager/newTask",label:"Assign New Task"},{to:"/manager/ActiveTask",label:"Active Task"},{to:"/manager/taskcancle",label:"Cancelled Task"},{to:"/manager/taskcomplete",label:"Completed Task"},{to:"/manager/rejectTask",label:"Rejected Task"}]},{user:4,icon:Object(O.jsx)(Pe.c,{}),name:"Notice",navLinks:[{to:"/manager/NoticeManagement",label:"Notice"}]},{user:4,icon:Object(O.jsx)($.q,{}),name:"My Request",navLinks:[{to:"/manager/request",label:"Raise Request"},{to:"/manager/requestOpen",label:"Open Request"},{to:"/manager/requestClosed",label:"Closed Request"}]},{user:4,icon:Object(O.jsx)(Te.d,{}),name:"Team Request",navLinks:[{to:"/manager/teamRequestOpen",label:"Open Request"},{to:"/manager/teamRequestClosed",label:"Closed Request"}]},{user:4,icon:Object(O.jsx)(ge.j,{}),name:"Profile",navLinks:[{to:"/manager/personal-info",label:"Profile"}]},{user:3,icon:Object(O.jsx)(x.t,{}),name:"Dashboard",navLinks:[{to:"/employee/dashboard",label:"Dashboard"}]},{user:3,icon:Object(O.jsx)(Ie.e,{}),name:"Profile",navLinks:[{to:"/employee/"+(null===a||void 0===a?void 0:a._id)+"/personal-info",label:"Profile"}]},{user:3,icon:Object(O.jsx)(Te.g,{className:"fs-4"}),name:"Attendance",navLinks:[{to:"/employee/MyAttendance",label:"View Attendance"}]},{user:3,icon:Object(O.jsx)($.c,{}),name:"Leave",navLinks:[{to:"/employee/leaveApplication",label:"Apply Leave"}]},{user:3,icon:Object(O.jsx)(Ae.e,{}),name:"Task",navLinks:[{to:"/employee/task",label:"Task"}]},{user:3,icon:Object(O.jsx)($.q,{}),name:"Request",navLinks:[{to:"/employee/request",label:"Raise Request"},{to:"/employee/requestOpen",label:"Open Request"},{to:"/employee/requestClosed",label:"Closed Request"}]}];return Object(O.jsxs)("div",{style:{minHeight:"100vh",maxHeight:"100vh",overflowY:"auto",overflow:"inherit",width:"fit-content",borderRight:"1px solid rgba(90, 88, 88, 0.1)",backgroundColor:r?"var(--primaryDashMenuColor)":"var(--primaryDashColorDark)",padding:".5rem 1rem .5rem .5rem"},className:"d-none d-sm-flex flex-column gap-2",children:[Object(O.jsxs)("h3",{style:{borderBottom:"2px solid #DE4E26",height:"7vh"},className:"text-success  justify-content-between d-flex gap-2",children:[Object(O.jsx)("button",{style:{display:e||l?"block":"none",cursor:"none"},className:" btn text-white rounded-0 py-0",children:Object(O.jsx)("img",{style:{width:"auto",height:"2rem"},src:Se,alt:""})}),Object(O.jsx)("span",{onClick:()=>{c((e=>!e))},style:{border:"none",outline:"none",cursor:"pointer",color:r?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)",transform:`rotate(${l?"0deg":"180deg"})`},className:"my-auto px-1 fs-4",children:Object(O.jsx)(x.n,{})})]}),Object(O.jsx)("div",{className:"m-0 py-2 px-1 d-flex flex-column gap-1 custom-scrollbar",style:{height:"calc(100vh - 20vh)",overflow:"auto"},children:o.filter((e=>e.user===(null===a||void 0===a?void 0:a.Account))).map((a=>{let{icon:s,name:c,navLinks:o}=a;return o.length>1?Object(O.jsxs)("div",{onClick:()=>(a=>{t(e===a?null:a)})(c),className:"position-relative rounded-5",children:[Object(O.jsx)(Me.a,{placement:"right",overlay:l?Object(O.jsx)("span",{}):Object(O.jsx)(Le.a,{id:`tooltip-${c}`,children:c}),children:Object(O.jsxs)("span",{style:{color:r?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)",height:"3rem",outline:"none",border:"none"},className:"p-0 px-1 rounded-2  text-start gap-2 justify-between w-100 d-flex justify-content-between",children:[Object(O.jsxs)("div",{style:{width:"fit-content"},className:"d-flex gap-2 my-auto",children:[Object(O.jsx)("p",{style:{height:"30px",width:"30px",alignItems:"center",color:r?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"m-auto d-flex rounded-5 justify-content-center fs-5",children:s}),Object(O.jsx)("p",{style:{display:e||l?"block":"none"},className:"my-auto",children:c})]}),Object(O.jsx)("span",{style:{transform:`rotate(${e===c?"90deg":"0deg"})`,transition:"1s ease",display:e||l?"block":"none"},className:"my-auto fs-4",children:Object(O.jsx)(x.l,{})})]})}),Object(O.jsx)("div",{style:{...ze,display:e===c?"flex":"none",width:"fit-content",borderLeft:"1px solid gray",paddingLeft:".5rem",marginLeft:".6rem"},className:"flex-column  start-100 py-0 gap-2 mt-0",children:o.map((e=>Object(O.jsx)(n.b,{className:"text-decoration-none py-2 px-1 rounded-3",to:e.to,children:Object(O.jsx)("div",{style:{color:r?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"text-decoration-none flex-nowrap text-start gap-3 d-flex justify-content-between",children:Object(O.jsxs)("div",{className:"d-flex gap-1 flex-nowrap",children:[Object(O.jsx)("p",{className:"m-0",children:e.icon}),Object(O.jsx)("p",{style:{whiteSpace:"pre"},className:"m-auto",children:e.label})]})})},e.to)))})]},c):Object(O.jsx)(Me.a,{placement:"right",overlay:l?Object(O.jsx)("span",{}):Object(O.jsx)(Le.a,{id:`tooltip-${c}`,children:c}),children:Object(O.jsx)(n.b,{to:o[0].to,className:"text-decoration-none rounded-3",children:Object(O.jsx)("span",{style:{color:r?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)",height:"3rem",outline:"none",border:"none"},className:"p-0 px-1 rounded-2 text-start gap-2 justify-between w-100 d-flex justify-content-between",children:Object(O.jsxs)("div",{style:{width:"fit-content"},className:"d-flex gap-2 my-auto",children:[Object(O.jsx)("p",{style:{height:"30px",width:"30px",alignItems:"center",color:r?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"m-auto d-flex rounded-5 justify-content-center fs-5",children:s}),Object(O.jsx)("p",{style:{display:e||l?"block":"none"},className:"my-auto",children:c})]})})})},c)}))}),Object(O.jsx)("div",{style:{height:"10vh"},className:"d-flex align-items-center justify-content-start gap-2 mx-2 ms-3"})]})};const Be={width:"250px",zIndex:"5000",borderLeft:"5px solid white"};var _e=()=>{const[e,t]=Object(s.useState)(null),{toggleSidebar:a}=C(),{darkMode:l}=g(),{userData:c}=Object(P.c)((e=>e.user)),r=null===c||void 0===c?void 0:c.Account,o=[{user:"1",icon:Object(O.jsx)(x.t,{}),name:"Dashboard",navLinks:[{to:"/admin/dashboard",label:"Dashboard"}]},{user:"1",icon:Object(O.jsx)(F.c,{}),name:"Employee",navLinks:[{to:"/admin/employee",label:"Employee List"}]},{user:"1",icon:Object(O.jsx)(x.g,{}),name:"Salary",navLinks:[{to:"/admin/salary",label:"Salary"}]},{user:"1",icon:Object(O.jsx)(Te.g,{}),name:"Attendance",navLinks:[{to:"/admin/myAttendance",label:"My Attendance"},{to:"/admin/todaysAttendance",label:"Todays Attendance"},{to:"/admin/viewAttendance",label:"View Attendance"},{to:"/admin/AttendanceRegister",label:"Attendance Register"},{to:"/admin/updateAttendance",label:"Update Attencance"}]},{user:"1",icon:Object(O.jsx)($.c,{}),name:"Leave",navLinks:[{to:"/admin/leaveApplication",label:"Leave Request"},{to:"/admin/leaveAccepted",label:"Approved Leaves "},{to:"/admin/leaveRejected",label:"Rejected Leaves "},{to:"/admin/leaveRegister",label:"Leave Register"},{to:"/admin/leaveAssign",label:"Leave Assign"},{to:"/admin/AllEmpLeave",label:"Emp Leave Balance"}]},{user:"1",icon:Object(O.jsx)(Ae.e,{}),name:"Task",navLinks:[{to:"/admin/task",label:"Create New Task"},{to:"/admin/taskassign",label:"Assigned"},{to:"/admin/taskActive",label:"Active Task"},{to:"/admin/taskcancle",label:"Cancelled Task"},{to:"/admin/taskcomplete",label:"Completed Task"},{to:"/admin/taskreject",label:"Rejected Task"}]},{user:"1",icon:Object(O.jsx)(N.a,{}),name:"Access",navLinks:[{to:"/admin/role",label:"Role"},{to:"/admin/position",label:"Position"},{to:"/admin/department",label:"Department"}]},{user:"1",icon:Object(O.jsx)(Fe.c,{}),name:"Company",navLinks:[{to:"/admin/company",label:"Company List"}]},{user:"1",icon:Object(O.jsx)($.l,{}),name:"Address",navLinks:[{to:"/admin/country",label:"Country"},{to:"/admin/state",label:"State"},{to:"/admin/city",label:"City"}]},{user:"1",icon:Object(O.jsx)(Pe.c,{}),name:"Notice",navLinks:[{to:"/admin/NoticeManagement",label:"Notice"}]},{user:"1",icon:Object(O.jsx)(Te.d,{}),name:"Request Details",navLinks:[{to:"/admin/requestReceived",label:"Request Open"},{to:"/admin/requestClosed",label:"Request Closed"}]},{user:"1",icon:Object(O.jsx)(N.d,{}),name:"Holiday",navLinks:[{to:"/admin/leaveCal",label:"Leave Calendar"}]},{user:"1",icon:Object(O.jsx)(Ee.c,{}),name:"Project",navLinks:[{to:"/admin/project-bid",label:"Project Bidding"},{to:"/admin/portal-master",label:"Portal Master"}]},{user:"2",icon:Object(O.jsx)(N.b,{}),name:"Dashboard",navLinks:[{to:"/hr/dashboard",label:"Dashboard"}]},{user:"2",icon:Object(O.jsx)($e.c,{}),name:"Employee",navLinks:[{to:"/hr/employee",label:"Employee List"}]},{user:"2",icon:Object(O.jsx)($.d,{}),name:"Salary",navLinks:[{to:"/hr/salary",label:"Salary"}]},{user:"2",icon:Object(O.jsx)(R.e,{}),name:"Attendance",navLinks:[{to:"/hr/attenDance",label:"Self Attendance"},{to:"/hr/AttendanceRegister",label:"Attendance Register"},{to:"/hr/todaysAttendance",label:"Todays Attendance"},{to:"/hr/viewAttenDance",label:"View Attendance"},{to:"/hr/manualAttand",label:"Manual Attendance"},{to:"/hr/updateAttendance",label:"Update Attencance"}]},{user:"2",icon:Object(O.jsx)(R.a,{}),name:"Leave",navLinks:[{to:"/hr/createLeave",label:"Apply Leave"},{to:"/hr/leaveApplication",label:"Pending "},{to:"/hr/leaveAccepted",label:"Accepted "},{to:"/hr/leaveRejected",label:"Rejected "},{to:"/hr/leaveRegister",label:"Leave Register "},{to:"/hr/assignLeave",label:"Assign Leave"},{to:"/hr/allEmpLeave",label:"Emp Leave Balance"}]},{user:"2",icon:Object(O.jsx)(x.r,{}),name:"Access",navLinks:[{to:"/hr/role",label:"Role"},{to:"/hr/position",label:"Position"},{to:"/hr/department",label:"Department"}]},{user:"2",icon:Object(O.jsx)(Fe.c,{}),name:"Company",navLinks:[{to:"/hr/company",label:"Company List"}]},{icon:Object(O.jsx)(x.x,{}),name:"Address",navLinks:[{to:"/hr/country",label:"Country"},{to:"/hr/state",label:"State"},{to:"/hr/city",label:"City"}]},{user:"2",icon:Object(O.jsx)(Pe.c,{}),name:"Notice",navLinks:[{to:"/hr/NoticeManagement",label:"Notice"}]},{user:"2",icon:Object(O.jsx)($.q,{}),name:"My Request",navLinks:[{to:"/hr/request",label:"Raise Request"},{to:"/hr/requestOpen",label:"Open Request"},{to:"/hr/requestClosed",label:"Closed Request"}]},{user:"2",icon:Object(O.jsx)(Te.d,{}),name:"Team Request",navLinks:[{to:"/hr/teamRequestOpen",label:"Open Request"},{to:"/hr/teamRequestClosed",label:"Closed Request"}]},{user:"2",icon:Object(O.jsx)(Re.b,{}),name:"Holiday",navLinks:[{to:"/hr/holiday",label:"Holiday Calendar"}]},{user:"2",icon:Object(O.jsx)(Ie.e,{}),name:"Profile",navLinks:[{to:"/hr/personal-info",label:"Profile"}]},{user:"4",icon:Object(O.jsx)(x.t,{}),name:"Dashboard",navLinks:[{to:"/manager/dashboard",label:"Dashboard"}]},{user:"4",icon:Object(O.jsx)(Te.g,{}),name:"Attendance",navLinks:[{to:"/manager/myAttendance",label:"My Attencance"},{to:"/manager/todaysAttendance",label:"TodaysAttendance"},{to:"/manager/viewAttenDance",label:"View Attendance"}]},{user:"4",icon:Object(O.jsx)($.c,{}),name:"Leave",navLinks:[{to:"/manager/createLeave",label:"My Leave"},{to:"/manager/leaveApplication",label:"Leave Requests"},{to:"/manager/leaveApplicationAccepted",label:"Accepted Leave "},{to:"/manager/leaveApplicationRejected",label:"Rejected Leave "}]},{user:"4",icon:Object(O.jsx)(Ae.e,{}),name:"Task",navLinks:[{to:"/manager/newTask",label:"Assign New Task"},{to:"/manager/ActiveTask",label:"Active Task"},{to:"/manager/taskcancle",label:"Cancelled Task"},{to:"/manager/taskcomplete",label:"Completed Task"},{to:"/manager/rejectTask",label:"Rejected Task"}]},{user:"4",icon:Object(O.jsx)(Pe.c,{}),name:"Notice",navLinks:[{to:"/manager/NoticeManagement",label:"Notice"}]},{user:"4",icon:Object(O.jsx)($.q,{}),name:"My Request",navLinks:[{to:"/manager/request",label:"Raise Request"},{to:"/manager/requestOpen",label:"Open Request"},{to:"/manager/requestClosed",label:"Closed Request"}]},{user:"4",icon:Object(O.jsx)(Te.d,{}),name:"Team Request",navLinks:[{to:"/manager/teamRequestOpen",label:"Open Request"},{to:"/manager/teamRequestClosed",label:"Closed Request"}]},{user:"4",icon:Object(O.jsx)(ge.j,{}),name:"Profile",navLinks:[{to:"/manager/personal-info",label:"Profile"}]},{user:"3",icon:Object(O.jsx)(x.t,{}),name:"Dashboard",navLinks:[{to:"/employee/dashboard",label:"Dashboard"}]},{user:"3",icon:Object(O.jsx)(Ie.e,{}),name:"Profile",navLinks:[{to:"/employee/"+(null===c||void 0===c?void 0:c._id)+"/personal-info",label:"Profile"}]},{user:"3",icon:Object(O.jsx)(Te.g,{className:"fs-4"}),name:"Attendance",navLinks:[{to:"/employee/MyAttendance",label:"View Attendance"}]},{user:"3",icon:Object(O.jsx)($.c,{}),name:"Leave",navLinks:[{to:"/employee/leaveApplication",label:"Apply Leave"}]},{user:"3",icon:Object(O.jsx)(Ae.e,{}),name:"Task",navLinks:[{to:"/employee/task",label:"Task"}]},{user:"3",icon:Object(O.jsx)($.q,{}),name:"Request",navLinks:[{to:"/employee/request",label:"Raise Request"},{to:"/employee/requestOpen",label:"Open Request"},{to:"/employee/requestClosed",label:"Closed Request"}]}];return Object(O.jsxs)("div",{style:{minHeight:"100%",maxHeight:"100%",overflowY:"auto",overflow:"inherit",width:"fit-content",backgroundColor:l?"var(--primaryDashMenuColor)":"var(--primaryDashColorDark)",boxShadow:"1px 0 1px white"},className:"d-flex d-sm-none  flex-column gap-2 p-3 px-2",children:[Object(O.jsx)("h3",{children:Object(O.jsx)("span",{className:"fw-normal fs-6 rounded-5 my-auto mx-auto border-1 border d-flex  justify-content-center align-items-center",style:{height:"20px",width:"20px",cursor:"pointer",color:l?"black":"white"},onClick:a,children:"X"})}),Object(O.jsx)("div",{style:{height:"2px",width:"100%",background:"#DE4E26"}}),o.filter((e=>e.user===r)).map((a=>{let{icon:s,name:c,navLinks:r}=a;return Object(O.jsxs)("div",{onMouseEnter:()=>t(c),onMouseLeave:()=>t(null),className:"position-relative",children:[Object(O.jsx)("span",{style:{color:l?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)",height:"3rem",outline:"none",border:"none"},className:"p-0  text-start fw-bold gap-2 justify-between w-100 d-flex justify-content-between",children:Object(O.jsx)("div",{style:{width:"fit-content"},className:"d-flex my-auto gap-2",children:Object(O.jsx)("p",{style:{height:"30px",width:"30px",alignItems:"center",color:l?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"m-auto d-flex rounded-5  justify-content-center fs-3",children:s})})}),Object(O.jsxs)("div",{style:{...Be,display:e===c?"flex":"none",backgroundColor:l?"var(--primaryDashMenuColor)":"var(--primaryDashColorDark)",width:"fit-content"},className:"flex-column position-absolute bottom-0 start-100 py-2 px-1 gap-2 mt-2  ",children:[Object(O.jsx)("p",{className:"m-0 py-0 pl-1 text-warning",children:c}),r.map((e=>Object(O.jsx)(n.a,{className:"text-decoration-none",to:e.to,children:Object(O.jsxs)("div",{style:{color:l?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"text-decoration-none flex-nowrap text-start gap-3  d-flex justify-content-between ",children:[Object(O.jsxs)("div",{className:"d-flex gap-1 flex-nowrap",children:[Object(O.jsx)("p",{className:"m-0",children:e.icon}),Object(O.jsx)("p",{style:{whiteSpace:"pre"},className:"m-auto",children:e.label})]}),Object(O.jsx)("span",{style:{},className:"my-auto ",children:"\u203a"})]})},e.to)))]})]},c)}))]})};var He=e=>{const[t,a]=Object(s.useState)(!0),{isOpen:l}=C(),{darkMode:c}=g();return Object(O.jsx)("div",{style:{backgroundColor:c?"var(--secondaryDashMenuColor)":"var(--secondaryDashColorDark)",maxHeight:"100vh",overflow:"hidden",position:"fixed",width:"100%",left:"0",top:"0"},children:Object(O.jsxs)("div",{className:"dashboard-grid",children:[Object(O.jsx)("div",{style:{transform:l?"translateX(0%)":"translateX(-500%)",transition:"1s ease"},className:"sidebarsmall d-flex ",children:Object(O.jsx)(_e,{})}),Object(O.jsx)("div",{className:"navbar-grid  shadow-sm",children:Object(O.jsx)(ve,{loginInfo:e.data,checked:t,handleChange:()=>{t?document.getElementById("sidebar").setAttribute("class","display-none"):document.getElementById("sidebar").setAttribute("class","display-block"),a(!t)},onLogout:e.onLogout})}),Object(O.jsx)("div",{className:"sidebar-grid",children:Object(O.jsx)(qe,{})}),Object(O.jsxs)("div",{className:"mainbar-grid",children:[Object(O.jsx)("div",{style:{maxHeight:"84vh",overflow:"auto"},className:"pb-4",children:Object(O.jsx)(o.a,{})}),Object(O.jsx)("div",{style:{zIndex:"50",position:"absolute",bottom:"0"},className:"HrPannelFooter bg-dark w-100 text-white",children:Object(O.jsx)(we,{})})]})]})})};var Ue=e=>{const[t,a]=Object(s.useState)(null),[l,c]=Object(s.useState)(null),{userData:r}=Object(P.c)((e=>e.user)),{darkMode:n}=g(),o=null===r||void 0===r?void 0:r._id;if(Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get(`${E}/api/personal-info/`+o,{headers:{authorization:localStorage.getItem("token")||""}});c(e.data.FirstName)}catch(e){console.error("Error fetching employees:",e)}})()}),[]),Object(s.useEffect)((()=>{(async()=>{try{const e=await fetch(`${E}/api/employee/${o}/today-attendance`);if(!e.ok)throw new Error("Failed to fetch attendance data");const t=await e.json();a(t)}catch(e){console.error("Error fetching attendance data:",e)}})()}),[o]),!t)return Object(O.jsx)("div",{children:"Loading..."});function i(e){return Math.floor(e/60)+" h "+e%60+" min"}const j=[{icon:Object(O.jsx)($.m,{className:"text-success fs-5"}),iconBG:"#abf9a728",title:"Today's login time",data:t.loginTime?t.loginTime:"--"},{icon:Object(O.jsx)($.n,{className:"text-danger fs-5"}),iconBG:"#ff8e8621",title:"Today's logout time",data:t.logoutTime?t.logoutTime:"--"},{icon:Object(O.jsx)(De.a,{className:"text-warning fs-5"}),iconBG:"#fbff8021",title:"Total break taken",data:i(t.totalBrake)},{icon:Object(O.jsx)(x.A,{className:"text-primary fs-5"}),iconBG:"#deccfa2b",title:"Total login time",data:i(t.totalLoginTime)}];return Object(O.jsx)("div",{style:{width:"100%",height:"17rem",color:n?"black":"White",background:n?"#F5F5F6":"#161515f6"},className:"d-flex flex-wrap shadow-sm rounded-2 align-items-center justify-content-evenly",children:j.map(((e,t)=>Object(O.jsx)(We,{style:{background:n?"var(--primaryDashMenuColor)":"var(--primaryDashColorDark)",height:"fit-content",border:n?"1px solid #1f1e1e46":"1px solid #f5f5f693",width:"45%"},TytleStyle:"d-flex align-items-center justify-content-between p-2",baseStyle:{border:n?"1px solid #1f1e1e46":"1px solid #f5f5f693"},icon:e.icon,title:e.title,data:e.data,background:e.iconBG},t)))})};const We=e=>{let{title:t,data:a,icon:s,style:l,TytleStyle:c,background:r,baseStyle:n}=e;return Object(O.jsxs)("div",{className:"my-0 p-0 rounded-3",style:l,children:[Object(O.jsx)("h4",{className:"my-1 text-center  fw-normal",children:a}),Object(O.jsx)("div",{style:n,className:"my-auto shadow rounded-3",children:Object(O.jsxs)("span",{className:c,children:[t,Object(O.jsx)("span",{style:{height:"35px",width:"35px",borderRadius:"50%",background:r},className:"d-flex align-items-center justify-content-center",children:s})]})})]})};var Ge=a.p+"static/media/NoticeImg.abe0df26.svg";const Ye=e=>{const t=new Date(e),a=t.getDate(),s=t.toLocaleString("default",{month:"short"}),l=t.getFullYear();return`${a}${(e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}})(a)}, ${s} ${l}`},Ve=e=>{const t=new Date(e),a=t.getDate(),s=t.toLocaleString("default",{month:"short"});return`${a}${(e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}})(a)}, ${s}`},Je=e=>{const t=new Date,a=new Date(e),s=Math.floor((t-a)/1e3);if(s<60)return`${s} second${s>1?"s":""} ago`;const l=Math.floor(s/60);if(l<60)return`${l} minute${l>1?"s":""} ago`;const c=Math.floor(l/60);if(c<24)return`${c} hour${c>1?"s":""} ago`;const r=Math.floor(c/24);return r<30?`${r} day${r>1?"s":""} ago`:a.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})};var Ze=()=>{const{userData:e}=Object(P.c)((e=>e.user)),t=null===e||void 0===e?void 0:e._id,{darkMode:a}=g(),[l,c]=Object(s.useState)([]),{socket:r}=Object(s.useContext)(b),o=null===e||void 0===e?void 0:e.Account,i=()=>{d.a.get(`${E}/api/notice/${t}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{c(e.data)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{i()}),[]),Object(s.useEffect)((()=>{r&&(r.on("notice",(e=>{c((t=>[e,...t]))})),r.on("noticeDelete",(e=>{e&&i()})))}),[r]);const j=e=>{return e?(t=e.replace(/<img[^>]*>/g,"").replace(/<iframe[^>]*>/g,"").replace(/<h1[^>]*>.*?<\/h1>/gi,"").replace(/<h2[^>]*>.*?<\/h2>/gi,"").replace(/<script[^>]*>.*?<\/script>/gi,"")).length>200?t.slice(0,200)+"...":t:"";var t},m={1:"/admin/NoticeBoard",2:"/hr/NoticeBoard",3:"/employee/NoticeBoard",4:"/manager/NoticeBoard"},h=l.filter((e=>{return t=e.createdAt,(new Date).getTime()-new Date(t).getTime()<=864e5;var t}));return Object(O.jsxs)("div",{style:{height:"17rem",overflow:"hidden",color:a?"black":"white",background:a?"#F5F5F6":"#161515f6"},className:"p-2 px-3 shadow-sm rounded-2 d-flex flex-column gap-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsxs)("h5",{className:"my-0 fw-normal d-flex align-items-center gap-2",children:[Object(O.jsx)(Fe.b,{})," Notice"]}),Object(O.jsx)("span",{style:{minHeight:"1.6rem",minWidth:"1.6rem",borderRadius:"50%",background:a?"#ededf1d4":"#252424c3"},className:"d-flex align-items-center justify-content-center",children:h.length})]}),h.length>0?Object(O.jsx)("div",{children:h.slice(-1).map(((e,t)=>Object(O.jsxs)("div",{className:"d-flex flex-column gap-3",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("div",{style:{height:"30px",width:"30px",borderRadius:"50%",background:"blue"},children:Object(O.jsx)("img",{style:{height:"100%",width:"100%",borderRadius:"50%",objectFit:"cover"},src:e.creatorProfile?e.creatorProfile.image_url:w,alt:""})}),Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{className:"m-0 mx-1",children:e.creator}),Object(O.jsx)("span",{style:{width:"fit-content",background:a?"#2f99ea4a":"#2c2cf341",color:a?"#572be8f0":"#c8c2feed"},className:"p-0 px-2 text-primary rounded-3",children:e.creatorPosition})]})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[null!==e.attachments&&Object(O.jsx)("a",{title:"Download Attachment",target:"blank",style:{background:a?"#2f99ea4a":"#2c2cf341",color:a?"#572be8f0":"#c8c2feed",height:"1.8rem",width:"1.8rem"},className:"btn d-flex align-items-center justify-content-center mr-3 rounded-5 p-0",href:e.attachments,download:!0,children:Object(O.jsx)($.j,{className:"fs-5"})}),Object(O.jsx)(n.a,{to:m[o],style:{cursor:"pointer"},className:"btn btn-light d-flex align-items-center bg-white rounded-5 px-2 py-0 ",children:"View All"})]})]}),Object(O.jsxs)("div",{style:{height:"9rem",width:"100%",background:a?"#ededf1d4":"#252424c3",position:"relative",overflow:"hidden"},className:"p-2 rounded-3",children:[Object(O.jsx)("div",{style:{position:"absolute",bottom:".5rem",right:".5rem"},className:"d-flex flex-column m-0",children:Object(O.jsx)("h6",{style:{fontSize:".8rem"},className:"m-0 mx-1",children:Je(e.createdAt)})}),Object(O.jsx)("div",{style:{height:"15px",width:"15px",background:a?"#ededf1d4":"#252424c3",position:"absolute",top:"-7px",zIndex:"0",transform:"rotate(45deg)"}}),Object(O.jsx)("div",{className:"text-start flex-wrap d-flex",dangerouslySetInnerHTML:{__html:j(e.notice)}})]})]},t)))}):Object(O.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center gap-3",style:{height:"100%",width:"100%"},children:[Object(O.jsx)("img",{style:{height:"100px",width:"100px"},className:"mx-auto",src:Ge,alt:"No Data"}),Object(O.jsx)("p",{style:{opacity:"60%",fontSize:"13px"},className:"text-center w-75 mx-auto",children:"No notices available at the moment."})]})]})},Xe=a(201),Qe=a.p+"static/media/HappyBirthday.181e9653.svg";var Ke=()=>{const[e,t]=Object(s.useState)([]),[a,l]=Object(s.useState)(!0),[c,r]=Object(s.useState)([]),[n,o]=Object(s.useState)([]),{darkMode:i}=g(),{userData:j}=Object(P.c)((e=>e.user));Object(s.useEffect)((()=>{d.a.get(`${E}/api/employee/`+(null===j||void 0===j?void 0:j._id),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{Array.isArray(e.data)?(t(e.data),l(!1),r([]),e.data.forEach((e=>{if("active"===e.status){let t={data:e,Email:e.Email,Password:e.Password,Account:1===e.Account?"Admin":2===e.Account?"HR":3===e.Account?"Employee":"",RoleName:e.role[0]?e.role[0].RoleName:"",FirstName:e.FirstName,MiddleName:e.MiddleName,LastName:e.LastName,DOB:e.DOB.slice(0,10),ContactNo:e.ContactNo,EmployeeCode:e.EmployeeCode,empID:e.empID,DepartmentName:e.department[0]?e.department[0].DepartmentName:"",PositionName:e.position[0]?e.position[0].PositionName:"",DateOfJoining:e.DateOfJoining.slice(0,10)};r((e=>[...e,t]))}}))):console.error("Data received is not an array:",e.data)})).catch((e=>{console.log(e)}))}),[]);return Object(s.useEffect)((()=>{(()=>{const e=new Date,t=c.map((t=>{const a=new Date(t.DOB);a.setFullYear(e.getFullYear());const s=a-e,l=Math.ceil(s/864e5);return 0===l?t.birthdayMessage="Today ":l>0&&l<=90&&(t.birthdayMessage=`In ${l} days`),{...t,daysDiff:l}})).filter((e=>e.daysDiff>=0&&e.daysDiff<=90)).sort(((e,t)=>e.daysDiff-t.daysDiff)).reverse();o(t)})()}),[c]),Object(O.jsxs)("div",{style:{height:"17rem",overflow:"hidden",color:i?"black":"White",background:i?"#F5F5F6":"#161515f6"},className:"px-3 shadow-sm rounded-2 d-flex flex-column gap-2 justify-content-between pb-3 pt-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsxs)("h5",{className:"my-0 fw-normal d-flex align-items-center gap-2",children:[Object(O.jsx)(N.d,{}),"Birthday"]}),Object(O.jsx)("span",{style:{minHeight:"1.6rem",minWidth:"1.6rem",borderRadius:"50%",background:i?"#ededf1d4":"#252424c3"},className:"d-flex align-items-center justify-content-center",children:n.length})]}),Object(O.jsx)("div",{style:{height:"13rem"},children:n.length>0?Object(O.jsx)("div",{className:"d-flex flex-column gap-3 p-3 rounded-3 h-100",style:{overflow:"auto",background:i?"#ededf1d4":"#252424c3"},children:n.slice().reverse().map((e=>{var t,a,s,l,c,r,n,o,d;return Object(O.jsx)("div",{className:"",children:Object(O.jsxs)("div",{className:"row mx-auto",children:[Object(O.jsxs)("div",{className:"col-6 d-flex align-items-center gap-2",children:[Object(O.jsx)("div",{style:{height:"32px",width:"32px"},children:null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&null!==(a=t.profile)&&void 0!==a&&a.image_url?Object(O.jsx)("img",{style:{height:"100%",width:"100%",overflow:"hidden",borderRadius:"50%",objectFit:"cover"},className:"border-0",src:null===e||void 0===e||null===(s=e.data)||void 0===s||null===(l=s.profile)||void 0===l?void 0:l.image_url,alt:""}):Object(O.jsxs)("span",{children:[null!==(c=null===e||void 0===e||null===(r=e.FirstName)||void 0===r?void 0:r.charAt(0).toUpperCase())&&void 0!==c?c:"",null!==(n=null===e||void 0===e||null===(o=e.LastName)||void 0===o?void 0:o.charAt(0).toUpperCase())&&void 0!==n?n:""]})}),Object(O.jsxs)("div",{className:"d-flex flex-column my-auto",children:[Object(O.jsx)("h5",{style:{fontSize:".9rem",textAlign:"start"},className:"text-capitalize m-0",children:`${e.FirstName} ${e.LastName}`}),Object(O.jsx)("span",{style:{fontSize:".8rem"},children:e.PositionName})]})]}),Object(O.jsxs)("div",{className:"col-4 my-auto",style:{textAlign:"start"},children:[Object(O.jsx)("span",{className:"py-1 px-2 rounded-2 ",style:{background:i?"#2f99ea4a":"#2c2cf341",color:i?"#572be8f0":"#c8c2feed",fontSize:".8rem"},children:e.birthdayMessage}),Object(O.jsx)("br",{}),Object(O.jsx)("span",{style:{fontSize:".9rem"},children:(d=e.DOB,new Date(d).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}))})]}),Object(O.jsx)("div",{className:"col-2 my-auto mx-auto d-flex align-items-center justify-content-center",style:{height:"35px",width:"35px",background:i?"#2f99ea4a":"#2c2cf341",borderRadius:"50%"},children:e.isToday?Object(O.jsx)(Xe.a,{className:"text-primary fs-4"}):Object(O.jsx)(Xe.a,{className:"text-secondary fs-4"})})]})},e.empID)}))}):Object(O.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center gap-3",style:{height:"100%",width:"100%"},children:[Object(O.jsx)("img",{style:{height:"100px",width:"100px"},className:"mx-auto",src:Qe,alt:"Happy Birthday"}),Object(O.jsx)("p",{style:{opacity:"60%",fontSize:"13px"},className:"text-center w-75 mx-auto",children:"No upcoming birthdays in the next 90 days."})]})})]})};a(474);var et=e=>{let{holidays:t,year:a,month:l}=e;const[c,r]=Object(s.useState)(null),[n,o]=Object(s.useState)({}),i=Object(s.useRef)(null),{darkMode:d}=g(),j=(e,t)=>{r(t);const a=i.current.getBoundingClientRect(),s=e.target.getBoundingClientRect();let l={};const c=s.left-a.left,n=a.right-s.right,d=s.top-a.top,j=a.bottom-s.bottom;l=n>150?{left:"110%",top:"50%",transform:"translateY(-50%)"}:c>150?{right:"110%",top:"50%",transform:"translateY(-50%)"}:j>100?{top:"120%",left:"50%",transform:"translateX(-50%)"}:d>100?{bottom:"120%",left:"50%",transform:"translateX(-50%)"}:{left:"110%",top:"50%",transform:"translateY(-50%)"},o(l)};return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{style:{color:"black"},className:"calendar-header",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(((e,t)=>Object(O.jsx)("div",{style:{color:d?"black":"white"},className:"calendar-day",children:e},t)))}),Object(O.jsx)("div",{className:"calendar-container",ref:i,children:(()=>{const e=[],s=new Date(a,l,1).getDay(),o=new Date(a,l+1,0).getDate(),i=new Date,d=i.getDate(),m=i.getMonth(),h=i.getFullYear();for(let t=0;t<s;t++)e.push(Object(O.jsx)("div",{className:"calendar-day empty"},`empty-${t}`));for(let b=1;b<=o;b++){const s=t.find((e=>e.holidayYear===a&&e.holidayMonth===l+1&&e.holidayDate===b)),o=b===d&&l===m&&a===h;e.push(Object(O.jsxs)("div",{onMouseEnter:e=>j(e,s),onMouseLeave:()=>r(null),className:"calendar-day "+(o?"current":""),style:{position:"relative"},children:[Object(O.jsxs)("span",{className:"d-flex align-items-center",style:{position:"relative"},children:[b,s&&Object(O.jsx)("div",{style:{height:".5rem",width:".54rem",background:"Weekly Off"===s.holidayType||"Others"===s.holidayType?"red":"blue",borderRadius:"50%",position:"absolute",right:"-.8rem"}})]}),c===s&&s&&Object(O.jsxs)("div",{style:{background:"white",zIndex:"2",position:"absolute",...n,padding:"0.5rem",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",borderRadius:"4px",width:"150px"},children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-1",children:[Object(O.jsx)("div",{style:{height:".5rem",width:".5rem",background:"Weekly Off"===s.holidayType||"Others"===s.holidayType?"red":"blue",borderRadius:"0",marginBottom:"0.2rem"}}),Object(O.jsx)("p",{style:{color:"black"},className:"m-0 text-start",children:s.holidayName})]}),Object(O.jsx)("span",{className:"badge badge-primary fw-normal",children:s.holidayType})]})]},b))}return e})()})]})};var tt=()=>{const e=Object(P.b)(),t=Object(P.c)((e=>e.holidays.holidaysData)),a=Object(P.c)((e=>e.holidays.status)),{darkMode:l}=g(),[c,r]=Object(s.useState)((new Date).getMonth()),[n,o]=Object(s.useState)((new Date).getFullYear());Object(s.useEffect)((()=>{"idle"===a&&e(te())}),[a,e]);const i=["January","February","March","April","May","June","July","August","September","October","November","December"][c],d=t.filter((e=>e.holidayYear===n&&e.holidayMonth===c+1));return Object(O.jsxs)("div",{style:{height:"17rem",overflow:"hidden",color:l?"black":"white",background:l?"#F5F5F6":"#161515f6"},className:"px-3 shadow-sm rounded-2 d-flex flex-column gap-2 justify-content-between pb-3 pt-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("button",{className:"shadow-sm btn btn-light d-flex align-items-center justify-content-center",onClick:()=>{0===c?(r(11),o((e=>e-1))):r((e=>e-1))},children:Object(O.jsx)(x.v,{})}),Object(O.jsxs)("span",{className:"shadow-sm btn btn-light d-flex align-items-center justify-content-center",children:["Calendar | ",i,", ",n]}),Object(O.jsx)("button",{className:"shadow-sm btn btn-light d-flex align-items-center justify-content-center",onClick:()=>{11===c?(r(0),o((e=>e+1))):r((e=>e+1))},children:Object(O.jsx)(x.w,{})})]}),Object(O.jsx)("div",{style:{height:"100%",overflow:"auto",background:l?"#ededf1d4":"#252424c3"},className:"rounded-3 p-2 py-2",children:Object(O.jsx)(et,{holidays:d,year:n,month:c})})]})},at=(a(275),a(153));var st=()=>{const{darkMode:e}=g(),[t,a]=Object(s.useState)([]),[l,c]=Object(s.useState)(null),{userData:r}=Object(P.c)((e=>e.user)),o=null===r||void 0===r?void 0:r.Email;Object(s.useEffect)((()=>{d.a.post(`${E}/api/leave-application-hr/`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(e.data)})).catch((e=>{console.log(e)}))}),[]);Object(s.useEffect)((()=>{d.a.post(`${E}/api/leave-application-data`,{email:o},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{c(e.data)})).catch((e=>{console.log(e)}))}),[]);const i=t=>{switch(t){case 3:return Object(O.jsx)("span",{className:""+(e?"badge-danger":"badge-danger-dark"),children:"Rejected"});case 2:return Object(O.jsx)("span",{className:""+(e?"badge-success":"badge-success-dark"),children:"Approved"});default:return Object(O.jsx)("span",{className:""+(e?"badge-warning":"badge-warning-dark"),children:"Pending"})}},j=e=>{switch(e){case 3:return Object(O.jsx)(x.q,{className:"text-danger"});case 2:return Object(O.jsx)(Te.g,{className:"text-success"});default:return Object(O.jsx)($.r,{className:"tex-danger"})}},m=null===r||void 0===r?void 0:r.Account;return Object(O.jsxs)("div",{style:{height:"17rem",overflow:"hidden",color:e?"black":"White",background:e?"#F5F5F6":"#161515f6"},className:"p-2 px-3 shadow-sm rounded-2 d-flex flex-column gap-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsxs)("h5",{className:"my-0 fw-normal  d-flex align-items-center gap-2",children:[Object(O.jsx)($.b,{})," Staff on leave"]}),Object(O.jsxs)(n.a,{to:{1:"/admin/leaveApplication",2:"/hr/leaveApplication"}[m],style:{cursor:"pointer",minHeight:"1.6rem",minWidth:"1.6rem",background:e?"#ededf1d4":"#252424c3"},className:"btn btn-light d-flex align-items-center bg-white rounded-5 my-2 px-2 py-0 ",children:["View All ",Object(O.jsx)(x.l,{})]})]}),Object(O.jsx)("hr",{className:"m-1",style:{opacity:"10%"}}),Object(O.jsxs)("div",{className:"progress-circle",children:[Object(O.jsxs)("svg",{width:"150",viewBox:"0 0 100 50",children:[Object(O.jsx)("path",{d:"M 10,50 A 40,40 0 1,1 90,50",fill:"none",stroke:"#ddd",strokeWidth:"14"}),Object(O.jsx)("path",{d:"M 10,50 A 40,40 0 1,1 90,50",fill:"none",stroke:"#3939FF",strokeWidth:"15",strokeDasharray:"125.6",strokeDashoffset:0})]}),Object(O.jsxs)("div",{className:"leave-count d-flex flex-column gap-0",children:[Object(O.jsx)("h6",{children:null!==l&&void 0!==l&&l.onLeave?null===l||void 0===l?void 0:l.onLeave:"0"}),Object(O.jsxs)("span",{children:["OUT OF ",null!==l&&void 0!==l&&l.totalEmployee?null===l||void 0===l?void 0:l.totalEmployee:""]})]})]}),Object(O.jsx)("hr",{className:"m-1",style:{opacity:"10%"}}),t.slice(-2).reverse().filter((e=>new Date(e.ToDate)>new Date)).length>0?Object(O.jsx)("div",{className:"leave-list",children:t.slice(-2).reverse().filter((e=>new Date(e.ToDate)>new Date)).map(((e,t)=>Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsxs)("span",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("span",{children:j(e.status)}),Object(O.jsx)("span",{children:Ve(e.FromDate)})," ",Object(O.jsx)(at.a,{className:"fs-5 my-auto text-success"})," ",Object(O.jsx)("span",{children:Ve(e.ToDate)})]}),Object(O.jsxs)("span",{className:"text-capitalize ms-auto",children:[e.FirstName," ",e.LastName]}),Object(O.jsx)("span",{className:"ms-auto",children:e.Leavetype}),Object(O.jsx)("span",{className:"ms-auto",children:i(e.status)})]},t)))}):Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-center py-3 text-center",children:["No New Leave Request ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]})]})},lt=a(305),ct=a(22),rt=a.p+"static/media/LeavePlaceHolder.f4334d02.svg";var nt=()=>{const[e,t]=Object(s.useState)([]),{userData:a}=Object(P.c)((e=>e.user)),l=null===a||void 0===a?void 0:a._id,{darkMode:c}=g(),{empData:r}=Object(P.c)((e=>e.personalInfo));console.log(r);const o=Object(P.b)();Object(s.useEffect)((()=>{const e=null===a||void 0===a?void 0:a._id;o(ce(e))}),[o]),Object(s.useEffect)((()=>{const e=null===r||void 0===r?void 0:r.Gender;d.a.post(`${E}/api/getLeave`,{id:l}).then((a=>{const s=a.data.map((e=>{const t=Object.keys(e)[0],a=Object.keys(e)[1];return{leaveType:t.replace(/([A-Z])/g," $1").trim(),balance:e[t],totalBalance:e[a],leaveTaken:e[a]-e[t]}})).filter((t=>("male"!==e||!t.leaveType.includes("maternity Leave"))&&("female"!==e||!t.leaveType.includes("paternity Leave"))));console.log(s),t(s)})).catch((e=>{console.error(e)}))}),[r]);const i=e=>{switch(e){case"paid Leave":return Object(O.jsx)("span",{style:{height:"1.3rem",width:"1.3rem",borderRadius:"50%",background:"#8ff18031",color:"#3ab927"},className:"d-flex  align-items-center justify-content-center",children:Object(O.jsx)(ct.b,{className:"fs-6"})});case"casual Leave":return Object(O.jsx)("span",{style:{height:"1.3rem",width:"1.3rem",borderRadius:"50%",background:"#ff5f3f2f",color:"#ff5f3f"},className:"d-flex  align-items-center justify-content-center",children:Object(O.jsx)($.r,{className:"fs-5"})});case"paternity Leave":return Object(O.jsx)("span",{style:{height:"1.3rem",width:"1.3rem",borderRadius:"50%",background:"#423fff2e",color:"#423fff"},className:"d-flex  align-items-center justify-content-center",children:Object(O.jsx)(x.c,{className:"fs-5"})});case"maternity Leave":return Object(O.jsx)("span",{style:{height:"1.3rem",width:"1.3rem",borderRadius:"50%",background:"#423fff51",color:"#423fff"},className:"d-flex  align-items-center justify-content-center",children:Object(O.jsx)(x.c,{className:"fs-5"})});default:return Object(O.jsx)("span",{style:{height:"1.3rem",width:"1.3rem",borderRadius:"50%",background:"#f3bf5d33",color:"#b37c16"},className:"d-flex  align-items-center justify-content-center",children:Object(O.jsx)(lt.a,{})})}},j=null===a||void 0===a?void 0:a.Account;return Object(O.jsxs)("div",{style:{height:"17rem",overflow:"hidden",color:c?"black":"White",background:c?"#F5F5F6":"#161515f6"},className:"p-2 px-3 shadow-sm rounded-2 d-flex flex-column gap-2",children:[Object(O.jsxs)("h5",{className:"my-0 fw-normal  d-flex align-items-center gap-2",children:[Object(O.jsx)($.a,{className:"fs-4"})," Leave"]}),Object(O.jsx)("div",{style:{height:"calc(100% - 3rem)",overflow:"auto "},className:"row m-0 row-gap-2 pt-0",children:e.length>0?Object(O.jsx)(O.Fragment,{children:e.map(((e,t)=>{return Object(O.jsx)("div",{className:"col-12 col-md-6 h-50 mb-1 mx-0 p-1",children:Object(O.jsxs)("div",{style:{background:c?"white":"#252424c3",color:c?"black":"white"},className:"py-2 px-2 shadow-sm rounded-2",children:[Object(O.jsxs)("h6",{className:"d-flex align-items-center text-capitalize gap-2",children:[(a=e.leaveType,a.replace(/Leave|leave/g,"").trim())," ",Object(O.jsxs)("span",{children:[i(e.leaveType)," "]})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2",children:[" ",Object(O.jsxs)("div",{children:["Balance:"," ",Object(O.jsx)("span",{className:"text-primary mx-2 text-success fw-bold",children:e.balance})]}),Object(O.jsx)("span",{style:{color:"#dadada"},children:"|"}),Object(O.jsxs)("div",{children:["Taken:"," ",Object(O.jsx)("span",{className:"text-primary mx-2 text-danger  fw-bold",children:e.leaveTaken})]})]})]})},t);var a}))}):Object(O.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center gap-3",style:{height:"100%",width:"100%"},children:[Object(O.jsx)("img",{style:{height:"100px",width:"100px"},className:"mx-auto",src:rt,alt:"Leave"}),Object(O.jsx)("p",{style:{opacity:"60%",fontSize:"13px"},className:"text-center w-100 mx-auto",children:"You do not have any leave at this moment."})]})}),Object(O.jsx)(n.a,{to:{1:"/admin/todaysAttendance",2:"/hr/createLeave",3:"/employee/leaveApplication",4:"/manager/createLeave"}[j],style:{cursor:"pointer"},className:"btn bg-primary rounded-2 text-white w-100",children:"Apply Leave"})]})};a(475);var ot=()=>{const{darkMode:e}=g(),{userData:t}=Object(P.c)((e=>e.user)),[a,l]=Object(s.useState)((new Date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}));Object(s.useEffect)((()=>{const e=setInterval((()=>{l((new Date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}))}),1e3);return()=>clearInterval(e)}),[]);const c=(new Date).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"}),[r,o]=a.split(" "),i=(new Date).getHours()>=18,d=null===t||void 0===t?void 0:t.Account;return Object(O.jsxs)("div",{className:"p-2 rounded-2 shadow-sm justify-content-between d-flex flex-column",style:{height:"17rem",border:e?"1px, solid #ede7e7da":"1px solid #55585d76",background:e?"linear-gradient(#87aef6, rgb(255, 255, 255))":"linear-gradient(#152d5b, rgba(22, 21, 21, 0.816))",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},children:[Object(O.jsxs)("div",{className:"d-flex  align-items-center justify-content-between px-2",children:[Object(O.jsxs)("div",{style:{color:e?"black":"white"},className:"d-flex flex-column gap-3 p-2",children:[i?Object(O.jsx)($.o,{style:{fontSize:"5rem"}}):Object(O.jsx)($.p,{className:"rotate",style:{fontSize:"5rem"}}),Object(O.jsx)("span",{children:c})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center  gap-2",children:[Object(O.jsxs)("div",{style:{color:e?"black":"white"},className:"d-flex flex-column",children:[Object(O.jsx)("span",{style:{fontSize:"1.9rem"},children:r}),Object(O.jsx)("span",{style:{fontSize:".9rem"},children:"Real time insight"})]}),Object(O.jsxs)("div",{className:"d-flex flex-column rounded-1",style:{overflow:"hidden",fontSize:"1rem"},children:[Object(O.jsx)("span",{className:"py-1 text-black px-3",style:{background:"#f8f8f8eb"},children:o}),Object(O.jsx)("span",{style:{background:"#dbd7d7"},className:"py-1 px-3 text-muted",children:"PM"===o?"AM":"PM"})]})]})]}),Object(O.jsx)(n.a,{to:{1:"/admin/todaysAttendance",2:"/hr/attenDance",3:"/employee/MyAttendance",4:"/manager/myAttendance"}[d],style:{cursor:"pointer"},className:"btn mx-2 bg-primary text-white",children:"View attendance"})]})};var it=()=>{const{darkMode:e}=g(),t=Object(P.b)(),{attendanceData:a,status:l}=Object(P.c)((e=>e.attendance)),{userData:c}=Object(P.c)((e=>e.user)),[r,o]=Object(s.useState)(!1),[i,d]=Object(s.useState)(!1),[j,m]=Object(s.useState)(!1);Object(s.useEffect)((()=>{"idle"===l&&t(K())}),[l,t]);const h=a.filter((e=>{var t,a;return!(null!==e&&void 0!==e&&null!==(t=e.attendance)&&void 0!==t&&t.loginTime[0])||"WO"===(null===e||void 0===e||null===(a=e.attendance)||void 0===a?void 0:a.loginTime[0])||null===(null===e||void 0===e?void 0:e.attendance)})),b=a.filter((e=>{var t;const a=null===e||void 0===e||null===(t=e.attendance)||void 0===t?void 0:t.loginTime[0];if(!a||"WO"===a||null===(null===e||void 0===e?void 0:e.attendance))return!1;const[s,l]=a.split(":").map(Number);return s>9||9===s&&l>45})),u=a.filter((e=>{var t,a;return(null===e||void 0===e||null===(t=e.attendance)||void 0===t?void 0:t.status)&&"break"===(null===e||void 0===e||null===(a=e.attendance)||void 0===a?void 0:a.status.toLowerCase())})),p=r?h:h.slice(0,2),v=i?b:b.slice(0,2),y=j?u:u.slice(0,2);console.log(y);const f=null===c||void 0===c?void 0:c.Account;return Object(O.jsxs)("div",{style:{height:"34rem",overflow:"hidden",color:e?"black":"white",background:e?"#F5F5F6":"#161515f6"},className:"p-2 px-3 shadow-sm rounded-2 d-flex flex-column gap-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsxs)("h5",{className:"my-0 fw-normal d-flex align-items-center gap-2",children:[Object(O.jsx)(Ee.f,{})," Employee Status"]}),Object(O.jsxs)(n.a,{to:{1:"/admin/todaysAttendance",2:"/hr/todaysAttendance"}[f],style:{cursor:"pointer",minHeight:"1.6rem",minWidth:"1.6rem",background:e?"#ededf1d4":"#252424c3"},className:"btn btn-light d-flex align-items-center bg-white rounded-5 my-2 px-2 py-0 ",children:["View All ",Object(O.jsx)(x.l,{})]})]}),Object(O.jsxs)("div",{style:{height:"30rem",overflow:"auto"},children:[Object(O.jsx)("hr",{className:"m-0 my-2",style:{border:"1px solid rgba(0,0,0,.3)"}}),Object(O.jsxs)("div",{className:"p-2 px-3 mb-1 rounded-3 shadow-sm",children:[Object(O.jsxs)("h6",{className:"text-start",children:["Absent (",h.length,")"]}),p.length>0?Object(O.jsx)("div",{className:"d-flex flex-column gap-2",children:p.map(((e,t)=>{var a,s,l,c,r,n,o,i;return Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("div",{style:{height:"30px",width:"30px",borderRadius:"50%",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#ccc",fontSize:"14px",fontWeight:"bold",color:"#fff"},children:null!==e&&void 0!==e&&null!==(a=e.profile)&&void 0!==a&&a.image_url?Object(O.jsx)("img",{style:{height:"100%",width:"100%",objectFit:"cover",overflow:"hidden",borderRadius:"50%"},src:e.profile.image_url,alt:`${null===e||void 0===e||null===(s=e.FirstName)||void 0===s?void 0:s.toUpperCase()} ${null===e||void 0===e||null===(l=e.LastName)||void 0===l?void 0:l.toUpperCase()}`}):`${null===e||void 0===e||null===(c=e.FirstName)||void 0===c||null===(r=c[0])||void 0===r?void 0:r.toUpperCase()}${null===e||void 0===e||null===(n=e.LastName)||void 0===n||null===(o=n[0])||void 0===o?void 0:o.toUpperCase()}`}),Object(O.jsxs)("div",{className:"d-flex flex-column text-start text-capitalize",children:[Object(O.jsxs)("p",{className:"m-0",children:[null===e||void 0===e?void 0:e.FirstName," ",null===e||void 0===e?void 0:e.LastName]}),Object(O.jsx)("p",{className:"m-0",children:null===e||void 0===e||null===(i=e.department)||void 0===i?void 0:i.DepartmentName})]})]}),Object(O.jsxs)("span",{className:"badge-danger ms-auto py-1",children:[Object(O.jsx)(N.f,{className:"my-auto"})," Absent"]})]},t)}))}):Object(O.jsx)("p",{className:"text-start",children:"Great! No one is absent today."}),h.length>2&&Object(O.jsx)("div",{className:"d-flex",children:Object(O.jsx)("button",{className:"btn py-0 px-2 rounded-0 shadow-sm border my-2 mx-0",onClick:()=>{o((e=>!e))},children:r?Object(O.jsxs)("span",{className:"d-flex align-items-center gap-1",style:{color:e?"black":"white"},children:["Show Less ",Object(O.jsx)(Te.b,{})]}):Object(O.jsxs)("span",{className:"d-flex align-items-center gap-1",style:{color:e?"black":"white"},children:["Show more (+",h.length-2,") ",Object(O.jsx)(Te.a,{})]})})})]}),Object(O.jsxs)("div",{className:"p-2 px-3 mb-1 rounded-3 shadow-sm",children:[Object(O.jsxs)("h6",{className:"text-start mt-3",children:["Half Day (",b.length,")"]}),v.length>0?Object(O.jsx)("div",{className:"d-flex flex-column gap-2",children:v.map(((e,t)=>{var a,s,l,c,r,n,o,i;return Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("div",{style:{height:"30px",width:"30px",borderRadius:"50%",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#ccc",fontSize:"14px",fontWeight:"bold",color:"#fff"},children:null!==e&&void 0!==e&&null!==(a=e.profile)&&void 0!==a&&a.image_url?Object(O.jsx)("img",{style:{height:"100%",width:"100%",objectFit:"cover",overflow:"hidden",borderRadius:"50%"},src:e.profile.image_url,alt:`${null===e||void 0===e||null===(s=e.FirstName)||void 0===s?void 0:s.toUpperCase()} ${null===e||void 0===e||null===(l=e.LastName)||void 0===l?void 0:l.toUpperCase()}`}):`${null===e||void 0===e||null===(c=e.FirstName)||void 0===c||null===(r=c[0])||void 0===r?void 0:r.toUpperCase()}${null===e||void 0===e||null===(n=e.LastName)||void 0===n||null===(o=n[0])||void 0===o?void 0:o.toUpperCase()}`}),Object(O.jsxs)("div",{className:"d-flex flex-column text-start text-capitalize",children:[Object(O.jsxs)("p",{className:"m-0",children:[null===e||void 0===e?void 0:e.FirstName," ",null===e||void 0===e?void 0:e.LastName]}),Object(O.jsx)("p",{className:"m-0",children:null===e||void 0===e||null===(i=e.department)||void 0===i?void 0:i.DepartmentName})]})]}),Object(O.jsxs)("span",{className:"badge-warning ms-auto py-1",children:[Object(O.jsx)(Ae.a,{className:"my-auto"})," Half Day"]})]},t)}))}):Object(O.jsx)("p",{className:"text-start",children:"Good! No one is on half day today."}),b.length>2&&Object(O.jsx)("div",{className:"d-flex",children:Object(O.jsx)("button",{className:"btn py-0 px-2 rounded-0 shadow-sm border my-2 mx-0",onClick:()=>{d((e=>!e))},children:i?Object(O.jsxs)("span",{className:"d-flex align-items-center gap-1",style:{color:e?"black":"white"},children:["Show Less ",Object(O.jsx)(Te.b,{})]}):Object(O.jsxs)("span",{className:"d-flex align-items-center gap-1",style:{color:e?"black":"white"},children:["Show more (+",b.length-2,") ",Object(O.jsx)(Te.a,{})]})})})]}),Object(O.jsxs)("div",{className:"p-2 px-3 mb-1 rounded-3 shadow-sm",children:[Object(O.jsxs)("h6",{className:"text-start mt-3",children:["Break (",u.length,")"]}),y.length>0?Object(O.jsx)("div",{className:"d-flex flex-column gap-2",children:y.map(((e,t)=>{var a,s,l,c,r,n,o,i;return Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("div",{style:{height:"30px",width:"30px",borderRadius:"50%",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#ccc",fontSize:"14px",fontWeight:"bold",color:"#fff"},children:null!==e&&void 0!==e&&null!==(a=e.profile)&&void 0!==a&&a.image_url?Object(O.jsx)("img",{style:{height:"100%",width:"100%",objectFit:"cover",overflow:"hidden",borderRadius:"50%"},src:e.profile.image_url,alt:`${null===e||void 0===e||null===(s=e.FirstName)||void 0===s?void 0:s.toUpperCase()} ${null===e||void 0===e||null===(l=e.LastName)||void 0===l?void 0:l.toUpperCase()}`}):`${null===e||void 0===e||null===(c=e.FirstName)||void 0===c||null===(r=c[0])||void 0===r?void 0:r.toUpperCase()}${null===e||void 0===e||null===(n=e.LastName)||void 0===n||null===(o=n[0])||void 0===o?void 0:o.toUpperCase()}`}),Object(O.jsxs)("div",{className:"d-flex flex-column text-start text-capitalize",children:[Object(O.jsxs)("p",{className:"m-0",children:[null===e||void 0===e?void 0:e.FirstName," ",null===e||void 0===e?void 0:e.LastName]}),Object(O.jsx)("p",{className:"m-0",children:null===e||void 0===e||null===(i=e.department)||void 0===i?void 0:i.DepartmentName})]})]}),Object(O.jsx)("span",{className:"badge-info ms-auto py-1",children:"On Break"})]},t)}))}):Object(O.jsx)("p",{className:"text-start",children:"Nice! No one is on break currently."}),u.length>2&&Object(O.jsx)("div",{className:"d-flex",children:Object(O.jsx)("button",{className:"btn py-0 px-2 rounded-0 shadow-sm border my-2 mx-0",onClick:()=>{m((e=>!e))},children:j?Object(O.jsxs)("span",{className:"d-flex align-items-center gap-1",style:{color:e?"black":"white"},children:["Show Less ",Object(O.jsx)(Te.b,{})]}):Object(O.jsxs)("span",{className:"d-flex align-items-center gap-1",style:{color:e?"black":"white"},children:["Show more (+",u.length-2,") ",Object(O.jsx)(Te.a,{})]})})})]})]})]})};a(476);var dt=()=>{const{isLogin:e}=Object(s.useContext)(b);return Object(s.useEffect)((()=>{}),[e]),Object(O.jsxs)("div",{className:"d-flex flex-column row-gap-4 py-3 px-3  container-fluid",children:[Object(O.jsxs)("div",{className:"row row-gap-4",children:[Object(O.jsx)("div",{className:"col-12 colm-md-6 col-lg-4",children:Object(O.jsx)(Ue,{})}),Object(O.jsx)("div",{className:"col-12 colm-md-6 col-lg-4",children:Object(O.jsx)(nt,{})}),Object(O.jsx)("div",{className:"col-12 colm-md-6 col-lg-4",children:Object(O.jsx)(Ze,{})})]}),Object(O.jsxs)("div",{className:"row row-gap-4",children:[Object(O.jsxs)("div",{className:"col-12 col-md-8 col-lg-8 row row-gap-4",children:[Object(O.jsx)("div",{className:"col-12 col-md-6",children:Object(O.jsx)(ot,{})}),Object(O.jsx)("div",{className:"col-12 col-md-6",children:Object(O.jsx)(st,{})}),Object(O.jsx)("div",{className:"col-12 col-md-6",children:Object(O.jsx)(tt,{})}),Object(O.jsx)("div",{className:"col-12 col-md-6",children:Object(O.jsx)(Ke,{})})]}),Object(O.jsx)("div",{className:"col-12 col-md-4 col-lg-4",children:Object(O.jsx)("div",{children:Object(O.jsx)(it,{})})})]})]})},jt=(a(477),a(478),a(646)),mt=a(21),ht=a.p+"static/media/Position.ab939b0d.svg";var bt=e=>{let{icon:t,tooltip:a,onClick:s,style:l}=e;return Object(O.jsx)(Me.a,{placement:"top",overlay:Object(O.jsx)(Le.a,{style:{overflow:"hidden"},className:"border border-2 p-0 rounded-5 ",id:"button-tooltip",children:a}),children:Object(O.jsx)("button",{style:l,onClick:s,className:"btn",children:t})})};const ut=e=>({verticalAlign:"middle",whiteSpace:"pre",background:e?"#E2E1F9":"#484848",color:e?"black":"white",border:"none",position:"sticky",top:"0rem",zIndex:"2"}),pt=e=>({verticalAlign:"middle",whiteSpace:"pre",background:e?"var(--secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:e?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)",borderBottom:"1px solid rgba(0,0,0,.08)"});var xt=a(154),Ot=a(129);var vt=e=>{let{currentPage:t,pageNumbers:a,handlePaginationPrev:s,handlePaginationNext:l,setCurrentPage:c,filteredDataLength:r,itemsPerPage:n}=e;const o=(t-1)*n,i=t*n,{darkMode:d}=g();return Object(O.jsxs)("div",{className:"d-flex flex-column-reverse gap-4 gap-md-0 flex-md-row w-100 justify-content-between align-items-center",children:[Object(O.jsxs)("div",{style:{color:d?"black":"white"},className:"my-auto",children:["Showing ",o+1," to"," ",Math.min(i,r)," of ",r," ","results"]}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-1",children:[Object(O.jsxs)(xt.a,{className:"btn bg-light text-dark rounded-5 border shadow-sm py-1 mx-1",onClick:s,disabled:1===t,children:[Object(O.jsx)(Ot.b,{className:"my-auto"})," Previous"]}),Object(O.jsx)("div",{className:"pagination d-flex flex-nowrap gap-2",children:a.map((e=>Object(O.jsx)(xt.a,{style:{border:"none",borderRadius:"50%",height:"25px",width:"25px",display:"flex",justifyContent:"center",alignItems:"center"},onClick:()=>c(e),className:t===e?"bg-primary text-white border-0 rounded-circle":"bg-light text-dark border rounded-circle",children:e},e)))}),Object(O.jsxs)(xt.a,{onClick:l,className:"btn bg-light text-dark rounded-5 border shadow-sm py-1 mx-1",disabled:i>=r,children:["Next ",Object(O.jsx)(Ot.a,{className:"my-auto"})]})]})]})};const gt=mt.a`
  display: block;
  margin: 0 auto;
  margin-top: 45px;
  border-color: red;
`;var yt=e=>{const[t,a]=Object(s.useState)([]),[l,c]=Object(s.useState)(!0),[r,n]=Object(s.useState)(1),[o]=Object(s.useState)(10),{darkMode:i}=g();Object(s.useEffect)((()=>{j()}),[]);const j=()=>{d.a.get(`${E}/api/role`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;a(t),c(!1)})).catch((e=>{console.log(e)}))},m=r*o,h=m-o,b=t.slice(h,m),u=[];for(let s=1;s<=Math.ceil(t.length/o);s++)u.push(s);return Object(O.jsxs)("div",{style:{height:"83vh",overflow:"hidden"},className:"container-fluid py-2",children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between py-2",children:[Object(O.jsxs)("div",{className:"my-auto",children:[Object(O.jsxs)("h5",{style:{color:i?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)",fontWeight:"600"},className:"m-0",children:["Role Details (",t.length,")"]}),Object(O.jsx)("p",{style:{color:i?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"m-0",children:"You can see all role's list here"})]}),Object(O.jsxs)("button",{className:"btn btn-primary gap-1 d-flex my-auto align-items-center justify-content-center",onClick:e.onAddRole,children:[Object(O.jsx)(Ee.d,{className:"fs-4"}),Object(O.jsx)("span",{className:"d-none d-md-flex",children:"Create Role"})]})]}),l?Object(O.jsx)("div",{id:"loading-bar",children:Object(O.jsx)(jt.a,{css:gt,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(O.jsx)("div",{style:{color:i?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)",overflow:"auto",maxHeight:"80vh",position:"relative"},children:b.length>0?Object(O.jsxs)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:[Object(O.jsxs)("table",{className:"table",style:{fontSize:".9rem",position:"relative"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:ut(i),children:"S. No."}),Object(O.jsx)("th",{style:ut(i),children:"Company"}),Object(O.jsx)("th",{style:ut(i),children:"Role"}),Object(O.jsx)("th",{style:ut(i),className:"text-end",children:"Action"})]})}),Object(O.jsx)("tbody",{children:b.map(((t,a)=>Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:pt(i),className:"text-capitalize",children:a+1+(r-1)*o}),Object(O.jsx)("td",{style:pt(i),className:"text-capitalize",children:t.company[0].CompanyName}),Object(O.jsx)("td",{style:pt(i),className:"text-capitalize",children:t.RoleName}),Object(O.jsxs)("td",{style:pt(i),className:"text-capitalize text-end",children:[Object(O.jsx)(bt,{style:{color:i?"black":"white"},icon:Object(O.jsx)(De.b,{className:"text-primary"}),onClick:()=>e.onEditRole(t),tooltip:"Edit Role"}),Object(O.jsx)(bt,{style:{color:i?"black":"white"},icon:Object(O.jsx)(Ee.b,{className:"fs-5 text-danger"}),onClick:()=>{return e=t._id,void(window.confirm("Are you sure to delete this record ? ")&&d.a.delete(`${E}/api/role/${e}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{j()})).catch((e=>{console.log(e),e.response&&403===e.response.status&&window.alert(e.response.data)})));var e},tooltip:"Delete Role"})]})]},a)))})]}),Object(O.jsx)(vt,{currentPage:r,pageNumbers:u,handlePaginationPrev:()=>{n((e=>e-1))},handlePaginationNext:()=>{n((e=>e+1))},setCurrentPage:n,filteredDataLength:t.length,itemsPerPage:o})]}):Object(O.jsxs)("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"2rem"},children:[Object(O.jsx)("img",{style:{height:"auto",width:"20%"},src:ht,alt:"img"}),Object(O.jsx)("p",{className:"text-center w-75 mx-auto",style:{color:i?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)"},children:'Role not created yet, to create new role click on "+ Create Role" button.'})]})})]})};a(480);var ft=e=>{const[t,a]=Object(s.useState)([]),{darkMode:l}=g();return Object(s.useEffect)((()=>{d.a.get(`${E}/api/company`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(e.data)})).catch((e=>{console.log(e)}))}),[]),Object(O.jsxs)("div",{style:{color:l?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"container-fluid py-3",children:[Object(O.jsx)("h5",{children:"Add Role Details"}),Object(O.jsx)("div",{children:Object(O.jsxs)("form",{className:"d-flex flex-column gap-3 mt-3",onSubmit:e.onRoleSubmit,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Company"}),Object(O.jsx)("div",{children:Object(O.jsxs)("select",{className:"rounded-0 form-select",as:"select",name:"country",required:!0,children:[Object(O.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),t.map(((e,t)=>Object(O.jsx)("option",{value:e._id,children:e.CompanyName},t)))]})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Role"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"rounded-0 form-control",type:"Text",placeholder:"Role",name:"Role",required:!0})})]}),Object(O.jsxs)("div",{className:"d-flex gap-3",children:[Object(O.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"}),Object(O.jsx)("button",{className:"btn btn-danger",type:"reset",onClick:e.onFormClose,children:"Cancel"})]})]})})]})};var Nt=e=>{const[t,a]=Object(s.useState)(e.editData.RoleName),[l,c]=Object(s.useState)([]),[r,n]=Object(s.useState)([]),{darkMode:o}=g();Object(s.useEffect)((()=>{d.a.get(`${E}/api/company`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{n(e.data),c(e.data)})).catch((e=>{console.log(e)}))}),[]);return Object(O.jsxs)("div",{style:{color:o?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"container-fluid py-3",children:[Object(O.jsx)("h5",{children:"Edit Role Details"}),Object(O.jsx)("div",{children:Object(O.jsxs)("form",{className:"d-flex flex-column gap-3 mt-3",onSubmit:t=>{t.preventDefault(),e.onRoleEditUpdate(e.editData,t.target[0].value,t.target[1].value)},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Company"}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsxs)("select",{className:"form-select",as:"select",name:"country",required:!0,children:[Object(O.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),r.map(((t,a)=>Object(O.jsx)("option",{value:t._id,selected:e.editData.company[0]._id===t._id,children:t.CompanyName},a)))]})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Role"}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"Text",placeholder:"Role",name:"RoleName",required:!0,value:t,onChange:e=>{a(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"d-flex gap-3",children:[Object(O.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Update"})," ",Object(O.jsx)("button",{className:"btn btn-danger",type:"reset",onClick:e.onFormEditClose,children:"Cancel"})]})]})})]})};class Dt extends s.Component{constructor(){super(...arguments),this.state={table:!0,editForm:!1,editData:{}},this.handleRoleSubmit=e=>{e.preventDefault(),this.setState({table:!0});let t={CompanyID:e.target[0].value,RoleName:e.target[1].value};d.a.post(`${E}/api/role`,t,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({table:!1}),this.setState({table:!0})})).catch((e=>{console.log(e)}))},this.handleAddRole=()=>{this.setState({table:!1})},this.handleEditRole=e=>{this.setState({editForm:!0}),this.setState({editData:e})},this.handleFormClose=()=>{this.setState({table:!0})},this.handleEditFormClose=()=>{this.setState({editForm:!1})},this.handleFormClose=()=>{this.setState({table:!0})},this.handleRoleEditUpdate=(e,t,a)=>{let s={CompanyID:t,RoleName:a};d.a.put(`${E}/api/role/`+e._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({table:!1}),this.setState({table:!0})})).catch((e=>{console.log(e)})),this.setState({editForm:!1})}}render(){return Object(O.jsx)(l.a.Fragment,{children:this.state.table?this.state.editForm?Object(O.jsx)(Nt,{onRoleEditUpdate:this.handleRoleEditUpdate,onFormEditClose:this.handleEditFormClose,editData:this.state.editData}):Object(O.jsx)(yt,{onAddRole:this.handleAddRole,onEditRole:this.handleEditRole}):Object(O.jsx)(ft,{onRoleSubmit:this.handleRoleSubmit,onFormClose:this.handleFormClose})})}}var kt=Dt,Ct=(a(481),a(482),a(198));var wt=e=>{let{updateTotalPositions:t,onAddPosition:a,onEditPosition:l}=e;const[c,r]=Object(s.useState)([]),[n,o]=Object(s.useState)(!0),[i,j]=Object(s.useState)(1),[m]=Object(s.useState)(10),{darkMode:h}=g();Object(s.useEffect)((()=>{b()}),[]);const b=()=>{d.a.get(`${E}/api/position`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{r(e.data),o(!1)})).catch((e=>{console.log(e)}))},u=i*m,p=u-m,x=c.slice(p,u),v=[];for(let s=1;s<=Math.ceil(c.length/m);s++)v.push(s);return Object(O.jsxs)("div",{className:"container-fluid py-2",children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between py-2",children:[Object(O.jsxs)("div",{className:"my-auto",children:[Object(O.jsxs)("h5",{style:{color:h?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)",fontWeight:"600"},className:"m-0",children:["Position Details (",c.length,")"]}),Object(O.jsx)("p",{style:{color:h?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"m-0",children:"You can see all position's list here"})]}),Object(O.jsxs)("button",{className:"btn btn-primary gap-1 d-flex my-auto align-items-center justify-content-center",onClick:a,children:[Object(O.jsx)(Ee.d,{className:"fs-4"}),Object(O.jsx)("span",{className:"d-none d-md-flex",children:"Create Position"})]})]}),Object(O.jsx)("div",{id:"clear-both"}),n&&Object(O.jsx)("div",{className:"d-flex justify-content-center",children:Object(O.jsx)(jt.a,{size:50,color:"#0000ff",loading:!0})}),Object(O.jsx)("div",{style:{color:h?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)",overflow:"auto",maxHeight:"80vh",position:"relative"},children:c.length>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)(Ct.a,{className:"table",style:{fontSize:".9rem"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:ut(h),children:"S. No."}),Object(O.jsx)("th",{style:ut(h),children:"Company"}),Object(O.jsx)("th",{style:ut(h),children:"Position"}),Object(O.jsx)("th",{style:ut(h),className:"text-end",children:"Action"})]})}),Object(O.jsx)("tbody",{children:x.map(((e,t)=>Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:pt(h),className:"text-capitalize",children:p+t+1}),Object(O.jsx)("td",{style:pt(h),className:"text-capitalize",children:e.company[0].CompanyName}),Object(O.jsx)("td",{style:pt(h),className:"text-capitalize",children:e.PositionName}),Object(O.jsxs)("td",{style:pt(h),className:"text-capitalize text-end",children:[Object(O.jsx)(bt,{style:{color:h?"black":"white"},icon:Object(O.jsx)(De.b,{className:"text-primary"}),onClick:()=>l(e),tooltip:"Edit Position"}),Object(O.jsx)(bt,{style:{color:h?"black":"white"},icon:Object(O.jsx)(Ee.b,{className:"fs-5 text-danger"}),onClick:()=>{return t=e._id,void(window.confirm("Are you sure to delete this record?")&&d.a.delete(`${E}/api/position/${t}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{b()})).catch((e=>{console.log(e),e.response&&403===e.response.status&&window.alert(e.response.data)})));var t},tooltip:"Delete Position"})]})]},t)))})]})}),Object(O.jsx)(vt,{currentPage:i,pageNumbers:v,handlePaginationPrev:()=>{j((e=>e-1))},handlePaginationNext:()=>{j((e=>e+1))},setCurrentPage:j,filteredDataLength:c.length,itemsPerPage:m})]}):Object(O.jsxs)("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"2rem"},children:[Object(O.jsx)("img",{style:{height:"auto",width:"20%"},src:ht,alt:"img"}),Object(O.jsx)("p",{className:"text-center w-75 mx-auto",style:{color:h?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)"},children:'Position not created yet, to create new role click on "+ Create Position" button.'})]})})]})};a(483);var At=e=>{const[t,a]=Object(s.useState)([]),[l,c]=Object(s.useState)([]),{darkMode:r}=g();return Object(s.useEffect)((()=>{d.a.get(`${E}/api/company`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{c(e.data),a(e.data)})).catch((e=>{console.log(e)}))}),[]),Object(O.jsxs)("div",{style:{color:r?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"container-fluid py-3",children:[Object(O.jsx)("h5",{children:"Add Position"}),Object(O.jsxs)("form",{className:"d-flex flex-column gap-3 mt-3",onSubmit:e.onPositionSubmit,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Company"}),Object(O.jsx)("div",{children:Object(O.jsxs)("select",{className:"form-select rounded-0",as:"select",name:"company",required:!0,children:[Object(O.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),l.map((e=>Object(O.jsx)("option",{value:e._id,children:e.CompanyName},e._id)))]})})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Position"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"Text",placeholder:"Position",name:"Position",required:!0})})]}),Object(O.jsxs)("div",{className:"d-flex gap-3",children:[Object(O.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"}),Object(O.jsx)("button",{className:"btn btn-danger",type:"reset",onClick:e.onFormClose,children:"Cancel"})]})]})]})};var St=e=>{const[t,a]=Object(s.useState)(e.editData.PositionName),[l,c]=Object(s.useState)([]),{darkMode:r}=g();Object(s.useEffect)((()=>{d.a.get(`${E}/api/company`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{c(e.data)})).catch((e=>{console.log(e)}))}),[]);return Object(O.jsxs)("div",{style:{color:r?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"container-fluid py-3",children:[Object(O.jsx)("h5",{children:"Edit Position Details"}),Object(O.jsx)("div",{children:Object(O.jsxs)("form",{className:"d-flex flex-column gap-3 mt-3",onSubmit:t=>{t.preventDefault(),e.onPositionEditUpdate(e.editData,t.target[0].value,t.target[1].value)},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Company"}),Object(O.jsx)("div",{children:Object(O.jsxs)("select",{className:"form-select rounded-0",as:"select",name:"country",required:!0,children:[Object(O.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),l.map(((t,a)=>Object(O.jsx)("option",{value:t._id,selected:e.editData.company[0]._id===t._id,children:t.CompanyName},a)))]})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Position"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"Text",placeholder:"Position",name:"PositionName",required:!0,value:t,onChange:e=>{a(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"d-flex gap-3",children:[Object(O.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Update"})," ",Object(O.jsx)("button",{className:"btn btn-danger",type:"reset",onClick:e.onFormEditClose,children:"Cancel"})]})]})})]})};class Et extends s.Component{constructor(){super(...arguments),this.state={table:!0,editForm:!1,editData:{}},this.handlePositionSubmit=e=>{e.preventDefault();const t={CompanyID:e.target[0].value,PositionName:e.target[1].value};d.a.post(`${E}/api/position`,t,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{this.setState({table:!0})})).catch((e=>{console.log(e)}))},this.handleAddPosition=()=>{this.setState({table:!1})},this.handleEditPosition=e=>{this.setState({editForm:!0,editData:e})},this.handleFormClose=()=>{this.setState({table:!0})},this.handleEditFormClose=()=>{this.setState({editForm:!1})},this.handlePositionEditUpdate=(e,t,a)=>{const s={CompanyID:t,PositionName:a};d.a.put(`${E}/api/position/${e._id}`,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{this.setState({table:!0,editForm:!1})})).catch((e=>{console.log(e)}))}}render(){const{table:e,editForm:t,editData:a}=this.state;return Object(O.jsx)(l.a.Fragment,{children:e?t?Object(O.jsx)(St,{onPositionEditUpdate:this.handlePositionEditUpdate,onFormEditClose:this.handleEditFormClose,editData:a}):Object(O.jsx)(wt,{onAddPosition:this.handleAddPosition,onEditPosition:this.handleEditPosition}):Object(O.jsx)(At,{onPositionSubmit:this.handlePositionSubmit,onFormClose:this.handleFormClose})})}}var Mt=Et;a(484),a(485);var Lt=e=>{let{onAddDepartment:t,onEditDepartment:a}=e;const[l,c]=Object(s.useState)([]),[r,n]=Object(s.useState)(!0),[o,i]=Object(s.useState)(1),[j]=Object(s.useState)(10),{darkMode:m}=g();Object(s.useEffect)((()=>{h()}),[]);const h=()=>{d.a.get(`${E}/api/department`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{c(e.data),n(!1)})).catch((e=>{console.log(e)}))},b=o*j,u=b-j,p=l.slice(u,b),x=[];for(let s=1;s<=Math.ceil(l.length/j);s++)x.push(s);return Object(O.jsxs)("div",{className:"container-fluid py-2",children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between py-2",children:[Object(O.jsxs)("div",{className:"my-auto",children:[Object(O.jsxs)("h5",{style:{color:m?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)",fontWeight:"600"},className:" m-0",children:["Department Details (",l.length,")"]}),Object(O.jsx)("p",{style:{color:m?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:" m-0",children:"You can see all department's list here"})]}),Object(O.jsxs)("button",{className:"btn btn-primary gap-1 d-flex  my-auto align-items-center justify-content-center",onClick:t,children:[Object(O.jsx)(Ee.d,{className:"fs-4"}),Object(O.jsx)("span",{className:"d-none d-md-flex",children:"Create Department"})]})]}),Object(O.jsx)("div",{style:{color:m?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)",overflow:"auto",maxHeight:"80vh",position:"relative"},children:l.length>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:ut(m),children:"S. No."}),Object(O.jsx)("th",{style:ut(m),children:"Company"}),Object(O.jsx)("th",{style:ut(m),children:"Department"}),Object(O.jsx)("th",{style:ut(m),className:"text-end",children:"Action"})]})}),Object(O.jsx)("tbody",{children:p.map(((e,t)=>Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:pt(m),className:"text-capitalize",children:u+t+1}),Object(O.jsx)("td",{style:pt(m),className:"text-capitalize",children:e.company[0].CompanyName}),Object(O.jsx)("td",{style:pt(m),className:"text-capitalize",children:e.DepartmentName}),Object(O.jsxs)("td",{style:pt(m),className:"text-capitalize text-end",children:[Object(O.jsx)(bt,{style:{color:m?"black":"white"},icon:Object(O.jsx)(De.b,{className:"text-primary"}),onClick:()=>a(e),tooltip:"Edit Department"}),Object(O.jsx)(bt,{style:{color:m?"black":"white"},icon:Object(O.jsx)(Ee.b,{className:"fs-5 text-danger"}),onClick:()=>{return t=e._id,void(window.confirm("Are you sure to delete this record ? ")&&d.a.delete(`${E}/api/department/${t}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{h()})).catch((e=>{console.log(e),e.response&&403===e.response.status&&window.alert(e.response.data)})));var t},tooltip:"Delete Department"})]})]},t)))})]})}),Object(O.jsx)(vt,{currentPage:o,pageNumbers:x,handlePaginationPrev:()=>{i((e=>e-1))},handlePaginationNext:()=>{i((e=>e+1))},setCurrentPage:i,filteredDataLength:l.length,itemsPerPage:j})]}):Object(O.jsxs)("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"2rem"},children:[Object(O.jsx)("img",{style:{height:"auto",width:"20%"},src:ht,alt:"img"}),Object(O.jsx)("p",{className:"text-center w-75 mx-auto",style:{color:m?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)"},children:'Department not created yet, to create new role click on "+ Create Department" button.'})]})}),r&&Object(O.jsx)("div",{children:"Loading..."})]})};a(277);var Tt=e=>{let{onDepartmentSubmit:t,onFormClose:a}=e;const[l,c]=Object(s.useState)([]),{darkMode:r}=g();Object(s.useEffect)((()=>{n()}),[]);const n=()=>{d.a.get(`${E}/api/company`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{c(e.data)})).catch((e=>{console.log(e)}))};return Object(O.jsxs)("div",{style:{color:r?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"container-fluid py-3",children:[Object(O.jsx)("h5",{children:"Add Department Details"}),Object(O.jsxs)("form",{className:"d-flex flex-column gap-3 mt-3",onSubmit:t,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Company"}),Object(O.jsx)("div",{children:Object(O.jsxs)("select",{className:"form-select rounded-0",name:"company",required:!0,children:[Object(O.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),l.map((e=>Object(O.jsx)("option",{value:e._id,children:e.CompanyName},e._id)))]})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Department"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"Department",name:"Department",required:!0})})]}),Object(O.jsxs)("div",{className:"d-flex gap-3",children:[Object(O.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"}),Object(O.jsx)("button",{className:"btn btn-danger",type:"reset",onClick:a,children:"Cancel"})]})]})]})};var Ft=e=>{let{editData:t,onDepartmentEditUpdate:a,onFormEditClose:l}=e;const[c,r]=Object(s.useState)(t.DepartmentName),[n,o]=Object(s.useState)([]),{darkMode:i}=g();Object(s.useEffect)((()=>{j()}),[]);const j=()=>{d.a.get(`${E}/api/company`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{o(e.data)})).catch((e=>{console.log(e)}))};return Object(O.jsxs)("div",{style:{color:i?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"container-fluid py-3",children:[Object(O.jsx)("h5",{children:"Edit Department Details"}),Object(O.jsx)("div",{children:Object(O.jsxs)("form",{className:"d-flex flex-column gap-3 mt-3",onSubmit:e=>{e.preventDefault(),a(t,e)},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Company"}),Object(O.jsx)("div",{children:Object(O.jsxs)("select",{className:"form-select rounded-0",as:"select",name:"company",required:!0,defaultValue:t.company[0]._id,children:[Object(O.jsx)("option",{value:"",disabled:!0,children:"Select your option"}),n.map((e=>Object(O.jsx)("option",{value:e._id,children:e.CompanyName},e._id)))]})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Department"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"Department",name:"DepartmentName",required:!0,value:c,onChange:e=>{r(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"d-flex gap-2",children:[Object(O.jsx)("button",{className:"btn btn-primary ",type:"submit",children:"Update"}),Object(O.jsx)("button",{className:"btn btn-danger ",type:"reset",onClick:l,children:"Cancel"})]})]})})]})};var Pt=()=>{const[e,t]=Object(s.useState)(!0),[a,c]=Object(s.useState)(!1),[r,n]=Object(s.useState)({});return Object(O.jsx)(l.a.Fragment,{children:e?a?Object(O.jsx)(Ft,{onDepartmentEditUpdate:(e,a)=>{a.preventDefault();const s={CompanyID:a.target[0].value,DepartmentName:a.target[1].value};d.a.put(`${E}/api/department/${e._id}`,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{t(!0),c(!1)})).catch((e=>{console.log(e)}))},onFormEditClose:()=>{c(!1)},editData:r}):Object(O.jsx)(Lt,{onAddDepartment:()=>{t(!1)},onEditDepartment:e=>{n(e),c(!0)}}):Object(O.jsx)(Tt,{onDepartmentSubmit:e=>{e.preventDefault();const a={CompanyID:e.target[0].value,DepartmentName:e.target[1].value};d.a.post(`${E}/api/department`,a,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{t(!0)})).catch((e=>{console.log(e)}))},onFormClose:()=>{t(!0)}})})};a(486),a(487);const It=mt.a`
  display: block;
  margin: 0 auto;
  margin-top: 45px;
  border-color: red;
`;var Rt=e=>{const[t,a]=Object(s.useState)([]),[l,c]=Object(s.useState)(!0),[r,n]=Object(s.useState)(1),[o]=Object(s.useState)(10),{darkMode:i}=g(),j=Object(s.useCallback)((()=>{d.a.get(`${E}/api/country`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(e.data),c(!1)})).catch((e=>{console.log(e)}))}),[]);Object(s.useEffect)((()=>{j()}),[j]);const m=r*o,h=m-o,b=t.slice(h,m),u=[];for(let s=1;s<=Math.ceil(t.length/o);s++)u.push(s);return Object(O.jsxs)("div",{className:"container-fluid py-2",children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between py-2",children:[Object(O.jsxs)("div",{className:"my-auto",children:[Object(O.jsxs)("h5",{style:{color:i?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)",fontWeight:"600"},className:"m-0",children:["Country Details (",t.length,")"]}),Object(O.jsx)("p",{style:{color:i?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"m-0",children:"You can see all country list here."})]}),Object(O.jsxs)("button",{className:"btn btn-primary gap-1 d-flex my-auto align-items-center justify-content-center",onClick:e.onAddCountry,children:[Object(O.jsx)(Ee.d,{className:"fs-4"}),Object(O.jsx)("span",{className:"d-none d-md-flex",children:"Add Country"})]})]}),Object(O.jsx)("div",{id:"clear-both"}),l&&Object(O.jsx)("div",{id:"loading-bar",children:Object(O.jsx)(jt.a,{css:It,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}),Object(O.jsxs)("div",{style:{color:i?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)",overflow:"auto",maxHeight:"80vh",position:"relative"},children:[Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",style:{fontSize:".9rem"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{style:{position:"sticky",top:"0"},children:[Object(O.jsx)("th",{style:ut(i),children:"Country"}),Object(O.jsx)("th",{className:"text-end",style:ut(i),children:"Action"})]})}),Object(O.jsx)("tbody",{children:b.map(((t,a)=>Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:pt(i),children:t.CountryName}),Object(O.jsxs)("td",{className:"text-end",style:pt(i),children:[Object(O.jsx)(bt,{style:{color:i?"black":"white"},icon:Object(O.jsx)(De.b,{className:"text-primary"}),onClick:()=>e.onEditCountry(t),tooltip:"Edit Country"}),Object(O.jsx)(bt,{style:{color:i?"black":"white"},icon:Object(O.jsx)(Ee.b,{className:"fs-5 text-danger"}),onClick:()=>{return e=t._id,void(window.confirm("Are you sure to delete this record?")&&d.a.delete(`${E}/api/country/${e}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{j()})).catch((e=>{403===e.response.status&&window.alert(e.response.data)})));var e},tooltip:"Delete Country"})]})]},a)))})]})}),Object(O.jsx)(vt,{currentPage:r,pageNumbers:u,handlePaginationPrev:()=>{n((e=>e-1))},handlePaginationNext:()=>{n((e=>e+1))},setCurrentPage:n,filteredDataLength:t.length,itemsPerPage:o})]})]})};a(488);var $t=e=>{let{onCountrySubmit:t,onFormClose:a}=e;const{darkMode:s}=g();return Object(O.jsxs)("div",{style:{color:s?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"container-fluid py-3",children:[Object(O.jsx)("h5",{children:"Add Country Details"}),Object(O.jsxs)("form",{className:"d-flex flex-column gap-3 mt-3",onSubmit:t,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{column:!0,sm:2,children:"Country"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-select rounded-0",type:"text",placeholder:"Country",name:"Country",required:!0})})]}),Object(O.jsxs)("div",{className:"d-flex gap-2",children:[Object(O.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"}),Object(O.jsx)("button",{className:"btn btn-danger",type:"reset",onClick:a,children:"Cancel"})]})]})]})};var zt=e=>{let{editData:t,onCountryEditUpdate:a,onFormEditClose:l}=e;const[c,r]=Object(s.useState)(t.CountryName),{darkMode:n}=g();return Object(O.jsxs)("div",{style:{color:n?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"container-fluid py-3",children:[Object(O.jsx)("h5",{children:"Edit Country Details"}),Object(O.jsxs)("form",{className:"d-flex flex-column gap-3 mt-3",id:"form",onSubmit:e=>{e.preventDefault(),a(t,e)},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("lebel",{children:"Country"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control mt-1 rounded-0",type:"text",placeholder:"Country",name:"CountryName",required:!0,value:c,onChange:e=>{r(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"d-flex gap-3",children:[Object(O.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Update"}),Object(O.jsx)("button",{className:"btn btn-danger",type:"reset",onClick:l,children:"Cancel"})]})]})]})};var qt=()=>{const[e,t]=Object(s.useState)(!0),[a,l]=Object(s.useState)(!1),[c,r]=Object(s.useState)({});return Object(O.jsx)(O.Fragment,{children:e?a?Object(O.jsx)(zt,{onCountryEditUpdate:(e,a)=>{a.preventDefault();const s=a.target[0].value;d.a.put(`${E}/api/country/${e._id}`,{CountryName:s},{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{t(!0),l(!1)})).catch((e=>{console.error(e)}))},onFormEditClose:()=>{l(!1)},editData:c}):Object(O.jsx)(Rt,{onAddCountry:()=>{t(!1)},onEditCountry:e=>{r(e),l(!0)}}):Object(O.jsx)($t,{onCountrySubmit:e=>{e.preventDefault();const a=e.target[0].value;d.a.post(`${E}/api/country`,{CountryName:a},{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{t(!0)})).catch((e=>{console.error(e)}))},onFormClose:()=>{t(!0)}})})};a(489);const Bt=mt.a`
  display: block;
  margin: 0 auto;
  margin-top: 45px;
  border-color: red;
`;var _t=e=>{const[t,a]=Object(s.useState)([]),[l,c]=Object(s.useState)(!0),[r,n]=Object(s.useState)(1),[o]=Object(s.useState)(5),{darkMode:i}=g(),j=Object(s.useCallback)((()=>{d.a.get(`${E}/api/state`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;a(t),c(!1)})).catch((e=>{console.log(e)}))}),[]);Object(s.useEffect)((()=>{j()}),[j]);const m=r*o,h=m-o,b=t.slice(h,m),u=[];for(let s=1;s<=Math.ceil(t.length/o);s++)u.push(s);return Object(O.jsxs)("div",{className:"container-fluid py-2",children:[Object(O.jsxs)("div",{className:"d-flex justify-between align-items-start mb-3",children:[Object(O.jsxs)("div",{className:"my-auto",children:[Object(O.jsxs)("h5",{style:{color:i?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)",fontWeight:"600"},className:"m-0",children:["State Details (",t.length,")"]}),Object(O.jsx)("p",{style:{color:i?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"m-0",children:"You can see all states list here."})]}),Object(O.jsxs)("button",{className:"btn btn-primary gap-1 d-flex my-auto align-items-center justify-content-center",onClick:e.onAddState,children:[Object(O.jsx)(Ee.d,{className:"fs-4"}),Object(O.jsx)("span",{className:"d-none d-md-flex",children:" Add State"})]})]}),Object(O.jsx)("div",{id:"clear-both"}),l?Object(O.jsx)("div",{id:"loading-bar",children:Object(O.jsx)(jt.a,{css:Bt,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(O.jsxs)("div",{style:{color:i?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)",overflow:"auto",maxHeight:"80vh",position:"relative"},children:[Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",style:{fontSize:".9rem"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{style:{position:"sticky",top:"0"},children:[Object(O.jsx)("th",{style:ut(i),children:"Country"}),Object(O.jsx)("th",{style:ut(i),children:"State"}),Object(O.jsx)("th",{className:"text-end",style:ut(i),children:"Action"})]})}),Object(O.jsx)("tbody",{children:b.map(((t,a)=>Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:pt(i),className:"text-uppercase",children:t.country[0].CountryName}),Object(O.jsx)("td",{style:pt(i),className:"text-uppercase",children:t.StateName}),Object(O.jsxs)("td",{className:"text-end",style:pt(i),children:[Object(O.jsx)(bt,{style:{color:i?"black":"white"},icon:Object(O.jsx)(De.b,{className:"text-primary"}),onClick:()=>e.onEditState(t),tooltip:"Edit State"}),Object(O.jsx)(bt,{style:{color:i?"black":"white"},icon:Object(O.jsx)(Ee.b,{className:"fs-5 text-danger"}),onClick:()=>{return e=t._id,void(window.confirm("Are you sure to delete this record?")&&d.a.delete(`${E}/api/state/${e}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{j()})).catch((e=>{console.log(e),e.response&&403===e.response.status?window.alert(e.response.data):window.alert("An error occurred while deleting the record.")})));var e},tooltip:"Delete State"})]})]},a)))})]})}),Object(O.jsx)(vt,{currentPage:r,pageNumbers:u,handlePaginationPrev:()=>{n((e=>e-1))},handlePaginationNext:()=>{n((e=>e+1))},setCurrentPage:n,filteredDataLength:t.length,itemsPerPage:o})]})]})};a(278);var Ht=e=>{let{onStateSubmit:t,onFormClose:a}=e;const[l,c]=Object(s.useState)([]),{darkMode:r}=g();return Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get(`${E}/api/country`,{headers:{authorization:localStorage.getItem("token")||""}});c(e.data)}catch(e){console.error(e)}})()}),[]),Object(O.jsxs)("div",{style:{color:r?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"container-fluid py-3",children:[Object(O.jsx)("h5",{children:"Add State Details"}),Object(O.jsxs)("form",{className:"d-flex flex-column gap-3 mt-3",onSubmit:t,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("lable",{children:"Country"}),Object(O.jsx)("div",{children:Object(O.jsxs)("select",{className:"form-control rounded-0",name:"country",required:!0,children:[Object(O.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),l.map((e=>Object(O.jsx)("option",{value:e._id,children:e.CountryName},e._id)))]})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("lable",{children:"State"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"State",name:"State",required:!0})})]}),Object(O.jsxs)("div",{className:"d-flex gap-3",children:[Object(O.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"}),Object(O.jsx)("button",{className:"btn btn-danger",type:"reset",onClick:a,children:"Cancel"})]})]})]})};var Ut=e=>{let{editData:t,onStateEditUpdate:a,onFormEditClose:l}=e;const[c,r]=Object(s.useState)(t.StateName),[n,o]=Object(s.useState)([]),{darkMode:i}=g();Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get(`${E}/api/country`,{headers:{authorization:localStorage.getItem("token")||""}});o(e.data)}catch(e){console.error(e)}})()}),[]);return Object(O.jsxs)("div",{style:{color:i?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"container-fluid py-3",children:[Object(O.jsx)("h5",{children:"Edit State Details"}),Object(O.jsxs)("form",{className:"d-flex flex-column gap-3 mt-3",onSubmit:e=>{a(t,e)},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Country"}),Object(O.jsx)("div",{children:Object(O.jsxs)("select",{className:"form-select rounded-0",name:"country",required:!0,children:[Object(O.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),n.map((e=>Object(O.jsx)("option",{value:e._id,selected:t.country[0]._id===e._id,children:e.CountryName},e._id)))]})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"State"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"State",name:"StateName",required:!0,value:c,onChange:e=>{r(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"d-flex gap-3",children:[Object(O.jsx)("button",{className:"btn btn-primary ",type:"submit",children:"Update"}),Object(O.jsx)("button",{className:"btn btn-danger ",type:"reset",onClick:l,children:"Cancel"})]})]})]})};a(490);var Wt=()=>{const[e,t]=Object(s.useState)(!0),[a,c]=Object(s.useState)(!1),[r,n]=Object(s.useState)({});return Object(O.jsx)(l.a.Fragment,{children:e?a?Object(O.jsx)(Ut,{onStateEditUpdate:(e,a)=>{a.preventDefault();const s={CountryID:a.target[0].value,StateName:a.target[1].value};d.a.put(`${E}/api/state/${e._id}`,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{t(!0),c(!1)})).catch((e=>{console.error(e)}))},onFormEditClose:()=>{c(!1)},editData:r}):Object(O.jsx)(_t,{onAddState:()=>{t(!1)},onEditState:e=>{c(!0),n(e)}}):Object(O.jsx)(Ht,{onStateSubmit:e=>{e.preventDefault();const a={CountryID:e.target[0].value,StateName:e.target[1].value};d.a.post(`${E}/api/state`,a,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{t(!0)})).catch((e=>{console.error(e)}))},onFormClose:()=>{t(!0)}})})};a(491),a(492);const Gt=mt.a`
  display: block;
  margin: 0 auto;
  margin-top: 45px;
  border-color: red;
`;var Yt=e=>{let{onAddCity:t,onEditCity:a}=e;const[l,c]=Object(s.useState)([]),[r,n]=Object(s.useState)(!0),[o,i]=Object(s.useState)(1),[j]=Object(s.useState)(10),{darkMode:m}=g();Object(s.useEffect)((()=>{h()}),[o]);const h=()=>{n(!0),d.a.get(`${E}/api/city`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;c(t),n(!1)})).catch((e=>{console.log(e),n(!1)}))},b=o*j,u=b-j,p=l.slice(u,b),x=[];for(let s=1;s<=Math.ceil(l.length/j);s++)x.push(s);return Object(O.jsxs)("div",{style:{height:"83vh",overflow:"hidden"},className:"container-fluid py-2",children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[Object(O.jsxs)("div",{className:"my-auto",children:[Object(O.jsxs)("h5",{style:{color:m?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)",fontWeight:"600"},className:"m-0",children:["City Details (",l.length,")"]}),Object(O.jsx)("p",{style:{color:m?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"m-0",children:"You can see all city's list here."})]}),Object(O.jsxs)("button",{className:"btn btn-primary gap-1 d-flex my-auto align-items-center justify-content-center",onClick:t,children:[Object(O.jsx)(Ee.d,{className:"fs-4"}),Object(O.jsx)("span",{className:"d-none d-md-flex",children:"Add City"})]})]}),Object(O.jsx)("div",{id:"clear-both"}),r?Object(O.jsx)("div",{id:"loading-bar",children:Object(O.jsx)(jt.a,{css:Gt,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(O.jsx)("div",{className:"d-flex flex-column",children:Object(O.jsxs)("div",{className:"flex-grow-1",children:[Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{style:{position:"sticky",top:"0"},children:[Object(O.jsx)("th",{style:ut(m),children:"Country"}),Object(O.jsx)("th",{style:ut(m),children:"State"}),Object(O.jsx)("th",{style:ut(m),children:"City"}),Object(O.jsx)("th",{style:ut(m),className:"text-end",children:"Action"})]})}),Object(O.jsx)("tbody",{children:p.map(((e,t)=>Object(O.jsxs)("tr",{className:"text-capitalize",children:[Object(O.jsx)("td",{style:pt(m),children:e.state[0].country[0].CountryName}),Object(O.jsx)("td",{style:pt(m),children:e.state[0].StateName}),Object(O.jsx)("td",{style:pt(m),children:e.CityName}),Object(O.jsxs)("td",{className:"text-end",style:pt(m),children:[Object(O.jsx)(bt,{style:{color:m?"black":"white"},icon:Object(O.jsx)(De.b,{className:"text-primary"}),onClick:()=>a(e),tooltip:"Edit City"}),Object(O.jsx)(bt,{style:{color:m?"black":"white"},icon:Object(O.jsx)(Ee.b,{className:"fs-5 text-danger"}),onClick:()=>{return t=e._id,void(window.confirm("Are you sure to delete this record?")&&d.a.delete(`${E}/api/city/${t}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{h()})).catch((e=>{console.log(e),e.response&&403===e.response.status?window.alert(e.response.data):window.alert("An error occurred while deleting the record.")})));var t},tooltip:"Delete City"})]})]},t)))})]})}),Object(O.jsx)(vt,{currentPage:o,pageNumbers:x,handlePaginationPrev:()=>{i((e=>e-1))},handlePaginationNext:()=>{i((e=>e+1))},setCurrentPage:i,filteredDataLength:l.length,itemsPerPage:j})]})})]})};a(493);var Vt=e=>{let{onCitySubmit:t,onFormClose:a}=e;const[l,c]=Object(s.useState)([]),[r,n]=Object(s.useState)([]),[o,i]=Object(s.useState)([]),{darkMode:j}=g();Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get(`${E}/api/country`,{headers:{authorization:localStorage.getItem("token")||""}});i(e.data)}catch(e){console.log(e)}})(),(async()=>{try{const e=await d.a.get(`${E}/api/state`,{headers:{authorization:localStorage.getItem("token")||""}});c(e.data)}catch(e){console.log(e)}})()}),[]);return Object(O.jsxs)("div",{style:{color:j?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"container-fluid py-3",children:[Object(O.jsx)("h5",{children:"Add City Details"}),Object(O.jsxs)("form",{className:"d-flex flex-column gap-3 mt-3",onSubmit:t,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Country"}),Object(O.jsx)("div",{children:Object(O.jsxs)("select",{className:"form-select rounded-0",as:"select",name:"country",onChange:e=>{const t=e.target.value,a=l.filter((e=>e.country[0]._id===t));n(a)},children:[Object(O.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),o.map((e=>Object(O.jsx)("option",{value:e._id,children:e.CountryName},e._id)))]})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{divumn:!0,sm:2,children:"State"}),Object(O.jsx)("div",{children:Object(O.jsxs)("select",{className:"form-select rounded-0",name:"state",required:!0,children:[Object(O.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),r.map((e=>Object(O.jsx)("option",{value:e._id,children:e.StateName},e._id)))]})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{divumn:!0,sm:2,children:"City"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"City",name:"City",required:!0})})]}),Object(O.jsxs)("div",{className:"d-flex gap-2",children:[Object(O.jsx)("button",{className:"btn btn-primary ",type:"submit",children:"Submit"}),Object(O.jsx)("button",{className:"btn btn-danger ",type:"reset",onClick:a,children:"cancel"})]})]})]})};var Jt=e=>{let{editData:t,onCityEditUpdate:a,onFormEditClose:l}=e;const[c,r]=Object(s.useState)(t.CityName),[n,o]=Object(s.useState)([]),[i,j]=Object(s.useState)([]),[m,h]=Object(s.useState)([]),{darkMode:b}=g();Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get(`${E}/api/country`,{headers:{authorization:localStorage.getItem("token")||""}});h(e.data)}catch(e){console.log(e)}})(),(async()=>{try{const e=await d.a.get(`${E}/api/state`,{headers:{authorization:localStorage.getItem("token")||""}});o(e.data)}catch(e){console.log(e)}})()}),[]);return Object(O.jsxs)("div",{style:{color:b?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"container-fluid py-3",children:[Object(O.jsx)("h5",{children:"Edit City Details"}),Object(O.jsxs)("form",{className:"d-flex flex-column gap-3 mt-3",onSubmit:e=>a(t,e),children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Country"}),Object(O.jsx)("div",{children:Object(O.jsxs)("select",{className:"form-select rounded-0",name:"country",onChange:e=>{const t=e.target.value,a=n.filter((e=>e.country[0]._id===t));j(a)},defaultValue:"",children:[Object(O.jsx)("option",{value:"",disabled:!0,children:"Select your option"}),m.map(((e,t)=>Object(O.jsx)("option",{value:e._id,children:e.CountryName},t)))]})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"State"}),Object(O.jsx)("div",{children:Object(O.jsxs)("select",{className:"form-select rounded-0",name:"state",required:!0,children:[Object(O.jsx)("option",{value:"",disabled:!0,children:"Select your option"}),i.map(((e,a)=>Object(O.jsx)("option",{value:e._id,selected:t.state[0]._id===e._id,children:e.StateName},a)))]})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"City"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"City",name:"City",required:!0,onChange:e=>{r(e.target.value)},value:c})})]}),Object(O.jsxs)("div",{className:"d-flex gap-2",children:[Object(O.jsx)("button",{className:"btn btn-primary ",type:"submit",children:"Update"}),Object(O.jsx)("button",{className:"btn btn-danger ",type:"reset",onClick:l,children:"Cancel"})]})]})]})};var Zt=()=>{const[e,t]=Object(s.useState)(!0),[a,c]=Object(s.useState)(!1),[r,n]=Object(s.useState)({});return Object(O.jsx)(l.a.Fragment,{children:e?a?Object(O.jsx)(Jt,{onCityEditUpdate:(e,a)=>{a.preventDefault(),t(!0);const s={StateID:a.target[1].value,CityName:a.target[2].value};d.a.put(`${E}/api/city/${e._id}`,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{c(!1),t(!0)})).catch((e=>{console.log(e)}))},onFormEditClose:()=>{c(!1)},editData:r}):Object(O.jsx)(Yt,{onAddCity:()=>{t(!1)},onEditCity:e=>{c(!0),n(e)}}):Object(O.jsx)(Vt,{onCitySubmit:e=>{e.preventDefault(),t(!0);const a={StateID:e.target[1].value,CityName:e.target[2].value};d.a.post(`${E}/api/city`,a,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{t(!1),t(!0)})).catch((e=>{console.log(e)}))},onFormClose:()=>{t(!0)}})})};var Xt=e=>{const[t,a]=Object(s.useState)([]),{userData:l}=Object(P.c)((e=>e.user)),[c,r]=Object(s.useState)(!0),[n,i]=Object(s.useState)(1),[j]=Object(s.useState)(10),{darkMode:m}=g(),h=null===l||void 0===l?void 0:l.Account,b=Object(o.p)();Object(s.useEffect)((()=>{d.a.get(`${E}/api/company`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(e.data),r(!1)})).catch((e=>console.log(e)))}),[]);const u=n*j,p=u-j,x=t.slice(p,u),v=[];for(let s=1;s<=Math.ceil(t.length/j);s++)v.push(s);const y=Object(s.useRef)(null),[f,N]=Object(s.useState)(!1),D=()=>{const e=y.current;e&&N(e.scrollWidth>e.clientWidth)};return Object(s.useEffect)((()=>(D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D))),[t]),Object(O.jsxs)("div",{className:"container-fluid py-2",children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between py-2",children:[Object(O.jsxs)("div",{className:"my-auto",children:[Object(O.jsxs)("h5",{style:{color:m?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)",fontWeight:"600"},className:" m-0",children:["Company Details (",t.length,")"]}),Object(O.jsx)("p",{style:{color:m?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:" m-0",children:"You can see all Company list here"})]}),1===h&&Object(O.jsxs)("button",{className:"btn btn-primary gap-1 d-flex my-auto align-items-center justify-content-center",onClick:e.onAddCompany,children:[Object(O.jsx)(Ee.d,{className:"fs-4"}),Object(O.jsx)("span",{className:"d-none d-md-flex",children:"Create Company"})]})]}),Object(O.jsx)("button",{onClick:()=>b.goBack(),className:"btn btn-primary my-auto",children:"Back"})," ",c&&Object(O.jsx)("div",{className:"d-flex justify-content-center",children:Object(O.jsx)(jt.a,{size:50,color:"#0000ff",loading:!0})}),Object(O.jsx)("div",{style:{color:m?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)",overflow:"auto",maxHeight:"80vh",minHeight:"80vh",position:"relative"},children:t.length>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{ref:y,style:{overflowX:"auto",position:"relative",cursor:f?"ew-resize":"default"},className:"table-responsive p-2 mb-3",onMouseMove:e=>{const t=y.current;if(!t)return;const a=t.getBoundingClientRect(),s=e.clientX;s<a.left+50?t.scrollLeft-=10:s>a.right-50&&(t.scrollLeft+=10)},children:Object(O.jsxs)("table",{className:"table",style:{fontSize:".9rem"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:ut(m),children:"Company Name"}),Object(O.jsx)("th",{style:ut(m),children:"Address"}),Object(O.jsx)("th",{style:ut(m),children:"Country"}),Object(O.jsx)("th",{style:ut(m),children:"State"}),Object(O.jsx)("th",{style:ut(m),children:"City"}),Object(O.jsx)("th",{style:ut(m),children:"Postal Code"}),Object(O.jsx)("th",{style:ut(m),children:"Website"}),Object(O.jsx)("th",{style:ut(m),children:"Email"}),Object(O.jsx)("th",{style:ut(m),children:"Contact Person"}),Object(O.jsx)("th",{style:ut(m),children:"Contact No"}),Object(O.jsx)("th",{style:ut(m),children:"Fax No"}),Object(O.jsx)("th",{style:ut(m),children:"Pan No"}),Object(O.jsx)("th",{style:ut(m),children:"GST No"}),Object(O.jsx)("th",{style:ut(m),children:"CIN No"}),1===h&&Object(O.jsx)("th",{className:"text-end",style:ut(m),children:"Action"})]})}),Object(O.jsx)("tbody",{children:x.map((s=>Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:pt(m),children:s.CompanyName}),Object(O.jsx)("td",{style:pt(m),children:s.Address}),Object(O.jsx)("td",{style:pt(m),children:s.city[0].state[0].country[0].CountryName}),Object(O.jsx)("td",{style:pt(m),children:s.city[0].state[0].StateName}),Object(O.jsx)("td",{style:pt(m),children:s.city[0].CityName}),Object(O.jsx)("td",{style:pt(m),children:s.PostalCode}),Object(O.jsx)("td",{style:pt(m),children:s.Website}),Object(O.jsx)("td",{style:pt(m),children:s.Email}),Object(O.jsx)("td",{style:pt(m),children:s.ContactPerson}),Object(O.jsx)("td",{style:pt(m),children:s.ContactNo}),Object(O.jsx)("td",{style:pt(m),children:s.FaxNo}),Object(O.jsx)("td",{style:pt(m),children:s.PanNo}),Object(O.jsx)("td",{style:pt(m),children:s.GSTNo}),Object(O.jsx)("td",{style:pt(m),children:s.CINNo}),1===h&&Object(O.jsxs)("td",{className:"text-end",style:pt(m),children:[Object(O.jsx)(bt,{style:{color:m?"black":"white"},icon:Object(O.jsx)(De.b,{className:"text-primary"}),onClick:()=>e.onEditCompany(s),tooltip:"Edit Company"}),Object(O.jsx)(bt,{style:{color:m?"black":"white"},icon:Object(O.jsx)(Ee.b,{className:"fs-5 text-danger"}),onClick:()=>{return e=s._id,void(window.confirm("Are you sure to delete this record?")&&d.a.delete(`${E}/api/company/${e}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>a(t.filter((t=>t._id!==e))))).catch((e=>console.log(e))));var e},tooltip:"Delete Company"})]})]},s._id)))})]})}),Object(O.jsx)(vt,{currentPage:n,pageNumbers:v,handlePaginationPrev:()=>{i((e=>e-1))},handlePaginationNext:()=>{i((e=>e+1))},setCurrentPage:i,filteredDataLength:t.length,itemsPerPage:j})]}):!c&&Object(O.jsx)("div",{className:"text-center py-5",children:"No companies found."})})]})};a(494);var Qt=e=>{const[t,a]=Object(s.useState)([]),[l,c]=Object(s.useState)([]),[r,n]=Object(s.useState)([]),[o,i]=Object(s.useState)([]),[j,m]=Object(s.useState)([]),{darkMode:h}=g();Object(s.useEffect)((()=>{b(),u(),p()}),[]);const b=()=>{d.a.get(`${E}/api/country`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(e.data)})).catch((e=>{console.log(e)}))},u=()=>{d.a.get(`${E}/api/state`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{c(e.data)})).catch((e=>{console.log(e)}))},p=()=>{d.a.get(`${E}/api/city`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{n(e.data)})).catch((e=>{console.log(e)}))},x=(e,t,a)=>Object(O.jsxs)("div",{className:"col-12 col-md-6",children:[Object(O.jsx)("label",{children:e}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:a,placeholder:e,name:t,required:!0})})]}),v=(e,t,a,s)=>Object(O.jsxs)("div",{className:"col-12 col-md-6 ",children:[Object(O.jsx)("label",{children:e}),Object(O.jsx)("div",{children:Object(O.jsxs)("select",{className:"form-select rounded-0",name:t,onChange:s,required:!0,children:[Object(O.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),a.map(((t,a)=>Object(O.jsx)("option",{value:t._id,children:t[e+"Name"]},a)))]})})]});return Object(O.jsx)("div",{style:{color:h?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:Object(O.jsxs)("div",{className:"\r container-fluid p-3 py-4",children:[Object(O.jsx)("h5",{className:"my-3",children:"Add Company Details"}),Object(O.jsxs)(M.a,{className:"row row-gap-3",onSubmit:e.onCompanySubmit,children:[x("Company Name","Company Name","text"),(y="Address",f="address",Object(O.jsxs)("div",{className:"col-12 col-md-6 ",children:[Object(O.jsx)("label",{children:y}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",as:"textarea",rows:"3",placeholder:y,name:f,required:!0})})]})),v("Country","country",t,(e=>{const t=e.target.value,a=l.filter((e=>e.country[0]._id===t));i(a),m([])})),v("State","state",l,(e=>{const t=e.target.value,a=r.filter((e=>e.state[0]._id===t));m(a)})),v("City","city",r),x("Postal Code","Postal Code","number"),x("Website","Website","text"),x("Email","Email","email"),x("Contact Person","Contact Person","text"),x("Contact No","Contact No","text"),x("Fax No","Fax No","text"),x("Pan Card No","Pan No","text"),x("GST No","GST No","text"),x("CIN No","CIN No","text"),Object(O.jsxs)("div",{className:"d-flex gap-2",children:[Object(O.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"}),Object(O.jsx)("button",{type:"reset",className:"btn btn-danger",onClick:e.onFormClose,children:"Cancel"})]})]})]})});var y,f};a(495);var Kt=e=>{let{editData:t,onCompanyEditUpdate:a,onFormEditClose:l}=e;const[c,r]=Object(s.useState)([]),[n,o]=Object(s.useState)([]),[i,j]=Object(s.useState)([]),[m,h]=Object(s.useState)([]),[b,u]=Object(s.useState)([]),[p,x]=Object(s.useState)(t.CompanyName),[v,y]=Object(s.useState)(t.Address),[f,N]=Object(s.useState)(t.PostalCode),[D,k]=Object(s.useState)(t.Website),[C,w]=Object(s.useState)(t.Email),[A,S]=Object(s.useState)(t.ContactPerson),[M,L]=Object(s.useState)(t.ContactNo),[T,F]=Object(s.useState)(t.FaxNo),[P,I]=Object(s.useState)(t.PanNo),[R,$]=Object(s.useState)(t.GSTNo),[z,q]=Object(s.useState)(t.CINNo),{darkMode:B}=g();Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get(`${E}/api/country`,{headers:{authorization:localStorage.getItem("token")||""}});r(e.data)}catch(e){console.log(e)}})(),(async()=>{try{const e=await d.a.get(`${E}/api/state`,{headers:{authorization:localStorage.getItem("token")||""}});o(e.data)}catch(e){console.log(e)}})(),(async()=>{try{const e=await d.a.get(`${E}/api/city`,{headers:{authorization:localStorage.getItem("token")||""}});j(e.data)}catch(e){console.log(e)}})()}),[]);return Object(O.jsxs)("div",{style:{color:B?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"container-fluid py-3",children:[Object(O.jsx)("h5",{children:"Edit Company Details"}),Object(O.jsxs)("form",{className:"d-flex flex-column gap-3 mt-3",onSubmit:e=>{e.preventDefault(),a({CompanyName:p,Address:v,PostalCode:f,Website:D,Email:C,ContactPerson:A,ContactNo:M,FaxNo:T,PanNo:P,GSTNo:R,CINNo:z},e)},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Company Name"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"Company Name",name:"CompanyName",value:p,onChange:e=>x(e.target.value),required:!0})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Address"}),Object(O.jsx)("div",{children:Object(O.jsx)("textarea",{className:"form-control rounded-0",rows:"3",placeholder:"Address",required:!0,value:v,onChange:e=>y(e.target.value)})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Country"}),Object(O.jsx)("div",{children:Object(O.jsxs)("select",{className:"form-select rounded-0",name:"country",onChange:e=>{const t=e.target.value,a=n.filter((e=>e.country[0]._id===t));h(a)},children:[Object(O.jsx)("option",{value:"",disabled:!0,children:"Select your option"}),c.map(((e,t)=>Object(O.jsx)("option",{value:e._id,children:e.CountryName},t)))]})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"State"}),Object(O.jsx)("div",{children:Object(O.jsxs)("select",{className:"form-select rounded-0",name:"state",onChange:e=>{const t=e.target.value,a=i.filter((e=>e.state[0]._id===t));u(a)},children:[Object(O.jsx)("option",{value:"",disabled:!0,children:"Select your option"}),n.map(((e,t)=>Object(O.jsx)("option",{value:e._id,children:e.StateName},t)))]})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"City"}),Object(O.jsx)("div",{children:Object(O.jsxs)("select",{className:"form-select rounded-0",name:"city",required:!0,children:[Object(O.jsx)("option",{value:"",disabled:!0,children:"Select your option"}),i.map(((e,t)=>Object(O.jsx)("option",{value:e._id,children:e.CityName},t)))]})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"PostalCode"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"number",placeholder:"PostalCode",required:!0,value:f,onChange:e=>N(e.target.value)})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Website"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"Website",required:!0,value:D,onChange:e=>k(e.target.value)})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Email"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"email",placeholder:"Email",required:!0,value:C,onChange:e=>w(e.target.value)})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Contact Person"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"Contact Person",required:!0,value:A,onChange:e=>S(e.target.value)})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Contact No"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"Contact No",required:!0,value:M,onChange:e=>L(e.target.value)})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"FaxNo"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"FaxNo",required:!0,value:T,onChange:e=>F(e.target.value)})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"PanCard No"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"PanCard No",required:!0,value:P,onChange:e=>I(e.target.value)})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"GSTNo"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"GSTNo",required:!0,value:R,onChange:e=>$(e.target.value)})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"CINNo"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"CINNo",required:!0,value:z,onChange:e=>q(e.target.value)})})]}),Object(O.jsxs)("div",{className:"d-flex gap-3",children:[Object(O.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"}),Object(O.jsx)("button",{className:"btn btn-danger",type:"reset",onClick:l,children:"Cancel"})]})]})]})};class ea extends s.Component{constructor(){super(...arguments),this.state={table:!0,editForm:!1,editData:{}},this.handleCompanySubmit=e=>{e.preventDefault(),this.setState({table:!0});let t={CompanyName:e.target[0].value,Address:e.target[1].value,CityID:e.target[4].value,PostalCode:e.target[5].value,Website:e.target[6].value,Email:e.target[7].value,ContactPerson:e.target[8].value,ContactNo:e.target[9].value,FaxNo:e.target[10].value,PanNo:e.target[11].value,GSTNo:e.target[12].value,CINNo:e.target[13].value};d.a.post(`${E}/api/company`,t,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({table:!1}),this.setState({table:!0})})).catch((e=>{console.log(e)}))},this.handleAddCompany=()=>{this.setState({table:!1})},this.handleEditCompany=e=>{this.setState({editForm:!0}),this.setState({editData:e})},this.handleFormClose=()=>{this.setState({table:!0})},this.handleEditFormClose=()=>{this.setState({editForm:!1})},this.handleFormClose=()=>{this.setState({table:!0})},this.handleCompanyEditUpdate=(e,t)=>{t.preventDefault();let a={CompanyName:t.target[0].value,Address:t.target[1].value,CityID:t.target[4].value,PostalCode:t.target[5].value,Website:t.target[6].value,Email:t.target[7].value,ContactPerson:t.target[8].value,ContactNo:t.target[9].value,FaxNo:t.target[10].value,PanNo:t.target[11].value,GSTNo:t.target[12].value,CINNo:t.target[13].value};d.a.put(`${E}/api/company/`+e._id,a,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{this.setState({table:!1}),this.setState({table:!0})})).catch((e=>{console.log(e)})),this.setState({editForm:!1})}}render(){return Object(O.jsx)(l.a.Fragment,{children:this.state.table?this.state.editForm?Object(O.jsx)(Kt,{onCompanyEditUpdate:this.handleCompanyEditUpdate,onFormEditClose:this.handleEditFormClose,editData:this.state.editData}):Object(O.jsx)(Xt,{onAddCompany:this.handleAddCompany,onEditCompany:this.handleEditCompany}):Object(O.jsx)(Qt,{onCompanySubmit:this.handleCompanySubmit,onFormClose:this.handleFormClose})})}}var ta=ea,aa=(a(279),a(496),a(61),a(202)),sa=a(51),la=(a(91),a(36));var ca=e=>{const t=Object(o.n)().pathname.split("/")[1],[,a]=Object(s.useState)([]),[l,c]=Object(s.useState)(!0),[r,n]=Object(s.useState)([]),[i,j]=Object(s.useState)(""),[m]=Object(s.useState)(!1),[h,b]=Object(s.useState)(!0),[,u]=Object(s.useState)([]),[p,x]=Object(s.useState)(""),[v,y]=Object(s.useState)(null),[f,D]=Object(s.useState)(1),[k]=Object(s.useState)(10),{darkMode:C}=g(),w=""!==p,A=()=>{d.a.get(`${E}/api/employee`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{Array.isArray(e.data)?(a(e.data),c(!1),n([]),e.data.forEach((e=>{if("hr"===t&&1===e.Account)return;let a={data:e,Email:e.Email,Password:e.Password,Account:1===e.Account?"Admin":2===e.Account?"HR":3===e.Account?"Employee":4===e.Account?"Manager":"",RoleName:e.role[0]?e.role[0].RoleName:"",FirstName:e.FirstName,MiddleName:e.MiddleName,LastName:e.LastName,DOB:e.DOB.slice(0,10),ContactNo:e.ContactNo,empID:e.empID,DepartmentName:e.department[0]?e.department[0].DepartmentName:"",PositionName:e.position[0]?e.position[0].PositionName:"",DateOfJoining:e.DateOfJoining.slice(0,10),status:e.status,loginStatus:e.loginStatus};n((e=>[...e,a]))}))):console.error("Data received is not an array:",e.data)})).catch((e=>{}))};Object(s.useEffect)((()=>{A()}),[]);Object(s.useEffect)((()=>{A()}),[]);Object(s.useEffect)((()=>{(()=>{const e=new Date,t=r.filter((t=>{const a=new Date(t.DOB);a.setFullYear(e.getFullYear());const s=a-e,l=Math.ceil(s/864e5);return l>=0&&l<=7}));u(t)})()}),[r]);let S=r.filter((e=>{const t=!m||e.empID.toLowerCase()===i.toLowerCase(),a=e.FirstName.toLowerCase().includes(i.toLowerCase()),s=""===p||e.Account===p;return t&&a&&s}));S=S.sort(((e,t)=>{const a=e.empID.toLowerCase(),s=t.empID.toLowerCase();return h?a.localeCompare(s):s.localeCompare(a)}));const M=r.filter((e=>"Admin"===e.Account)).length,L=r.filter((e=>"HR"===e.Account)).length,T=r.filter((e=>"Manager"===e.Account)).length,P=r.filter((e=>"Employee"===e.Account)).length,I=f*k,R=I-k,$=S.slice(R,I),z=[];for(let s=1;s<=Math.ceil(S.length/k);s++)z.push(s);return Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsx)("div",{style:{position:"sticky",top:"0",zIndex:"3",background:C?"var(--primaryDashMenuColor)":"var(--primaryDashColorDark)",color:C?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"my-auto py-2 mx-0",children:Object(O.jsxs)("div",{className:"row m-auto row-gap-4 px-0",children:[Object(O.jsx)("div",{className:"col-12 col-sm-12 col-md-3 d-flex px-1 px-md-2 gap-2",children:Object(O.jsxs)("h5",{style:{fontSize:"1.1rem"},className:"d-flex  my-auto align-items-center gap-3",children:["Employees List ",Object(O.jsxs)("span",{children:["(",S.length,")"]})]})}),Object(O.jsxs)("div",{className:"col-6 col-md-5 d-flex p-0 px-1 position-relative rounded-2",children:[Object(O.jsx)("input",{style:{height:"100%",width:"100%",paddingLeft:"30px"},className:"form-control rounded-0 border border-muted border rounded-5 rounded-sm-5",type:"text",placeholder:"Search by name",value:i,onChange:e=>{j(e.target.value)}}),Object(O.jsx)(N.e,{style:{position:"absolute",top:"28%",left:"12px",height:"1.2rem",width:"1.2rem",color:"black",opacity:"40%"}})]}),Object(O.jsxs)("div",{className:"col-6 col-md-4 d-flex align-items-center justify-content-end gap-2",children:[Object(O.jsx)("button",{onClick:()=>{window.confirm("Are you sure to download Employee record? ");const e=new sa.default({orientation:"landscape",unit:"mm",format:[297,210]});e.setFontSize(18),e.text("Employee Details",148.5,15,"center");const t=r.map((e=>[e.empID,e.Email,e.Account,e.FirstName,e.LastName,e.DOB,e.ContactNo,e.RoleName,e.PositionName,e.DepartmentName,e.DateOfJoining,e.status,""]));e.setFontSize(12),e.autoTable({head:[["Emp Id","Email","Account Access","First Name","Last Name","DOB","ContactNo","Role","Position","Department","D.O.J"]],body:t,startY:25}),e.save("employee_data.pdf ")},title:"Export to Pdf",className:"btn  bg-white shadow-sm fw-bold rounded-0",children:Object(O.jsx)(ge.c,{className:"fs-6 align-items-center text-danger"})}),Object(O.jsx)("button",{onClick:()=>{const e=r.map((e=>({"Emp Id":e.empID,Email:e.Email,"Account Access":e.Account,"First Name":e.FirstName,"Last Name":e.LastName,DOB:e.DOB,ContactNo:e.ContactNo,Role:e.RoleName,Position:e.PositionName,Department:e.DepartmentName,"D.O.J":e.DateOfJoining}))),t=la.a.json_to_sheet(e),a=la.a.book_new();la.a.book_append_sheet(a,t,"Employees"),la.b(a,"employee_data.xlsx")},title:"Export to Xlsx",className:"btn  bg-white shadow-sm fw-bold rounded-0",children:Object(O.jsx)(Ie.c,{className:"fs-6 align-items-center text-success"})}),Object(O.jsx)("div",{className:"bg-white",style:{position:"relative"},children:Object(O.jsxs)("span",{onMouseEnter:()=>y("name"),onMouseLeave:()=>y(null),className:"btn rounded-0 shadow-sm "+(w?"bg-primary text-white":"text-primary"),children:[Object(O.jsx)(ge.d,{}),Object(O.jsxs)("div",{style:{position:"absolute",zIndex:"1",right:"0",top:"95%",width:"150px",display:"name"===v?"flex":"none",backgroundColor:"rgba(256,256,256,.95)"},className:"px-2 shadow flex-column py-2 shadow rounded-1 text-dark border",children:[Object(O.jsxs)("div",{onClick:()=>x(""),style:{cursor:"pointer"},className:"d-flex flex-nowrap justify-content-between",children:["All ",Object(O.jsx)("span",{children:r.length})]}),Object(O.jsxs)("div",{onClick:()=>x("Admin"),style:{cursor:"pointer"},className:"d-flex flex-nowrap justify-content-between",children:["Admin ",Object(O.jsx)("span",{children:M})]}),Object(O.jsxs)("div",{onClick:()=>x("HR"),style:{cursor:"pointer"},className:"d-flex flex-nowrap justify-content-between",children:["HR ",Object(O.jsx)("span",{children:L})]}),Object(O.jsxs)("div",{onClick:()=>x("Manager"),style:{cursor:"pointer"},className:"d-flex flex-nowrap justify-content-between",children:["Manager ",Object(O.jsx)("span",{children:T})]}),Object(O.jsxs)("div",{onClick:()=>x("Employee"),style:{cursor:"pointer"},className:"d-flex flex-nowrap justify-content-between",children:["Employee ",Object(O.jsx)("span",{children:P})]}),w&&Object(O.jsx)("div",{onClick:()=>x(""),style:{cursor:"pointer"},className:"d-flex btn btn-primary my-1 text-center py-1 rounded-0 shadow-sm flex-nowrap justify-content-center",children:"Clear Filter"})]})]})}),Object(O.jsx)("button",{onClick:()=>{b(!h)},title:"Sort",className:"btn  bg-white shadow-sm fs-6 fw-bold rounded-0",children:h?Object(O.jsx)(aa.b,{}):Object(O.jsx)(aa.a,{})}),Object(O.jsx)("button",{className:"btn  bg-white shadow-sm fs-6 fw-bold",onClick:e.onAddEmployee,title:"Add Employee",children:Object(O.jsx)(Ie.g,{className:"fs-5 align-items-center text-success"})})]})]})}),Object(O.jsx)("div",{id:"clear-both"}),l?Object(O.jsx)("div",{id:"loading-bar",children:Object(O.jsx)(jt.a,{sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{style:{maxHeight:"68vh",overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",style:{fontSize:".9rem",minHeight:"20vh",maxHeight:"20vh",overflow:"auto"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{colSpan:2,style:ut(C),children:"Employee Name"}),Object(O.jsx)("th",{style:ut(C),children:"ID"}),Object(O.jsx)("th",{style:ut(C),children:"Position"}),Object(O.jsx)("th",{style:ut(C),children:"Account"}),Object(O.jsx)("th",{style:ut(C),children:"Status"}),Object(O.jsx)("th",{style:ut(C),children:"Email"}),Object(O.jsx)("th",{style:ut(C),children:"Contact No"}),Object(O.jsx)("th",{style:ut(C),children:"Login Status"}),Object(O.jsx)("th",{style:ut(C),className:"text-end",children:"Actions"})]})}),Object(O.jsx)("tbody",{children:$.map(((t,a)=>{var s,l,c,r,n,o,i,d;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"border-0",style:pt(C),children:Object(O.jsx)("div",{className:"mx-auto d-flex align-items-center justify-content-center",style:{height:"30px",width:"30px"},children:null!==t&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&null!==(l=s.profile)&&void 0!==l&&l.image_url?Object(O.jsx)("img",{style:{height:"100%",width:"100%",overflow:"hidden",borderRadius:"50%",objectFit:"cover"},className:"border-0",src:null===t||void 0===t||null===(c=t.data)||void 0===c||null===(r=c.profile)||void 0===r?void 0:r.image_url,alt:""}):Object(O.jsxs)("span",{children:[null!==(n=null===t||void 0===t||null===(o=t.FirstName)||void 0===o?void 0:o.charAt(0).toUpperCase())&&void 0!==n?n:"",null!==(i=null===t||void 0===t||null===(d=t.LastName)||void 0===d?void 0:d.charAt(0).toUpperCase())&&void 0!==i?i:""]})})}),Object(O.jsxs)("td",{style:pt(C),className:"border-0",children:[t.FirstName," ",t.LastName]}),Object(O.jsx)("td",{className:"border-0",style:pt(C),children:t.empID}),Object(O.jsx)("td",{className:"border-0",style:pt(C),children:t.PositionName}),Object(O.jsx)("td",{className:"border-0",style:pt(C),children:t.Account}),Object(O.jsx)("td",{style:pt(C),className:"active"===t.status?"text-success border-0 text-capitalize":"text-danger border-0 text-capitalize",children:t.status}),Object(O.jsx)("td",{className:"border-0",style:pt(C),children:t.Email}),Object(O.jsx)("td",{className:"border-0",style:pt(C),children:t.ContactNo}),Object(O.jsx)("td",{className:"border-0",style:pt(C),children:"Inactive"===t.status?"Inactive":t.loginStatus}),Object(O.jsx)("td",{className:"border-0",style:pt(C),children:Object(O.jsxs)("div",{style:{width:"fit-content"},className:"d-flex w-100 justify-content-end  gap-2 align-items-center",children:[Object(O.jsx)(bt,{style:{color:C?"black":"white"},icon:Object(O.jsx)(at.b,{className:"fs-5"}),onClick:()=>e.onEmpInfo(t.data),tooltip:"Info Profile"}),Object(O.jsx)(bt,{style:{color:C?"black":"white"},icon:Object(O.jsx)(F.d,{className:"fs-5"}),onClick:()=>e.onEditEmployee(t.data),tooltip:"Edit Profile"})]})})]},a)}))})]})}),Object(O.jsx)(vt,{currentPage:f,pageNumbers:z,handlePaginationPrev:()=>{D((e=>e-1))},handlePaginationNext:()=>{D((e=>e+1))},setCurrentPage:D,filteredDataLength:S.length,itemsPerPage:k})]})]})};var ra=e=>{let{value:t,onChange:a,maxLength:s,placeholder:l,required:c}=e;return Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",value:t,onChange:e=>{const{value:t}=e.target,l=t.replace(/[^0-9]/g,"").slice(0,s);a(l)},maxLength:s,placeholder:l,required:c})})},na=a(71);var oa=e=>{const t=Object(o.n)().pathname.split("/")[1],[a,l]=Object(s.useState)(!1),[c,r]=Object(s.useState)(""),[n,i]=Object(s.useState)([]),[j,m]=Object(s.useState)([]),[h,b]=Object(s.useState)([]),[u,p]=Object(s.useState)([]),[v,y]=Object(s.useState)([]),[f,N]=Object(s.useState)([]),[D,k]=Object(s.useState)(""),{darkMode:C}=g();Object(s.useEffect)((()=>{A(),S(),L(),w()}),[]);const w=()=>{d.a.get(`${E}/api/employee`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{Array.isArray(e.data)?(p([]),e.data.forEach((e=>{let t={Email:e.Email,Account:1===e.Account?1:2===e.Account?2:3===e.Account?3:4===e.Account?4:"",FirstName:e.FirstName,LastName:e.LastName,empID:e.empID};p((e=>[...e,t]))}))):console.error("Data received is not an array:",e.data)})).catch((e=>{}))},A=()=>{d.a.get(`${E}/api/role`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{i(e.data)})).catch((e=>{}))},S=()=>{d.a.get(`${E}/api/position`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{m(e.data)})).catch((e=>{}))},L=()=>{d.a.get(`${E}/api/department`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{b(e.data)})).catch((e=>{}))};return Object(O.jsxs)("div",{className:"container-fluid py-3",children:[Object(O.jsxs)("div",{className:"my-auto",children:[Object(O.jsx)("h5",{style:{color:C?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)",fontWeight:"600"},className:"m-0",children:"Create New Employee"}),Object(O.jsx)("p",{style:{color:C?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"m-0",children:"You can create new user here."})]}),Object(O.jsx)("div",{className:"container-fluid",children:Object(O.jsxs)("form",{onSubmit:e.onEmployeeSubmit,className:" row mt-3 m-0",encType:"multipart/form-data",children:[Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:{color:C?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:["Email ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"email",placeholder:"Email"})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:{color:C?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:["Password ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsxs)("div",{className:"form-input position-relative",children:[Object(O.jsx)("input",{className:"form-control rounded-0",placeholder:"Password",type:a?"text":"password",onChange:e=>r(e.target.value)}),Object(O.jsx)("span",{style:{position:"absolute",top:"50%",transform:"translateY(-55%)",right:"3%",cursor:"pointer"},className:"fs-5 text-muted my-0",onClick:e=>{e.preventDefault(),l(!a)},children:a?Object(O.jsx)(Ae.c,{}):Object(O.jsx)(na.c,{})})]})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:{color:C?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:["Account access ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)("select",{className:"form-select rounded-0",as:"select",onBlur:e=>(e=>{if(2===+e||4===+e||1===+e){const e=u.filter((e=>1===+e.Account));y(e)}else if(3===+e){const e=u.filter((e=>4===+e.Account));y(e)}const t=u.filter((e=>2===e.Account));N(t)})(e.target.value),children:"hr"===t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("option",{value:"2",children:"HR"}),Object(O.jsx)("option",{value:"3",children:"Employee"}),Object(O.jsx)("option",{value:"4",children:"Manager"})]}):Object(O.jsxs)(O.Fragment,{children:[" ",Object(O.jsx)("option",{value:"1",children:"Admin"}),Object(O.jsx)("option",{value:"2",children:"HR"}),Object(O.jsx)("option",{value:"3",children:"Employee"}),Object(O.jsx)("option",{value:"4",children:"Manager"})]})})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:{color:C?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:["Role ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsxs)("select",{className:"form-select rounded-0",as:"select",name:"role",children:[Object(O.jsx)("option",{disabled:!0,selected:!0,children:"Select your option"}),n.map(((e,t)=>Object(O.jsx)("option",{value:e._id,children:e.RoleName},t)))]})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:{color:C?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:["Gender ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)(M.a.Check,{style:{color:C?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"d-flex align-items-center gap-2",inline:!0,type:"radio",label:"Male",value:"male",name:"gender",onChange:e.onGenderChange}),Object(O.jsx)(M.a.Check,{inline:!0,style:{color:C?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"d-flex align-items-center gap-2",type:"radio",label:"Female",value:"female",name:"gender",onChange:e.onGenderChange})]})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:{color:C?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:["First Name ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"First Name"})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:{color:C?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:["Last Name ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"Last Name"})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:{color:C?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:["DOB ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"date",placeholder:"DOB"})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:{color:C?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:["Contact No ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)(ra,{value:D,onChange:k,maxLength:10,placeholder:"Contact No"})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:{color:C?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:["Department ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsxs)("select",{className:"form-select rounded-0",as:"select",name:"department",children:[Object(O.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),h.map(((e,t)=>Object(O.jsx)("option",{value:e._id,children:e.DepartmentName},t)))]})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:{color:C?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:["Position ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsxs)("select",{className:"form-select rounded-0",as:"select",name:"position",children:[Object(O.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),j.map(((e,t)=>Object(O.jsx)("option",{value:e._id,children:e.PositionName},t)))]})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:{color:C?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:["Date Of Joining ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"date",placeholder:"Date Of Joining"})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{style:{color:C?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:"Profile Image"}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"file"})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{style:{color:C?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:"Reporting Manager"}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsxs)("select",{className:"form-select rounded-0",as:"select",name:"role",children:[Object(O.jsx)("option",{selected:!0,children:"Select your option"}),v.map(((e,t)=>Object(O.jsx)("option",{value:e.Email,children:e.Email},t)))]})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{style:{color:C?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:"Reporting Hr"}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsxs)("select",{className:"form-select rounded-0",as:"select",name:"role",children:[Object(O.jsx)("option",{selected:!0,children:"Select your option"}),f.map(((e,t)=>Object(O.jsx)("option",{value:e.Email,children:e.Email},t)))]})})]}),Object(O.jsxs)("div",{className:"form-group col-12 d-flex  gap-5",id:"form-submit-button",children:[Object(O.jsxs)("button",{className:"btn btn-primary",style:{backgroundColor:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",border:"none",outline:"none"},type:"submit",children:[Object(O.jsx)(x.u,{})," Submit"]}),Object(O.jsxs)("button",{className:"btn btn-danger",style:{backgroundColor:"red",color:"white",border:"none",outline:"none"},type:"reset",onClick:e.onFormClose,children:[Object(O.jsx)(x.q,{})," cancel"]})]}),Object(O.jsx)("div",{className:"col-12 col-md-6 col-lg-4",id:"form-cancel-button"})]})})]})};a(497);var ia=e=>{const{userData:t}=Object(P.c)((e=>e.user)),[a,l]=Object(s.useState)([]),[c,r]=Object(s.useState)([]),[n,o]=Object(s.useState)([]),{darkMode:i}=g(),[j,m]=Object(s.useState)([{Email:e.editData.reportManager}]),[h,b]=Object(s.useState)([{Email:e.editData.reportHr}]),[u,p]=Object(s.useState)([]),v=null===t||void 0===t?void 0:t.Account,[y,f]=Object(s.useState)(e.editData.Gender),[N,D]=Object(s.useState)(e.editData.status),[k,C]=Object(s.useState)(e.editData.Email),[w,A]=Object(s.useState)(e.editData.FirstName),[S,L]=Object(s.useState)(e.editData.LastName),[T,F]=Object(s.useState)(e.editData.DOB.slice(0,10)),[I,R]=Object(s.useState)(e.editData.ContactNo),[$,z]=Object(s.useState)(e.editData.DateOfJoining.slice(0,10));Object(s.useEffect)((()=>{B(),_(),H(),q()}),[]);const q=()=>{d.a.get(`${E}/api/employee`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{Array.isArray(e.data)?(p([]),e.data.forEach((e=>{let t={Email:e.Email,Account:1===e.Account?1:2===e.Account?2:3===e.Account?3:4===e.Account?4:"",FirstName:e.FirstName,LastName:e.LastName,empID:e.empID};p((e=>[...e,t]))}))):console.error("Data received is not an array:",e.data)})).catch((e=>{}))},B=()=>{d.a.get(`${E}/api/role`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{l(e.data)})).catch((e=>{}))},_=()=>{d.a.get(`${E}/api/position`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{r(e.data)})).catch((e=>{}))},H=()=>{d.a.get(`${E}/api/department`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{o(e.data)})).catch((e=>{}))},U=t=>{f(t.target.value),e.onGenderChange(t)},W=t=>{D(t.target.value),e.onStatusChange(t)},G={color:i?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"};return Object(O.jsxs)("div",{className:"container-fluid py-3",children:[Object(O.jsxs)("div",{className:"my-auto",children:[Object(O.jsx)("h5",{style:G,className:"m-0 fw-bold",children:"Edit Employee Details"}),Object(O.jsx)("p",{style:G,className:"m-0",children:"You can edit user details here."})]}),Object(O.jsx)(M.a,{className:"mt-3",onSubmit:t=>e.onEmployeeEditUpdate(e.editData,t),children:Object(O.jsx)("div",{className:"d-flex w-100 flex-column gap-2 rounded ",children:Object(O.jsxs)("div",{className:"row row-gap-3 ",children:[Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:G,children:["Email ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"email",placeholder:"Email",required:!0,value:k,disabled:!0,onChange:e=>{C(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:G,children:["Account access ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsxs)("select",{className:"form-select rounded-0",as:"select",required:!0,onBlur:t=>(t=>{if(2===+t||4===+t||1===+t){const t=u.filter((t=>1===+t.Account&&e.editData.Email!==t.Email));m(t)}else if(3===+t){const t=u.filter((t=>4===+t.Account&&e.editData.Email!==t.Email));m(t)}const a=u.filter((t=>2===t.Account&&e.editData.Email!==t.Email));b(a)})(t.target.value),children:[Object(O.jsx)("option",{value:"1",selected:1==e.editData.Account,children:"Admin"}),Object(O.jsx)("option",{value:"2",selected:2==e.editData.Account,children:"HR"}),Object(O.jsx)("option",{value:"3",selected:3==e.editData.Account,children:"Employee"}),Object(O.jsx)("option",{value:"4",selected:4==e.editData.Account,children:"Manager"})]})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:G,children:["Role ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsxs)("select",{className:"form-select rounded-0",name:"role",children:[Object(O.jsx)("option",{disabled:!0,selected:!0,children:"Select your option"}),a.map(((t,a)=>Object(O.jsx)("option",{value:t._id,selected:e.editData.role[0]._id==t._id,children:t.RoleName},a)))]})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:G,children:["Gender ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)(M.a.Check,{style:G,className:"d-flex align-items-center gap-2",inline:!0,type:"radio",label:"Male",value:"male",name:"gender",onChange:U,checked:"male"==y,required:!0}),Object(O.jsx)(M.a.Check,{style:G,className:"d-flex align-items-center gap-2",inline:!0,type:"radio",label:"Female",value:"female",name:"gender",onChange:U,checked:"female"==y,required:!0})]})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:G,children:["First Name ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"First Name",required:!0,value:w,onChange:e=>{A(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:G,children:["Last Name ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"Last Name",required:!0,value:S,onChange:e=>{L(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:G,children:["DOB ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"date",placeholder:"DOB",required:!0,value:T,onChange:e=>{F(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:G,children:["Contact No ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"Contact No ",required:!0,maxLength:10,min:0,value:I,onChange:e=>(e=>{const{value:t}=e.target,a=t.replace(/[^0-9]/g,"").slice(0,10);R(a)})(e)})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:G,children:["Department ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsxs)("select",{className:"form-select rounded-0",name:"department",required:!0,children:[Object(O.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),n.map(((t,a)=>Object(O.jsx)("option",{value:t._id,selected:e.editData.department[0]._id==t._id,children:t.DepartmentName},a)))]})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:G,children:["Position ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsxs)("select",{className:"form-select rounded-0",name:"position",required:!0,children:[Object(O.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),c.map(((t,a)=>Object(O.jsx)("option",{value:t._id,selected:e.editData.position[0]._id==t._id,children:t.PositionName},a)))]})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:G,children:["Date Of Joining ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"date",placeholder:"Date Of Joining",required:!0,value:$,onChange:e=>{z(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{style:G,children:"Profile Image"}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"file"})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:G,children:["Reporting Manager"," ",1!==v&&Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsxs)("select",{className:"form-select rounded-0",name:"manager",children:[Object(O.jsx)("option",{disabled:!0,selected:!0,children:"Select your option"}),j.map(((t,a)=>Object(O.jsx)("option",{value:t.Email,selected:e.editData.reportManager,children:t.Email},a)))]})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:G,children:["Reporting Hr"," ",1!==v&&Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsxs)("select",{className:"form-select rounded-0",name:"hr",children:[Object(O.jsx)("option",{disabled:!0,selected:!0,children:"Select your option"}),h.map(((t,a)=>Object(O.jsx)("option",{value:t.Email,selected:e.editData.reportHr,children:t.Email},a)))]})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{style:G,children:["Status ",Object(O.jsx)("sup",{className:"text-danger fs-6",children:"*"})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)(M.a.Check,{style:G,className:"d-flex align-items-center gap-2",inline:!0,type:"radio",label:"active",value:"active",name:"status",onChange:W,checked:"active"===N,required:!0}),Object(O.jsx)(M.a.Check,{style:G,className:"d-flex align-items-center gap-2",inline:!0,type:"radio",label:"Inactive",value:"Inactive",name:"status",onChange:W,checked:"Inactive"===N,required:!0})]})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[Object(O.jsxs)("button",{className:"btn btn-primary",type:"submit",children:[Object(O.jsx)(x.u,{})," Submit"]}),Object(O.jsxs)("button",{className:"btn btn-danger",type:"reset",onClick:()=>{e.onFormEditClose()},children:[Object(O.jsx)(x.q,{})," cancel"]})]})]})})})]})},da=(a(498),a(499),a.p+"static/media/FloralAbstract.033bb0de.jpg"),ja=(a(500),a.p+"static/media/SearchLight.815ed750.svg");var ma=e=>{let{title:t,message:a,numbers:s}=e;const{darkMode:l}=g();return Object(O.jsxs)("div",{style:{color:l?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"my-auto mt-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("h5",{style:{fontWeight:"500"},className:"m-0 p-0 text-capitalize",children:t})," ",s&&Object(O.jsxs)("h5",{className:"text-primary fs-6",children:["( ",s," )"]})," "]}),a&&Object(O.jsx)("p",{className:" m-0",children:a})]})};const ha=mt.a`
  display: block;
  margin: 0 auto;
  margin-top: 45px;
  border-color: red;
`;var ba=e=>{const{userData:t}=Object(P.c)((e=>e.user));let a;a=e.data?e.data._id:null===t||void 0===t?void 0:t._id;const[l,c]=Object(s.useState)([]),[r,n]=Object(s.useState)(!0),[o,i]=Object(s.useState)([]),{darkMode:j}=g(),m=()=>{d.a.get(`${E}/api/education/`+a,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;c(t),n(!1);const a=t.education.map((e=>({data:e,SchoolUniversity:e.SchoolUniversity,Degree:e.Degree,Grade:e.Grade,PassingOfYear:e.PassingOfYear})));i(a)})).catch((e=>{}))};Object(s.useEffect)((()=>{m()}),[a]);const h={verticalAlign:"middle",whiteSpace:"pre",background:j?"var(--primaryDashMenuColor)":"var(--primaryDashColorDark)",color:j?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)",border:"none",position:"sticky",top:"0rem",zIndex:"100"},b={verticalAlign:"middle",whiteSpace:"pre",background:j?"var(--secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:j?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)",border:"none"};return Object(O.jsxs)("div",{className:"container-fluid py-2",children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between my-2",children:[Object(O.jsx)(ma,{title:" Educational Details",numbers:o.length,message:"You can view education details here."}),Object(O.jsx)("div",{className:"py-1",children:Object(O.jsxs)("button",{className:"btn btn-primary d-flex align-items-center justify-content-center gap-2",onClick:e.onAddEducation,children:[Object(O.jsx)(ge.h,{}),Object(O.jsx)("span",{className:"d-none d-md-flex",children:"Add Details"})]})})]}),Object(O.jsx)("div",{id:"clear-both"}),r&&Object(O.jsx)("div",{id:"loading-bar",children:Object(O.jsx)(jt.a,{css:ha,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}),Object(O.jsx)("div",{children:o.length>0?Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:h,children:"School/University"}),Object(O.jsx)("th",{style:h,children:"Degree"}),Object(O.jsx)("th",{style:h,children:"Grade / %"}),Object(O.jsx)("th",{style:h,children:"Passing Year"}),Object(O.jsx)("th",{style:h,className:"text-end",children:"Action"})]})}),Object(O.jsx)("tbody",{children:o.map(((t,a)=>Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:b,className:"text-capitalize",children:t.SchoolUniversity}),Object(O.jsx)("td",{style:b,className:"text-capitalize",children:t.Degree}),Object(O.jsx)("td",{style:b,className:"text-capitalize",children:t.Grade}),Object(O.jsx)("td",{style:b,className:"text-capitalize",children:t.PassingOfYear}),Object(O.jsx)("td",{style:b,children:Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-end gap-2",children:[Object(O.jsx)(bt,{onClick:()=>e.onEditEducation(t.data),tooltip:"Edit",icon:Object(O.jsx)(ge.i,{className:"text-primary"})}),Object(O.jsx)(bt,{onClick:()=>{return e=t.data._id,a=t.data._id,void(window.confirm("Are you sure to delete this record? ")&&d.a.delete(`${E}/api/education/${e}/${a}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{m(),S.a.success("Education record deleted successfully!")})).catch((e=>{console.log(e),S.a.error("Error deleting education record.")})));var e,a},tooltip:"Delete",icon:Object(O.jsx)(ge.l,{className:"text-danger"})})]})})]},a)))})]})}):Object(O.jsxs)("div",{style:{height:"65vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"2rem"},children:[Object(O.jsx)("img",{style:{height:"auto",width:"30%"},src:ja,alt:"img"}),Object(O.jsx)("p",{className:"text-center w-75 mx-auto",style:{color:j?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)"},children:"Details not available Please add."})]})})]})};a(501);var ua=e=>{const{userData:t}=Object(P.c)((e=>e.user));let a;return a=e.data?e.data._id:null===t||void 0===t?void 0:t._id,Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsx)("h5",{className:"my-3",children:"+ Add Education Details"}),Object(O.jsx)("div",{children:Object(O.jsxs)("form",{onSubmit:t=>e.onEducationSubmit(t,a),children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"School / University"}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"Text",className:"rounded-0",placeholder:"School / University ",required:!0})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("lable",{children:"Degree"}),Object(O.jsx)("div",{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"Text",placeholder:"Degree ",required:!0})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("lable",{children:"Grade / %"}),Object(O.jsx)("div",{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"Text",placeholder:"Grade",required:!0})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("lable",{children:"Passing Of Year"}),Object(O.jsx)("div",{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"date",className:"rounded-0",placeholder:"Passing Of Year",required:!0})})]}),Object(O.jsxs)("div",{className:"d-flex gap-3 mt-3",children:[Object(O.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"}),Object(O.jsx)("button",{className:"btn btn-danger",type:"reset",onClick:e.onFormClose,children:"cancel"})]})]})})]})},pa=a(647),xa=a(300);var Oa=e=>{const[t,a]=Object(s.useState)({SchoolUniversityData:e.editData.SchoolUniversity,DegreeData:e.editData.Degree,GradeData:e.editData.Grade,PassingOfYearData:e.editData.PassingOfYear});return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{id:"role-form-title",children:"Edit Education Details"}),Object(O.jsx)("div",{id:"role-form-outer-div",children:Object(O.jsxs)(M.a,{id:"form",onSubmit:t=>e.onEducationEditUpdate(e.editData,t),children:[Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"School / University"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"Text",placeholder:"School / University ",required:!0,value:t.SchoolUniversityData,onChange:e=>(e=>{a({...t,SchoolUniversityData:e.target.value})})(e)})})]}),Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"Degree"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"Text",placeholder:"Degree ",required:!0,value:t.DegreeData,onChange:e=>(e=>{a({...t,DegreeData:e.target.value})})(e)})})]}),Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"Grade / %"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"Text",placeholder:"Grade",required:!0,value:t.GradeData,onChange:e=>(e=>{a({...t,GradeData:e.target.value})})(e)})})]}),Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"Passing Of Year"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"Text",placeholder:"Passing Of Year",required:!0,value:t.PassingOfYearData,onChange:e=>(e=>{a({...t,PassingOfYearData:e.target.value})})(e)})})]}),Object(O.jsx)(M.a.Group,{as:pa.a,id:"form-submit-button",children:Object(O.jsx)(xa.a,{sm:{span:10,offset:2},children:Object(O.jsx)(xt.a,{type:"submit",children:"Update"})})}),Object(O.jsx)(M.a.Group,{as:pa.a,id:"form-cancel-button",children:Object(O.jsx)(xa.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(O.jsx)(xt.a,{type:"reset",style:{color:"white"},onClick:e.onFormEditClose,children:"cancel"})})})]})})]})};var va=e=>{const[t,a]=Object(s.useState)(!0),[l,c]=Object(s.useState)(!1),[r,n]=Object(s.useState)({}),{darkMode:i}=g();Object(o.p)();return Object(O.jsx)(O.Fragment,{children:t?l?Object(O.jsx)(Oa,{onEducationEditUpdate:(e,t)=>{t.preventDefault();const s={SchoolUniversity:t.target[0].value,Degree:t.target[1].value,Grade:t.target[2].value,PassingOfYear:t.target[3].value};d.a.put(`${E}/api/education/${e._id}`,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{a(!1),a(!0)})).catch((e=>{})),c(!1)},onFormEditClose:()=>{c(!1)},editData:r}):Object(O.jsx)(ba,{onAddEducation:()=>{a(!1)},onEditEducation:e=>{c(!0),n(e)},data:e.data,back:e.back}):Object(O.jsx)(ua,{onEducationSubmit:(e,t)=>{e.preventDefault(),a(!0);const s={SchoolUniversity:e.target[0].value,Degree:e.target[1].value,Grade:e.target[2].value,PassingOfYear:e.target[3].value};d.a.post(`${E}/api/education/`+t,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{S.a.success("Education record Added successfully!"),a(!1),a(!0)})).catch((e=>{}))},onFormClose:()=>{a(!0)},data:e.data})})};a(502);const ga=mt.a`
  display: block;
  margin: 0 auto;
  margin-top: 45px;
  border-color: red;
`;var ya=e=>{const[t,a]=Object(s.useState)([]),{userData:l}=Object(P.c)((e=>e.user)),[c,r]=Object(s.useState)(!0),[n,o]=Object(s.useState)([]),{darkMode:i}=g();let j;j=e.data?e.data._id:null===l||void 0===l?void 0:l._id;let m=[],h=[];const b=()=>{d.a.get(`${E}/api/work-experience/`+j,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{m=e.data,a(e.data),r(!1),h.length=0,m.workExperience.map((e=>{const t=u(e.FromDate,e.ToDate);let a={data:e,CompanyName:e.CompanyName,Designation:e.Designation,FromDate:e.FromDate.slice(0,10),ToDate:e.ToDate.slice(0,10),Duration:t};h.push(a)})),o(h)})).catch((e=>{}))};Object(s.useEffect)((()=>{b()}),[]);const u=(e,t)=>{const a=new Date(e),s=new Date(t),l=s.getFullYear()-a.getFullYear(),c=s.getMonth()-a.getMonth();let r=`${l} year`;return c>0&&(r+=` and ${c} month`),r},p={verticalAlign:"middle",whiteSpace:"pre",background:i?"var(--primaryDashMenuColor)":"var(--primaryDashColorDark)",color:i?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)",border:"none",position:"sticky",top:"0rem",zIndex:"100"},x={verticalAlign:"middle",whiteSpace:"pre",background:i?"var(--secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:i?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)",border:"none"};return Object(O.jsx)("div",{className:"container-fluid",children:Object(O.jsxs)("div",{id:"table-outer-div-scroll",children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between my-2",children:[Object(O.jsx)(ma,{title:"Work Experience",numbers:n.length,message:"You can view work experience details here."}),Object(O.jsx)("div",{className:"py-1",children:Object(O.jsxs)("button",{className:"btn btn-primary d-flex align-items-center justify-content-center gap-2",onClick:()=>e.onAddWorkExperience(b),children:[Object(O.jsx)(ge.h,{}),Object(O.jsx)("span",{className:"d-none d-md-flex",children:"Add Experience"})]})})]}),Object(O.jsx)("div",{id:"clear-both"}),c&&Object(O.jsx)("div",{id:"loading-bar",children:Object(O.jsx)(jt.a,{css:ga,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}),Object(O.jsx)("div",{children:n.length>0?Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:p,children:"Company Name"}),Object(O.jsx)("th",{style:p,children:"Designation"}),Object(O.jsx)("th",{style:p,children:"From Date"}),Object(O.jsx)("th",{style:p,children:"To Date"}),Object(O.jsx)("th",{style:p,children:"Duration"})," ",Object(O.jsx)("th",{style:p,className:"text-end",children:"Action"})]})}),Object(O.jsx)("tbody",{children:n.map(((t,a)=>Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:x,className:"text-capitalize",children:t.CompanyName}),Object(O.jsx)("td",{style:x,className:"text-capitalize",children:t.Designation}),Object(O.jsx)("td",{style:x,className:"text-capitalize",children:t.FromDate}),Object(O.jsx)("td",{style:x,className:"text-capitalize",children:t.ToDate}),Object(O.jsxs)("td",{style:x,className:"",children:[t.Duration," "]}),Object(O.jsx)("td",{style:x,className:"text-end",children:Object(O.jsx)(bt,{onClick:()=>e.onEditWorkExperience(t.data),tooltip:"Edit",icon:Object(O.jsx)(ge.i,{className:"text-primary fs-5"})})})]},a)))})]})}):Object(O.jsxs)("div",{style:{height:"65vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"2rem"},children:[Object(O.jsx)("img",{style:{height:"auto",width:"30%"},src:ja,alt:"img"}),Object(O.jsx)("p",{className:"text-center w-75 mx-auto",style:{color:i?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)"},children:"Details not available Please add."})]})})]})})},fa=a(318),Na=a(95);a(503);var Da=e=>{const{userData:t}=Object(P.c)((e=>e.user));let a=e.data?e.data._id:null===t||void 0===t?void 0:t._id;const s=(new Date).toISOString().split("T")[0],l=Object(fa.a)({initialValues:{companyName:"",designation:"",fromDate:"",toDate:""},validationSchema:Na.b({companyName:Na.d().required("Company name is required"),designation:Na.d().required("Designation is required"),fromDate:Na.a().required("From date is required"),toDate:Na.a().required("To date is required").min(Na.c("fromDate"),"To date must be after From date").max(s,"To date cannot be in the future")}),onSubmit:t=>{e.onWorkExperienceSubmit(t,a)}});return Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsx)("h5",{className:"my-3",children:"+ Add Experience"}),Object(O.jsxs)("form",{onSubmit:l.handleSubmit,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Company Name"}),Object(O.jsxs)("div",{className:"form-input",children:[Object(O.jsx)(M.a.Control,{type:"text",name:"companyName",onChange:l.handleChange,onBlur:l.handleBlur,value:l.values.companyName,placeholder:"Please enter company's name",required:!0}),l.touched.companyName&&l.errors.companyName?Object(O.jsx)("div",{className:"error",style:{color:"red"},children:l.errors.companyName}):null]})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Designation"}),Object(O.jsxs)("div",{className:"form-input",children:[Object(O.jsx)(M.a.Control,{type:"text",name:"designation",onChange:l.handleChange,onBlur:l.handleBlur,value:l.values.designation,placeholder:"Enter your designation",required:!0}),l.touched.designation&&l.errors.designation?Object(O.jsx)("div",{className:"error",style:{color:"red"},children:l.errors.designation}):null]})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"From"}),Object(O.jsxs)("div",{className:"form-input",children:[Object(O.jsx)(M.a.Control,{type:"date",name:"fromDate",onChange:l.handleChange,onBlur:l.handleBlur,value:l.values.fromDate,required:!0}),l.touched.fromDate&&l.errors.fromDate?Object(O.jsx)("div",{className:"error",style:{color:"red"},children:l.errors.fromDate}):null]})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"To"}),Object(O.jsxs)("div",{className:"form-input",children:[Object(O.jsx)(M.a.Control,{type:"date",name:"toDate",onChange:l.handleChange,onBlur:l.handleBlur,value:l.values.toDate,required:!0}),l.touched.toDate&&l.errors.toDate?Object(O.jsx)("div",{className:"error",style:{color:"red"},children:l.errors.toDate}):null]})]}),Object(O.jsxs)("div",{className:"d-flex gap-3 mt-3",children:[Object(O.jsx)("button",{className:"btn btn-primary",type:"submit",disabled:!l.isValid||l.isSubmitting,children:"Submit"}),Object(O.jsx)("button",{className:"btn btn-danger",type:"reset",onClick:e.onFormClose,children:"Cancel"})]})]})]})};class ka extends s.Component{constructor(){super(...arguments),this.state={CompanyNameData:this.props.editData.CompanyName,DesignationData:this.props.editData.Designation,FromDateData:this.props.editData.FromDate.slice(0,10),ToDateData:this.props.editData.ToDate.slice(0,10)}}onCompanyNameDataChange(e){this.setState({CompanyNameData:e.target.value})}onDesignationDataChange(e){this.setState({DesignationData:e.target.value})}onFromDateDataChange(e){this.setState({FromDateData:e.target.value})}onToDateDataChange(e){this.setState({ToDateData:e.target.value})}componentWillMount(){}render(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{id:"role-form-title",children:"Edit WorkExperience Details"}),Object(O.jsx)("div",{id:"role-form-outer-div",children:Object(O.jsxs)(M.a,{id:"form",onSubmit:e=>this.props.onWorkExperienceEditUpdate(this.props.editData,e),children:[Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"Company Name"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"Text",placeholder:"Company Name",required:!0,value:this.state.CompanyNameData,onChange:e=>this.onCompanyNameDataChange(e)})})]}),Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"Designation"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"Text",placeholder:"Designation",required:!0,value:this.state.DesignationData,onChange:e=>this.onDesignationDataChange(e)})})]}),Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"FromDate"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"date",required:!0,value:this.state.FromDateData,onChange:e=>this.onFromDateDataChange(e)})})]}),Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"ToDate"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"date",required:!0,value:this.state.ToDateData,onChange:e=>this.onToDateDataChange(e)})})]}),Object(O.jsx)(M.a.Group,{as:pa.a,id:"form-submit-button",children:Object(O.jsx)(xa.a,{sm:{span:10,offset:2},children:Object(O.jsx)(xt.a,{type:"submit",children:"Update"})})}),Object(O.jsx)(M.a.Group,{as:pa.a,id:"form-cancel-button",children:Object(O.jsx)(xa.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(O.jsx)(xt.a,{style:{color:"white"},type:"reset",onClick:this.props.onFormEditClose,children:"Cancel"})})})]})})]})}}var Ca=ka;a(506);var wa=e=>{const[t,a]=Object(s.useState)(!0),[c,r]=Object(s.useState)(!1),[n,o]=Object(s.useState)({});return Object(O.jsx)(l.a.Fragment,{children:t?c?Object(O.jsx)(Ca,{onWorkExperienceEditUpdate:(e,t)=>{let s={CompanyName:e.companyName,Designation:e.designation,FromDate:e.fromDate,ToDate:e.toDate};d.a.put(`${E}/api/work-experience/`+t._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(!0)})).catch((e=>{console.error(e)})),r(!1)},onFormEditClose:()=>{r(!1)},editData:n}):Object(O.jsx)(ya,{onAddWorkExperience:e=>{e(),a(!1)},onEditWorkExperience:e=>{r(!0),o(e)},data:e.data,back:e.back}):Object(O.jsx)(Da,{onWorkExperienceSubmit:(e,t)=>{a(!0);let s={CompanyName:e.companyName,Designation:e.designation,FromDate:e.fromDate,ToDate:e.toDate};d.a.post(`${E}/api/work-experience/`+t,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(!0)})).catch((e=>{console.error(e)}))},onFormClose:()=>{a(!0)},data:e.data})})};var Aa=e=>{const[t,a]=Object(s.useState)(null),{userData:l}=Object(P.c)((e=>e.user)),[c,r]=Object(s.useState)([]),{darkMode:n}=g();let o;o=e.data?e.data.Email:null===l||void 0===l?void 0:l.Email,Object(s.useEffect)((()=>{i()}),[!0===e.table]);const i=async()=>{try{const e=await d.a.post(`${E}/documents`,{email:o});r(e.data)}catch(e){console.error("Error fetching documents:",e)}},j=e=>{window.confirm("Are you sure you want to delete this document?")&&(async e=>{try{await d.a.delete(`${E}/delete-document/${e}`),i(),A.toast.success("Document deleted successfully")}catch(t){console.error("Error deleting document:",t)}})(e)};return Object(O.jsx)("div",{className:"container-fluid py-2",children:Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(O.jsxs)("h6",{style:{color:n?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"my-auto",children:["Uploaded Documents ( ",c.length," )"]}),Object(O.jsx)("div",{className:"py-1",children:Object(O.jsxs)("button",{className:"btn btn-primary d-flex align-items-center justify-content-center gap-2",onClick:e.onAddDocument,children:[Object(O.jsx)(ge.h,{}),Object(O.jsx)("span",{className:"d-none d-md-flex",children:"Upload Documents"})]})})]}),Object(O.jsx)("div",{className:"mt-2",style:{overflow:"hidden auto",height:"100%",scrollbarWidth:"thin"},children:c.length>0?Object(O.jsx)("div",{className:"row mx-2 pb-3 column-gap-4 row-gap-4",children:c.reverse().map(((e,s)=>Object(O.jsxs)("div",{onMouseEnter:()=>a(s),onMouseLeave:()=>a(null),className:"d-flex flex-column gap-2 px-2 text-capitalize py-1 shadow",style:{height:"190px",width:"250px",background:n?"var(--primaryDashMenuColor)":"var(--primaryDashColorDark)",color:n?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)",border:"none"},children:[Object(O.jsxs)("div",{style:{height:"150px",width:"100%",overflow:"hidden",background:`url(${e.files})`,backgroundPosition:"center",backgroundSize:"cover",opacity:"85%",boxShadow:"0 0 10px 1px rgba(192, 185, 185, 0.758) inset"},className:"m-auto position-relative ",children:[Object(O.jsxs)("div",{style:{height:"100%",width:"100%",position:"absolute",top:"0",left:"0",background:n?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:n?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",display:t===s?"flex":"none",justifyContent:"center",alignItems:"center",gap:"1rem"},children:[Object(O.jsx)("a",{target:"_blank",href:e.files,style:{height:"40px",width:"40px"},className:"btn p-0 btn bg-white text-primary shadow d-flex",rel:"noopener noreferrer",children:Object(O.jsx)($.k,{className:"m-auto fs-4"})}),Object(O.jsx)("a",{href:e.files[0],download:e.files[0],style:{height:"40px",width:"40px"},className:"btn p-0 btn bg-white text-primary shadow d-flex",children:Object(O.jsx)(Te.i,{className:"m-auto fs-4"})})]}),Object(O.jsx)("div",{style:{height:"30px",width:"30px",position:"absolute",bottom:"0",right:"0",opacity:"100%",cursor:"pointer"},className:"d-flex shadow-sm text-danger",onClick:()=>j(e._id),children:Object(O.jsx)(x.i,{style:{fontSize:"35px"}})})]}),Object(O.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(O.jsx)("p",{style:{fontSize:".9rem",color:n?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)"},className:"m-0",children:e.title})," "]})]},s)))}):Object(O.jsxs)("div",{style:{height:"65vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"2rem"},children:[Object(O.jsx)("img",{style:{height:"auto",width:"200px"},src:ja,alt:"img"}),Object(O.jsx)("p",{className:"text-center w-75 mx-auto",style:{color:n?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)"},children:"Details not available please upload documents"})]})})]})})},Sa=a(309),Ea=a(648);const Ma=Sa.a.div`
  background-position: center;
  background-size: cover;
  border: 2px dashed rgba(0, 0, 0, 0.1);
  padding: 20px;
  width: 300px;
  text-align: center;
  overflow: hidden;
`;var La=e=>{const[t,a]=Object(s.useState)(""),[l,c]=Object(s.useState)(""),[r,n]=Object(s.useState)([]),[o,i]=Object(s.useState)(!1),{userData:j}=Object(P.c)((e=>e.user));let m;m=e.data?e.data.Email:null===j||void 0===j?void 0:j.Email;const{darkMode:h}=g();return Object(O.jsx)("div",{className:"container-fluid",children:Object(O.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),i(!0);const o=new FormData;o.append("title",t),o.append("number",l),o.append("email",m);for(let e=0;e<r.length;e++)o.append("files",r[e]);if(0===r.length)return i(!1),void S.a.error("please Select documents");try{await d.a.post(`${E}/upload`,o,{headers:{"Content-Type":"multipart/form-data"}});a(""),c(""),n([]),S.a.success("Document uploaded successfully"),e.onFormClose()}catch(j){console.error("Error uploading documents:",j)}finally{i(!1)}},children:[Object(O.jsx)("h6",{className:"mb-4",style:{color:h?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:"Upload Your Documents"}),Object(O.jsx)("div",{style:{height:"100%"},children:Object(O.jsxs)("div",{style:{height:"100%"},children:[Object(O.jsxs)("div",{className:"row gap-4",children:[Object(O.jsxs)("div",{className:"col-12 ",children:[Object(O.jsx)("label",{children:"Document Title"}),Object(O.jsx)("input",{required:!0,className:"form-control w-100",placeholder:"Please Enter Document Title",type:"text",value:t,onChange:e=>a(e.target.value)})]}),Object(O.jsxs)("div",{className:"col-12 mb-3",children:[Object(O.jsx)("label",{htmlFor:"",children:"Document Number"}),Object(O.jsx)("input",{required:!0,className:"form-control w-100",placeholder:"Please Enter Document Number",type:"text",value:l,onChange:e=>c(e.target.value)})]})]}),Object(O.jsx)("div",{style:{overflow:"hidden"},className:"my-2 position-relative rounded-2 d-flex",children:Object(O.jsxs)(Ma,{onDrop:e=>{e.preventDefault();const t=e.dataTransfer.files[0];n([...r,t])},onDragOver:e=>{e.preventDefault()},style:{cursor:"pointer"},className:"mx-auto w-100 d-flex flex-column justify-content-center align-items-center",children:[Object(O.jsx)("input",{onChange:e=>{const t=e.target.files;n([...r,...t])},className:"rounded-5 opacity-0",style:{minHeight:"100%",minWidth:"100%",position:"absolute",cursor:"pointer"},type:"file",multiple:!0,name:"",id:""}),Object(O.jsx)(De.c,{style:{cursor:"pointer"},className:"fs-1 text-primary"}),Object(O.jsxs)("span",{style:{cursor:"pointer"},className:"fw-bold text-primary",children:["Drag file or Select file"," "]})]})}),o&&Object(O.jsx)("div",{className:"d-flex justify-content-center my-3",children:Object(O.jsx)(Ea.a,{color:"#fff",loading:o,size:35})}),Object(O.jsxs)("div",{className:" d-flex align-items-center gap-2 mt-3 mx-1 justify-content-between",children:[Object(O.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:o,children:"Submit"}),Object(O.jsx)("button",{type:"reset",className:"btn btn-danger",onClick:e.onFormClose,disabled:o,children:"Cancel"})]})]})})]})})};class Ta extends s.Component{constructor(){super(...arguments),this.state={CompanyNameData:this.props.editData.CompanyName,DesignationData:this.props.editData.Designation,FromDateData:this.props.editData.FromDate.slice(0,10),ToDateData:this.props.editData.ToDate.slice(0,10)}}onCompanyNameDataChange(e){this.setState({CompanyNameData:e.target.value})}onDesignationDataChange(e){this.setState({DesignationData:e.target.value})}onFromDateDataChange(e){this.setState({FromDateData:e.target.value})}onToDateDataChange(e){this.setState({ToDateData:e.target.value})}componentWillMount(){}render(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{id:"role-form-title",children:"Edit WorkExperience Details"}),Object(O.jsx)("div",{id:"role-form-outer-div",children:Object(O.jsxs)(M.a,{id:"form",onSubmit:e=>this.props.onWorkExperienceEditUpdate(this.props.editData,e),children:[Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"Company Name"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"Text",placeholder:"Company Name",required:!0,value:this.state.CompanyNameData,onChange:e=>this.onCompanyNameDataChange(e)})})]}),Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"Designation"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"Text",placeholder:"Designation",required:!0,value:this.state.DesignationData,onChange:e=>this.onDesignationDataChange(e)})})]}),Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"FromDate"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"date",required:!0,value:this.state.FromDateData,onChange:e=>this.onFromDateDataChange(e)})})]}),Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"ToDate"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"date",required:!0,value:this.state.ToDateData,onChange:e=>this.onToDateDataChange(e)})})]}),Object(O.jsx)(M.a.Group,{as:pa.a,id:"form-submit-button",children:Object(O.jsx)(xa.a,{sm:{span:10,offset:2},children:Object(O.jsx)(xt.a,{type:"submit",children:"Update"})})}),Object(O.jsx)(M.a.Group,{as:pa.a,id:"form-cancel-button",children:Object(O.jsx)(xa.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(O.jsx)(xt.a,{type:"reset",onClick:this.props.onFormEditClose,children:"cancel"})})})]})})]})}}var Fa=Ta;var Pa=e=>{const[t,a]=Object(s.useState)(!0),[c,r]=Object(s.useState)(!1),[n,o]=Object(s.useState)({}),[i,j]=Object(s.useState)(""),[m,h]=Object(s.useState)(""),[b,u]=Object(s.useState)([]);return Object(O.jsx)(l.a.Fragment,{children:t?c?Object(O.jsx)(Fa,{onDocumentEditUpdate:(e,t)=>{t.preventDefault();let s={CompanyName:t.target[0].value,Designation:t.target[1].value,FromDate:t.target[2].value,ToDate:t.target[3].value};d.a.put(`${E}/api/work-experience/`+e._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(!1),a(!0)})).catch((e=>{})),r(!1)},onFormEditClose:()=>{r(!1)},editData:n}):Object(O.jsx)(Aa,{onAddDocument:()=>{a(!1)},onEditDocument:e=>{r(!0),o(e)},data:e.data,back:e.back,table:t}):Object(O.jsx)(La,{onDocumentSubmit:async e=>{e.preventDefault();const t=new FormData;t.append("title",i),t.append("number",m);for(let a=0;a<b.length;a++)t.append("files",b[a]);try{await d.a.post(`${E}/upload`,t,{headers:{"Content-Type":"multipart/form-data"}}),j(""),h(""),a(!0),u([])}catch(s){console.error("Error uploading document:",s)}},onFormClose:()=>{a(!0)},onGenderChange:()=>{},data:e.data})})};a(507);const Ia=mt.a`
  display: block;
  margin: 0 auto;
  margin-top: 45px;
  border-color: red;
`;var Ra=e=>{const{userData:t}=Object(P.c)((e=>e.user));let a;a=e.data?e.data._id:null===t||void 0===t?void 0:t._id;const[l,c]=Object(s.useState)([]),[r,n]=Object(s.useState)(!0),[o,i]=Object(s.useState)([]),{darkMode:j}=g(),m=[],h=()=>{d.a.get(`${E}/api/family-info/`+a,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{m.push(e.data),c(e.data),n(!1);const t=e.data.familyInfo.map((e=>({data:e,Name:e.Name,Relationship:e.Relationship,DOB:e.DOB.slice(0,10),Occupation:e.Occupation,parentMobile:e.parentMobile})));i(t)})).catch((e=>{}))};Object(s.useEffect)((()=>{h()}),[]);const b={verticalAlign:"middle",whiteSpace:"pre",background:j?"var(--primaryDashMenuColor)":"var(--primaryDashColorDark)",color:j?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)",border:"none",position:"sticky",top:"0rem",zIndex:"100"},u={verticalAlign:"middle",whiteSpace:"pre",background:j?"var(--secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:j?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)",border:"none"};return Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[Object(O.jsx)(ma,{title:" Family Details",numbers:o.length,message:"You can view family details here."}),Object(O.jsx)("div",{className:"py-1",children:Object(O.jsxs)("button",{className:"btn btn-primary d-flex align-items-center justify-content-center gap-2",onClick:e.onAddFamilyInfo,children:[Object(O.jsx)(ge.h,{}),Object(O.jsx)("span",{className:"d-none d-md-flex",children:"Add Member"})]})})]}),Object(O.jsx)("div",{id:"clear-both"}),r&&Object(O.jsx)("div",{id:"loading-bar",children:Object(O.jsx)(jt.a,{css:Ia,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}),Object(O.jsx)("div",{children:o.length>0?Object(O.jsxs)("table",{className:"table",style:{fontSize:".9rem"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:b,children:"Name"}),Object(O.jsx)("th",{style:b,children:"Relationship"}),Object(O.jsx)("th",{style:b,children:"DOB"}),Object(O.jsx)("th",{style:b,children:"Contact"}),Object(O.jsx)("th",{style:b,children:"Occupation"}),Object(O.jsx)("th",{style:b,className:"text-end",children:"Action"})]})}),Object(O.jsx)("tbody",{children:o.map(((t,a)=>Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:u,className:"text-capitalize",children:t.Name}),Object(O.jsx)("td",{style:u,className:"text-capitalize",children:t.Relationship}),Object(O.jsx)("td",{style:u,className:"text-capitalize",children:t.DOB}),Object(O.jsx)("td",{style:u,className:"text-capitalize",children:t.parentMobile}),Object(O.jsx)("td",{style:u,className:"text-capitalize",children:t.Occupation}),Object(O.jsx)("td",{style:u,className:"text-capitalize text-end",children:Object(O.jsx)(bt,{onClick:()=>e.onEditFamilyInfo(t.data),tooltip:"Edit",icon:Object(O.jsx)(ge.i,{className:"text-primary fs-5"})})})]},a)))})]}):Object(O.jsxs)("div",{style:{height:"65vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"2rem"},children:[Object(O.jsx)("img",{style:{height:"auto",width:"30%"},src:ja,alt:"img"}),Object(O.jsx)("p",{className:"text-center w-75 mx-auto",style:{color:j?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)"},children:"Member's details not available, please add member."})]})})]})};var $a=e=>{const{userData:t}=Object(P.c)((e=>e.user));let a;return a=e.data?e.data._id:null===t||void 0===t?void 0:t._id,Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsx)("h5",{className:"my-3",children:"+ Add Experience"}),Object(O.jsx)("div",{children:Object(O.jsxs)("form",{onSubmit:t=>e.onFamilyInfoSubmit(t,a),children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Name"}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)("input",{className:"form-control",type:"Text",placeholder:"Name",required:!0})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("lable",{children:"Relationship"}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)("input",{className:"form-control",type:"Text",placeholder:"Relationship",required:!0})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("lable",{children:" DOB"}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)("input",{className:"form-control",type:"date",required:!0})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("lable",{children:"Occupation"}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)("input",{className:"form-control",type:"Text",placeholder:"Occupation"})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("lable",{children:" Contact No"}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)("input",{className:"form-control",type:"Text",placeholder:"Contact No",required:!0})})]}),Object(O.jsxs)("div",{className:"d-flex gap-3 mt-3",children:[Object(O.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"}),Object(O.jsx)("button",{className:"btn btn-danger",type:"reset",onClick:e.onFormClose,children:"cancel"})]})]})})]})};var za=e=>{const[t,a]=Object(s.useState)(e.editData.Name),[l,c]=Object(s.useState)(e.editData.Relationship),[r,n]=Object(s.useState)(e.editData.DOB.slice(0,10)),[o,i]=Object(s.useState)(e.editData.Occupation),[d,j]=Object(s.useState)(e.editData.parentMobile);return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{id:"role-form-title",children:"Edit Family Info Details"}),Object(O.jsx)("div",{id:"role-form-outer-div",children:Object(O.jsxs)(M.a,{id:"form",onSubmit:t=>e.onFamilyInfoEditUpdate(e.editData,t),children:[Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"Name"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"Text",placeholder:"Name",required:!0,value:t,onChange:e=>(e=>{a(e.target.value)})(e)})})]}),Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"Relationship"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"Text",placeholder:"Relationship",required:!0,value:l,onChange:e=>(e=>{c(e.target.value)})(e)})})]}),Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"DOB"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"date",placeholder:"DOB",required:!0,value:r,onChange:e=>(e=>{n(e.target.value)})(e)})})]}),Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"Occupation"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"Text",placeholder:"Occupation",required:!0,value:o,onChange:e=>(e=>{i(e.target.value)})(e)})})]}),Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"Contact"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"number",placeholder:"contact",required:!0,value:d,onChange:e=>(e=>{j(e.target.value)})(e)})})]}),Object(O.jsx)(M.a.Group,{as:pa.a,id:"form-submit-button",children:Object(O.jsx)(xa.a,{sm:{span:10,offset:2},children:Object(O.jsx)(xt.a,{type:"submit",children:"Update"})})}),Object(O.jsx)(M.a.Group,{as:pa.a,id:"form-cancel-button",children:Object(O.jsx)(xa.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(O.jsx)(xt.a,{type:"reset",style:{color:"white"},onClick:e.onFormEditClose,children:"Cancel"})})})]})})]})};var qa=e=>{const{userData:t}=Object(P.c)((e=>e.user)),[a,l]=Object(s.useState)(!0),[c,r]=Object(s.useState)(!1),[n,i]=Object(s.useState)({});Object(o.n)().pathname.split("/")[1],Object(o.p)();return Object(O.jsx)(O.Fragment,{children:a?c?Object(O.jsx)(za,{onFamilyInfoEditUpdate:(e,t)=>{t.preventDefault();let a={Name:t.target[0].value,Relationship:t.target[1].value,DOB:t.target[2].value,Occupation:t.target[3].value,parentMobile:t.target[4].value};d.a.put(`${E}/api/family-info/`+e._id,a,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{S.a.success("Family information updated successfully!"),l(!1),l(!0)})).catch((e=>{S.a.error("Failed to update family information.")})),r(!1)},onFormEditClose:()=>{r(!1)},editData:n}):Object(O.jsx)(Ra,{onAddFamilyInfo:()=>{l(!1)},onEditFamilyInfo:e=>{r(!0),i(e)},data:e.data,back:e.back}):Object(O.jsx)($a,{onFamilyInfoSubmit:(e,a)=>{e.preventDefault(),l(!0);let s={Name:e.target[0].value,Relationship:e.target[1].value,DOB:e.target[2].value,Occupation:e.target[3].value,parentMobile:e.target[4].value};d.a.post(`${E}/api/family-info/`+(null===t||void 0===t?void 0:t._id),s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{S.a.success("Family information added successfully!"),l(!1),l(!0)})).catch((e=>{S.a.error("Failed to add family information.")}))},onFormClose:()=>{l(!0)},onGenderChange:()=>{},data:e.data})})};const Ba=mt.a`
  display: block;
  margin: 0 auto;
  margin-top: 45px;
  border-color: red;
`;var _a=e=>{const t=Object(o.n)().pathname.split("/")[2],{userData:a}=Object(P.c)((e=>e.user)),[l,c]=Object(s.useState)([]),[r,n]=Object(s.useState)(!0),[i,j]=Object(s.useState)([]),[m,h]=Object(s.useState)("personalInfo"),{darkMode:b}=g(),u="employee"===t?e.data._id:null===a||void 0===a?void 0:a._id;Object(s.useEffect)((()=>{d.a.get(`${E}/api/personal-info/${u}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;c(t),n(!1);const a={data:t,FirstName:t.FirstName||"Not Avaiable",MiddleName:t.MiddleName||"Not Avaiable",LastName:t.LastName||"Not Avaiable",empID:t.empID||"Not Avaiable",Gender:t.Gender||"Not Avaiable",ContactNo:t.ContactNo||"Not Avaiable",Email:t.Email||"Not Avaiable",PANcardNo:t.PANcardNo||"Not Avaiable",DOB:t.DOB.slice(0,10)||"Not Avaiable",BloodGroup:t.BloodGroup||"Not Avaiable",EmergencyContactNo:t.EmergencyContactNo||"Not Avaiable",presonalEmail:t.presonalEmail||"Not Avaiable",Hobbies:t.Hobbies||"Not Avaiable",PresentAddress:t.PresentAddress||"Not Avaiable",PermanetAddress:t.PermanetAddress||"Not Avaiable",RoleName:t.role[0]?t.role[0].RoleName:"",DateOfJoining:t.DateOfJoining.slice(0,10),reportManager:t.reportManager||"Not Available",reportHr:t.reportHr||"Not Avaiable",DepartmentName:t.department[0]?t.department[0].DepartmentName:"",Account:1===t.Account?"Admin":2===t.Account?"HR":3===t.Account?"Employee":4===t.Account?"Manager":"",PositionName:t.position[0]?t.position[0].PositionName:""};j([a])})).catch((e=>{console.log(e)}))}),[e.data]);const p=e=>{h(e)},[x,v]=Object(s.useState)([]),[y,f]=Object(s.useState)(null),[N,D]=Object(s.useState)(null);Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get(`${E}/api/personal-info/${u}`,{headers:{authorization:localStorage.getItem("token")||""}});D(e.data.Email)}catch(y){console.error("Error fetching employees:",y)}})()}),[]);const k=async()=>{try{const e=await d.a.get(`${E}/api/tasks`);v(e.data)}catch(y){console.error("Error fetching tasks:",y.message),f("Error fetching tasks. Please try again later.")}finally{n(!1),setTimeout(k,6e4)}};Object(s.useEffect)((()=>(k(),()=>clearTimeout())),[]);const C=x.filter((e=>e.employees.some((e=>e.empemail===N&&"Accepted"===e.emptaskStatus)))).length,w=x.filter((e=>e.employees.some((e=>e.empemail===N&&"Rejected"===e.emptaskStatus)))).length,A=x.filter((e=>"Pending"===e.status&&e.employees.some((e=>"Completed"===e.emptaskStatus)))).length,S=x.filter((e=>e.employees.some((t=>t.empemail===N&&"Pending"===e.status)))).length,M={background:b?"var(--secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:b?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)"};return Object(O.jsxs)("div",{style:{height:"85vh",overflow:"auto"},className:"container-fluid pb-3",children:[Object(O.jsx)("div",{id:"clear-both"}),r?Object(O.jsx)("div",{id:"loading-bar",children:Object(O.jsx)(jt.a,{css:Ba,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(O.jsx)("div",{className:"d-flex flex-column",children:Object(O.jsx)("div",{style:{position:"relative"},className:"row",children:Object(O.jsxs)("div",{style:{minHeight:"80vh",maxHeight:"80vh"},className:"col-12 row mx-auto justify-content-center gap-3 w-100",children:[Object(O.jsx)("div",{style:{height:"35rem",background:`url(${da})`,backgroundPosition:"center",backgroundSize:"cover",overflow:"hidden"},className:"col-12 m-0 p-0 rounded-0 col-lg-3 bg-white shadow",children:i.map(((t,a)=>{var s,c,r,n,o,i,d,j;return Object(O.jsxs)("div",{style:{backgroundColor:b?"rgba(258,258,258,.95)":"rgba(0,0,0,.95)",position:"relative"},className:"d-flex flex-column gap-3 py-2 h-100",children:[Object(O.jsxs)("div",{className:"d-flex flex-column gap-2",style:{width:"100%",padding:"1rem 1rem"},children:[Object(O.jsx)("div",{className:"mx-auto",style:{height:"120px",width:"120px",border:"6px solid #39A7FF",borderRadius:"50%",position:"relative",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},children:null!==t&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&null!==(c=s.profile)&&void 0!==c&&c.image_url?Object(O.jsx)("img",{style:{height:"100%",width:"100%",borderRadius:"50%",objectFit:"cover"},className:"border-0",src:null===t||void 0===t||null===(r=t.data)||void 0===r||null===(n=r.profile)||void 0===n?void 0:n.image_url,alt:""}):Object(O.jsxs)("span",{style:{fontSize:"35px",fontWeight:"bold",textAlign:"center",lineHeight:"120px"},children:[null!==(o=null===t||void 0===t||null===(i=t.FirstName)||void 0===i?void 0:i.charAt(0).toUpperCase())&&void 0!==o?o:"",null!==(d=null===t||void 0===t||null===(j=t.LastName)||void 0===j?void 0:j.charAt(0).toUpperCase())&&void 0!==d?d:""]})}),Object(O.jsx)("p",{style:{position:"absolute",top:"0",left:"0"},className:"btn btn-success px-2 py-0 m-2 rounded-5  shadow",children:t.empID}),Object(O.jsxs)("h3",{style:{color:b?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"text-capitalize my-0   text-center",children:[t.FirstName," ",l.LastName]}),Object(O.jsx)("p",{style:{color:b?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"text-capitalize my-0  text-center",children:t.RoleName})]}),Object(O.jsxs)("div",{className:"d-flex flex-column justify-content-between gap-2",children:[Object(O.jsxs)("div",{style:M,className:"p-2  mx-3 d-flex px-3 justify-content-between shadow rounded-5",children:[Object(O.jsxs)("span",{style:{alignItems:"center"},className:"my-auto d-flex gap-2 ",children:[Object(O.jsx)(Ae.b,{className:"text-primary fs-4"}),"Total Assigned Task"]})," ",Object(O.jsx)("span",{className:"text-primary my-auto",children:S})]}),Object(O.jsxs)("div",{style:M,className:"p-2  mx-3 d-flex px-3 justify-content-between shadow rounded-5",children:[Object(O.jsxs)("span",{style:{alignItems:"center"},className:"my-auto d-flex gap-2 ",children:[Object(O.jsx)(Ae.b,{className:"text-warning fs-4"}),"Total Active Task"]})," ",Object(O.jsx)("span",{className:" text-warning my-auto",children:C})]}),Object(O.jsxs)("div",{style:M,className:"p-2 px-3  mx-3 d-flex   justify-content-between shadow rounded-5",children:[Object(O.jsxs)("span",{style:{alignItems:"center"},className:"my-auto d-flex gap-2 ",children:[" ",Object(O.jsx)(Ae.b,{className:"text-danger fs-4"}),"Total Rejected Task"]})," ",Object(O.jsx)("span",{className:" my-auto text-danger",children:w})]}),Object(O.jsxs)("div",{style:M,className:"p-2 px-3   mx-3 d-flex justify-content-between shadow rounded-5",children:[Object(O.jsxs)("span",{style:{alignItems:"center"},className:"my-auto d-flex gap-2 ",children:[Object(O.jsx)(Ae.b,{className:"text-success fs-4"}),"Total Completed Task"]})," ",Object(O.jsx)("span",{className:" my-auto text-success",children:A})]})]}),Object(O.jsx)("span",{onClick:()=>e.onEditPersonalInfo(t.data),style:{borderBottom:"documentDetails"===m?"4px solid blue":"none",borderRadius:"0",position:"absolute",bottom:"0",left:"0",cursor:"pointer"},className:"btn px-3 w-100  btn-primary ",children:"Update Details"})]},a)}))}),Object(O.jsx)("div",{className:"col-12 rounded-0 col-lg-7 p-0 m-0  border shadow",style:M,children:Object(O.jsxs)("div",{id:"personalinfo",style:{height:"100%",overflow:"hidden"},children:[Object(O.jsxs)("div",{style:{background:b?"var(--secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:b?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)",maxWidth:"100%",overflow:"auto"},className:"shift-pages border w-100 shadow-sm d-flex justify-content-start gap-2 px-0 mb-3",children:[Object(O.jsx)("span",{onClick:()=>p("personalInfo"),style:{whiteSpace:"pre",borderBottom:"personalInfo"===m?"4px solid blue":"none",borderRadius:"0",color:b?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"btn d-flex align-items-center px-1 justify-content-center gap-2 ",children:"Personal"}),Object(O.jsx)("span",{onClick:()=>p("companyInfo"),style:{whiteSpace:"pre",borderBottom:"companyInfo"===m?"4px solid blue":"none",borderRadius:"0",color:b?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"btn d-flex align-items-center px-1 justify-content-center gap-2 ",children:"Company"}),Object(O.jsx)("span",{onClick:()=>p("Educationalinfo"),style:{whiteSpace:"pre",borderBottom:"Educationalinfo"===m?"4px solid blue":"none",borderRadius:"0",color:b?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"btn d-flex align-items-center px-1 justify-content-center gap-2 ",children:"Education"}),Object(O.jsx)("span",{onClick:()=>p("Document"),style:{whiteSpace:"pre",borderBottom:"Document"===m?"4px solid blue":"none",borderRadius:"0",color:b?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"btn d-flex align-items-center px-1 justify-content-center gap-2 ",children:"Documents"}),Object(O.jsx)("span",{onClick:()=>p("WorkExperience"),style:{whiteSpace:"pre",borderBottom:"WorkExperience"===m?"4px solid blue":"none",borderRadius:"0",color:b?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"btn d-flex align-items-center px-1 justify-content-center gap-2 ",children:"Experience"}),Object(O.jsx)("span",{onClick:()=>p("otherInfo"),style:{whiteSpace:"pre",borderBottom:"otherInfo"===m?"4px solid blue":"none",borderRadius:"0",color:b?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"btn d-flex align-items-center px-1 justify-content-center gap-2 ",children:"Family"})]}),"personalInfo"===m&&Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"pb-5",id:"companyinfo",style:{overflow:"hidden auto",height:"100%",width:"100%",scrollbarWidth:"thin"},children:i.map(((e,t)=>Object(O.jsxs)("div",{className:"row w-100 container-fluid mx-auto justify-content-start py-3 row-gap-2",children:[Object(O.jsx)(ma,{title:"Personal Details",message:"You can view personal details here."}),Object(O.jsxs)("div",{className:"col-12 col-sm-6 d-flex flex-column",children:[Object(O.jsx)("label",{htmlFor:"",className:" ",children:"First Name"}),Object(O.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm text-capitalize",value:e.FirstName})]}),Object(O.jsxs)("div",{className:"col-12 col-sm-6 d-flex flex-column",children:[Object(O.jsx)("label",{htmlFor:"",className:" ",children:"Last Name"}),Object(O.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm text-capitalize",value:e.LastName})]}),Object(O.jsxs)("div",{className:"col-12 col-sm-6 d-flex flex-column",children:[Object(O.jsx)("label",{htmlFor:"",className:"  ",children:"Phone Number"}),Object(O.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm",value:e.ContactNo})]}),Object(O.jsxs)("div",{className:"col-12 col-sm-6 d-flex flex-column",children:[Object(O.jsx)("label",{htmlFor:"",className:"  ",children:"Emergency Contact"}),Object(O.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm",value:e.EmergencyContactNo})]}),Object(O.jsxs)("div",{className:"col-12 col-sm-6 d-flex flex-column",children:[Object(O.jsx)("label",{htmlFor:"",className:"  ",children:"Personal Email"}),Object(O.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm",value:e.presonalEmail})]}),Object(O.jsxs)("div",{className:"col-12 col-sm-6 d-flex flex-column",children:[Object(O.jsx)("label",{htmlFor:"",className:"  ",children:"Gender"}),Object(O.jsx)("input",{type:"text",className:"form-control text-capitalize rounded-1 shadow-sm",value:e.Gender})]}),Object(O.jsxs)("div",{className:"col-12 col-sm-6 d-flex flex-column",children:[Object(O.jsx)("label",{htmlFor:"",className:"  ",children:"Date of Birth"}),Object(O.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm",value:e.DOB.slice(0,10)})]}),Object(O.jsxs)("div",{className:"col-12 col-sm-6 d-flex flex-column",children:[Object(O.jsx)("label",{htmlFor:"",className:"  ",children:"Blood Group"}),Object(O.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm",value:e.BloodGroup})]}),Object(O.jsxs)("div",{className:"col-12 col-sm-6 d-flex flex-column",children:[Object(O.jsx)("label",{htmlFor:"",className:"  ",children:"PAN Number"}),Object(O.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm text-uppercase",value:e.PANcardNo})]}),Object(O.jsxs)("div",{className:"col-12 col-sm-6 d-flex flex-column",children:[Object(O.jsx)("label",{htmlFor:"",className:"  ",children:"Present Address"}),Object(O.jsx)("textarea",{type:"text",className:"form-control rounded-1 shadow-sm text-capitalize",value:e.PresentAddress})]}),Object(O.jsxs)("div",{className:"col-12 col-sm-6 d-flex flex-column",children:[Object(O.jsx)("label",{htmlFor:"",className:"  ",children:"Permanent Address"}),Object(O.jsx)("textarea",{type:"text",className:"form-control rounded-1 shadow-sm text-capitalize",value:e.PermanetAddress})]})]})))})}),"companyInfo"===m&&Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{style:{overflow:"hidden auto",height:"100%",scrollbarWidth:"thin"},children:i.map(((e,t)=>Object(O.jsxs)("div",{className:"row container-fluid mx-auto justify-content-start py-3 row-gap-3",children:[Object(O.jsx)(ma,{title:"Company Details",message:"You can view company details here."}),Object(O.jsxs)("div",{className:"col-12 col-sm-6 d-flex flex-column",children:[Object(O.jsx)("label",{htmlFor:"",className:"  ",children:"Employee ID"}),Object(O.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm text-uppercase",value:e.empID})]}),Object(O.jsxs)("div",{className:"col-12 col-sm-6 d-flex flex-column",children:[Object(O.jsx)("label",{htmlFor:"",className:"  ",children:"Work Email"}),Object(O.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm",value:e.Email})]}),Object(O.jsxs)("div",{className:"col-12 col-sm-6 d-flex flex-column",children:[Object(O.jsx)("label",{htmlFor:"",className:"  ",children:"Role"}),Object(O.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm text-capitalize",value:e.RoleName})]}),Object(O.jsxs)("div",{className:"col-12 col-sm-6 d-flex flex-column",children:[Object(O.jsx)("label",{htmlFor:"",className:"  ",children:"Position"}),Object(O.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm text-capitalize",value:e.PositionName})]}),Object(O.jsxs)("div",{className:"col-12 col-sm-6 d-flex flex-column",children:[Object(O.jsx)("label",{htmlFor:"",className:"  ",children:"Department"}),Object(O.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm text-capitalize",value:e.DepartmentName})]}),Object(O.jsxs)("div",{className:"col-12 col-sm-6 d-flex flex-column",children:[Object(O.jsx)("label",{htmlFor:"",className:"  ",children:"Date of Joining"}),Object(O.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm",value:e.DateOfJoining})]}),Object(O.jsxs)("div",{className:"col-12 col-sm-6 d-flex flex-column",children:[Object(O.jsx)("label",{htmlFor:"",className:"  ",children:"Account Access"}),Object(O.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm",value:e.Account})]}),Object(O.jsxs)("div",{className:"col-12 col-sm-6 d-flex flex-column",children:[Object(O.jsx)("label",{htmlFor:"",className:"  ",children:"Reporting Manager"}),Object(O.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm",value:e.reportManager})]}),Object(O.jsxs)("div",{className:"col-12 col-sm-6 d-flex flex-column",children:[Object(O.jsx)("label",{htmlFor:"",className:"  ",children:"Reporting HR"}),Object(O.jsx)("input",{type:"text",className:"form-control rounded-1 shadow-sm",value:e.reportHr})]})]})))})}),"Educationalinfo"===m&&Object(O.jsx)("div",{className:"w-100 container ",children:Object(O.jsx)(va,{data:e.data})}),"Document"===m&&Object(O.jsx)("div",{className:"w-100 container ",children:Object(O.jsx)(Pa,{data:e.data})}),"WorkExperience"===m&&Object(O.jsx)("div",{className:"w-100 container ",children:Object(O.jsx)(wa,{data:e.data})}),"otherInfo"===m&&Object(O.jsx)("div",{className:"w-100 container ",children:Object(O.jsx)(qa,{data:e.data})})]})})]})})})]})};a(508);var Ha=e=>{const[t,a]=Object(s.useState)({GenderData:e.editData.Gender,presonalEmail:e.editData.Email,FirstNameData:e.editData.FirstName,LastNameData:e.editData.LastName,DOBData:e.editData.DOB.slice(0,10),ContactNoData:e.editData.ContactNo,EmergencyContactNoData:e.editData.EmergencyContactNo||"",PANcardNoData:e.editData.PANcardNo||"",HobbiesData:e.editData.Hobbies||"",PresentAddressData:e.editData.PresentAddress||"",PermanetAddressData:e.editData.PermanetAddress||"",presonalEmail:e.editData.presonalEmail||"",profile:""}),{darkMode:l}=g(),[c,r]=Object(s.useState)(null),n=s=>{a({...t,GenderData:s.target.value}),e.onGenderChange(s)};return Object(O.jsx)("div",{style:{background:l?"var(--secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:l?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"container-fluid position-relative",children:Object(O.jsx)("div",{style:{marginTop:"-.5rem",minHeight:"95vh",overflow:"auto"},className:"row p-2",children:Object(O.jsx)("div",{className:"",children:Object(O.jsx)("div",{className:"",children:Object(O.jsxs)(M.a,{className:"row row-gap-2 rounded-2 m-auto justify-content-between",onSubmit:t=>e.onPersonalInfoEditUpdate(e.editData,t),children:[Object(O.jsx)("h5",{style:{position:"sticky",top:"0",zIndex:"2"},className:"label d-flex align-items-center gap-2 py-3 w-100",children:"Edit Employee info"}),Object(O.jsxs)(M.a.Group,{className:"col-12 col-sm-6 col-md-4 d-flex flex-column gap-1",as:pa.a,children:[Object(O.jsx)(M.a.Label,{className:"label ",column:!0,children:"First Name"}),Object(O.jsx)(xa.a,{className:"form-input",children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"text",placeholder:"First Name",required:!0,disabled:!0,value:t.FirstNameData})})]}),Object(O.jsxs)(M.a.Group,{className:"col-12 col-sm-6 col-md-4 d-flex flex-column gap-1",as:pa.a,children:[Object(O.jsx)(M.a.Label,{className:"label ",column:!0,children:"Last Name"}),Object(O.jsx)(xa.a,{className:"form-input",children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"text",placeholder:"Last Name",disabled:!0,required:!0,value:t.LastNameData})})]}),Object(O.jsx)(M.a.Group,{className:"col-12 col-sm-6 col-md-4 d-flex flex-column gap-1",as:pa.a,children:Object(O.jsxs)(xa.a,{className:"d-flex  flex-column gap-3 m-0 p-0",children:[Object(O.jsx)("label",{className:"label p-2 m-0 ",column:!0,children:"Gender"}),Object(O.jsxs)("div",{className:"d-flex m-0 ",children:[Object(O.jsx)(M.a.Check,{inline:!0,style:{color:l?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)"},type:"radio",label:"Male",value:"male",name:"gender",className:"d-flex gap-1  px-5",onChange:n,checked:"male"==t.GenderData,required:!0}),Object(O.jsx)(M.a.Check,{inline:!0,style:{color:l?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)"},type:"radio",label:"Female",value:"female",name:"gender",className:"d-flex gap-1",onChange:n,checked:"female"==t.GenderData,required:!0})]})]})}),Object(O.jsxs)(M.a.Group,{className:"col-12 col-sm-6 col-md-4 d-flex flex-column gap-1",as:pa.a,children:[Object(O.jsx)(M.a.Label,{className:"label ",column:!0,children:"Contact No"}),Object(O.jsx)(xa.a,{className:"form-input",children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"text",placeholder:"Contact No ",value:t.ContactNoData,onChange:e=>{a({...t,ContactNoData:e.target.value})}})})]}),Object(O.jsxs)(M.a.Group,{className:"col-12 col-sm-6 col-md-4 d-flex flex-column gap-1",as:pa.a,children:[Object(O.jsx)(M.a.Label,{className:"label ",column:!0,children:"Emergency Contact"}),Object(O.jsx)(xa.a,{className:"form-input",children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"text",placeholder:"Emergency Contact No",value:t.EmergencyContactNoData,onChange:e=>{a({...t,EmergencyContactNoData:e.target.value})}})})]}),Object(O.jsxs)(M.a.Group,{className:"col-12 col-sm-6 col-md-4 d-flex flex-column gap-1",as:pa.a,children:[Object(O.jsx)(M.a.Label,{className:"label ",column:!0,children:"Presonal Email"}),Object(O.jsx)(xa.a,{className:"form-input",children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"email",placeholder:"presonalEmail",value:t.presonalEmail,onChange:e=>{a({...t,presonalEmail:e.target.value})}})})]}),Object(O.jsxs)(M.a.Group,{className:"col-12 col-sm-6 col-md-4 d-flex flex-column gap-1",as:pa.a,children:[Object(O.jsx)(M.a.Label,{className:"label ",column:!0,children:"PAN Card No"}),Object(O.jsx)(xa.a,{className:"form-input",children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"text",placeholder:"PAN Card No",value:t.PANcardNoData,onChange:e=>{a({...t,PANcardNoData:e.target.value})}})})]}),Object(O.jsxs)(M.a.Group,{className:"col-12 col-sm-6 col-md-4 d-flex flex-column gap-1",as:pa.a,children:[Object(O.jsx)(M.a.Label,{className:"label ",column:!0,children:"DOB"}),Object(O.jsx)(xa.a,{className:"form-input",children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"date",placeholder:"DOB",value:t.DOBData,onChange:e=>{a({...t,DOBData:e.target.value})}})})]}),Object(O.jsxs)(M.a.Group,{className:"col-12 col-sm-6 col-md-4 d-flex flex-column gap-1",as:pa.a,children:[Object(O.jsx)(M.a.Label,{className:"label ",column:!0,children:"Blood Group"}),Object(O.jsx)(xa.a,{className:"form-input",children:Object(O.jsxs)(M.a.Control,{className:"rounded-0",as:"select",children:[Object(O.jsx)("option",{value:"",selected:!0,children:"Select your option"}),Object(O.jsx)("option",{value:"A+",selected:"A+"==e.editData.BloodGroup,children:"A+"}),Object(O.jsx)("option",{value:"A-",selected:"A-"==e.editData.BloodGroup,children:"A-"}),Object(O.jsx)("option",{value:"B+",selected:"B+"==e.editData.BloodGroup,children:"B+"}),Object(O.jsx)("option",{value:"B-",selected:"B-"==e.editData.BloodGroup,children:"B-"}),Object(O.jsx)("option",{value:"AB+",selected:"AB+"==e.editData.BloodGroup,children:"AB+"}),Object(O.jsx)("option",{value:"AB-",selected:"AB-"==e.editData.BloodGroup,children:"AB-"}),Object(O.jsx)("option",{value:"O+",selected:"O+"==e.editData.BloodGroup,children:"O+"}),Object(O.jsx)("option",{value:"O-",selected:"O-"==e.editData.BloodGroup,children:"O-"})]})})]}),Object(O.jsxs)(M.a.Group,{className:"col-12 col-sm-6 col-md-4 d-flex flex-column gap-1",as:pa.a,children:[Object(O.jsx)(M.a.Label,{className:"label ",column:!0,children:"Hobbies"}),Object(O.jsx)(xa.a,{className:"form-input",children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"text",placeholder:"Hobbies",value:t.HobbiesData,onChange:e=>{a({...t,HobbiesData:e.target.value})}})})]}),Object(O.jsxs)(M.a.Group,{className:"col-12 col-sm-6 col-md-8 d-flex flex-column gap-1",as:pa.a,children:[Object(O.jsxs)(M.a.Label,{className:"label ",column:!0,children:["Profile Image"," ",Object(O.jsx)("span",{style:{fontSize:".7rem",fontWeight:"normal"},children:"( file size must between 200 KB to 2 MB )"})]}),Object(O.jsx)(xa.a,{className:"form-input",children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"file",onChange:e=>{r(e.target.files[0])}})})]}),Object(O.jsxs)(M.a.Group,{className:"col-12 col-sm-6 col-md-6 d-flex flex-column gap-1",as:pa.a,children:[Object(O.jsx)(M.a.Label,{className:"label ",column:!0,children:"Present Address"}),Object(O.jsx)(xa.a,{className:"form-input",children:Object(O.jsx)(M.a.Control,{className:"rounded-0",as:"textarea",rows:"3",placeholder:"Present Address",required:!0,value:t.PresentAddressData,onChange:e=>{a({...t,PresentAddressData:e.target.value})}})})]}),Object(O.jsxs)(M.a.Group,{className:"col-12 col-sm-6 col-md-6 d-flex flex-column gap-1",as:pa.a,children:[Object(O.jsx)(M.a.Label,{className:"label ",column:!0,children:"Permanet Address"}),Object(O.jsx)(xa.a,{className:"form-input",children:Object(O.jsx)(M.a.Control,{className:"rounded-0",as:"textarea",rows:"3",placeholder:"Permanent Address",value:t.PermanetAddressData,onChange:e=>{a({...t,PermanetAddressData:e.target.value})}})})]}),Object(O.jsxs)("div",{className:"d-flex m-0 gap-3 py-2",children:[Object(O.jsx)("button",{className:"btn btn-primary px-5",type:"submit",children:"Submit"}),Object(O.jsx)("button",{className:"btn btn-danger px-5",type:"reset",onClick:e.onFormEditClose,children:"Cancel"})]})]})})})})})};a(509);var Ua=e=>{let{data:t,back:a}=e;const[l,c]=Object(s.useState)(!0),[r,n]=Object(s.useState)(!1),[o,i]=Object(s.useState)({}),[j,m]=Object(s.useState)("");console.log(t);const h=e=>{n(!0),i(e),m(e.Gender)};return Object(O.jsx)("div",{children:l?r?Object(O.jsx)(Ha,{onPersonalInfoEditUpdate:(e,t)=>{t.preventDefault();const a=new FormData;a.append("Gender",j),a.append("ContactNo",t.target[4].value),a.append("EmergencyContactNo",t.target[5].value),a.append("presonalEmail",t.target[6].value),a.append("PANcardNo",t.target[7].value),a.append("DOB",t.target[8].value),a.append("BloodGroup",t.target[9].value),a.append("Hobbies",t.target[10].value),a.append("PresentAddress",t.target[12].value),a.append("PermanetAddress",t.target[13].value),a.append("profile",t.target[11].files[0]),d.a.put(`${E}/api/personal-info/${e._id}`,a,{headers:{Authorization:localStorage.getItem("token")||"","Content-Type":"multipart/form-data"}}).then((e=>{c(!1),c(!0)})).catch((e=>{console.log(e)})),n(!1)},onFormEditClose:()=>{n(!1)},editData:o,onGenderChange:e=>{m(e.currentTarget.value)}}):Object(O.jsx)(_a,{onAddPersonalInfo:h,onEditPersonalInfo:h,data:t,back:a}):Object(O.jsx)("div",{})})};var Wa=()=>{const[e,t]=Object(s.useState)(!0),[a,l]=Object(s.useState)(!1),[c,r]=Object(s.useState)({}),[n,i]=Object(s.useState)(""),[j,m]=Object(s.useState)(""),[h,b]=Object(s.useState)(""),[u,p]=Object(s.useState)({}),[x,v]=Object(s.useState)(!1),g=Object(o.p)();return Object(O.jsxs)(o.d,{children:[Object(O.jsx)(o.b,{path:"/",element:e?a?Object(O.jsx)(ia,{onEmployeeEditUpdate:(e,a)=>{a.preventDefault(),a.target[9].value;const s=new FormData;s.append("Email",a.target[0].value),s.append("Account",a.target[1].value),s.append("RoleID",a.target[2].value),s.append("Gender",j),s.append("FirstName",a.target[5].value),s.append("LastName",a.target[6].value),s.append("DOB",a.target[7].value),s.append("ContactNo",a.target[8].value),s.append("DepartmentID",a.target[9].value),s.append("PositionID",a.target[10].value),s.append("DateOfJoining",a.target[11].value),s.append("profile",a.target[12].files[0]),s.append("reportManager","Select your option"===a.target[13].value?"":a.target[13].value),s.append("reportHr","Select your option"===a.target[14].value?"":a.target[14].value),s.append("status",h),d.a.put(`${E}/api/employee/${e._id}`,s,{headers:{authorization:localStorage.getItem("token")||"","Content-Type":"multipart/form-data"}}).then((e=>{t(!1),t(!0),l(!1)})).catch((e=>{400===e.response.status&&alert(e.response.data)}))},onFormEditClose:()=>{l(!1)},editData:c,onGenderChange:e=>{m(e.currentTarget.value)},onStatusChange:e=>{b(e.currentTarget.value)}}):Object(O.jsx)(ca,{onAddEmployee:()=>{t(!1)},onEditEmployee:e=>{l(!0),r(e),m(e.Gender),b(e.status)},onEmpInfo:e=>{p(e),g("/hr/employee/info/personal-info")}}):Object(O.jsx)(oa,{onEmployeeSubmit:async e=>{e.preventDefault();const a=new FormData;a.append("Email",e.target[0].value),a.append("Password",e.target[1].value),a.append("Account",e.target[2].value),a.append("RoleID",e.target[3].value),a.append("Gender",n),a.append("FirstName",e.target[6].value),a.append("LastName",e.target[7].value),a.append("DOB",e.target[8].value),a.append("ContactNo",e.target[9].value),a.append("DepartmentID",e.target[10].value),a.append("PositionID",e.target[11].value),a.append("DateOfJoining",e.target[12].value),a.append("profile",e.target[13].files[0]),a.append("reportManager","Select your option"===e.target[14].value?"":e.target[14].value),a.append("reportHr","Select your option"===e.target[15].value?"":e.target[15].value),a.append("status","active"),a.append("loginStatus","loggedOut"),await d.a.post(`${E}/api/employee`,a,{headers:{"Content-Type":"multipart/form-data",authorization:localStorage.getItem("token")||""}}).then((e=>{t(!0)})).catch((e=>{400===e.response.status&&alert(e.response.data)}))},onFormClose:()=>{t(!0)},onGenderChange:e=>{i(e.currentTarget.value)}})}),Object(O.jsx)(o.b,{path:"info/personal-info",element:Object(O.jsx)(Ua,{data:u,back:!0})}),Object(O.jsx)(o.b,{path:"info/education",element:Object(O.jsx)(va,{data:u,back:!0})}),Object(O.jsx)(o.b,{path:"info/family-info",element:Object(O.jsx)(qa,{data:u,back:!0})}),Object(O.jsx)(o.b,{path:"info/work-experience",element:Object(O.jsx)(wa,{data:u,back:!0})})]})};a(510),a(511);const Ga=mt.a`
  display: block;
  margin: 0 auto;
  margin-top: 45px;
  border-color: red;
`;var Ya=e=>{const[t,a]=Object(s.useState)([]),[l,c]=Object(s.useState)(!0),[r,n]=Object(s.useState)(""),[o,i]=Object(s.useState)(1),[j]=Object(s.useState)(10),{darkMode:m}=g(),h=()=>{d.a.get(`${E}/api/salary`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;console.log("response",e.data),a(e.data),c(!1);const s=t.map((e=>({data:e,empID:e.empID,profile:e.profile,EmployeeName:`${e.FirstName} ${e.LastName}`,PositionName:e.position[0].PositionName,BasicSalary:e.salary[0].BasicSalary,BankName:e.salary[0].BankName,AccountNo:e.salary[0].AccountNo,AccountHolderName:e.salary[0].AccountHolderName,IFSCcode:e.salary[0].IFSCcode,TaxDeduction:e.salary[0].TaxDeduction,HRASalary:e.salary[0].HRASalary,PFDeduct:e.salary[0].PFDeduct,LeaveDeduct:e.salary[0].LeaveDeduct,MAllowance:e.salary[0].MAllowance,SpecialAllowance:e.salary[0].SpecialAllowance,otherAllowance:e.salary[0].otherAllowance,totalSalary:e.salary[0].totalSalary})));a(s)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{h()}),[]);const b=e=>{n(e.target.value)},u=t.slice().filter((e=>e.EmployeeName.toLowerCase().includes(r.toLowerCase()))),p=o*j,v=p-j,y=u.slice(v,p),f=[];for(let s=1;s<=Math.ceil(u.length/j);s++)f.push(s);return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{style:{background:m?"var(--secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:m?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"row mx-auto mb-3 py-1 mt-2",children:Object(O.jsxs)("div",{className:"my-auto d-flex justify-content-between",children:[Object(O.jsx)(ma,{title:"Salary Details",message:"You can view or create employees salary here."}),Object(O.jsxs)("div",{className:"d-flex gap-2 justify-content-between py-1",children:[Object(O.jsxs)("div",{className:"searchholder d-none d-md-flex p-0 d-flex my-auto position-relative",children:[Object(O.jsx)("input",{style:{height:"100%",width:"100%",paddingLeft:"15%"},className:"form-control border border-primary border-2",type:"text",placeholder:"Search by name",value:r,onChange:b}),Object(O.jsx)(N.e,{className:"text-black",style:{position:"absolute",top:"30%",left:"5%"}})]}),Object(O.jsxs)(xt.a,{className:"my-auto d-flex gap-1 my-auto",id:"add-button",onClick:e.onAddSalary,children:["+ ",Object(O.jsx)("span",{className:"d-none d-sm-block",children:"Add Salary"})]})]})]})}),Object(O.jsxs)("div",{className:"searchholder d-block d-md-none container-fluid my-2 d-flex position-relative",children:[Object(O.jsx)("input",{style:{height:"100%",width:"100%",paddingLeft:"15%"},className:"form-control",type:"text",placeholder:"Search by name",value:r,onChange:b}),Object(O.jsx)(N.e,{className:"text-black",style:{position:"absolute",top:"30%",left:"5%"}})]}),l&&Object(O.jsx)("div",{id:"loading-bar",children:Object(O.jsx)(jt.a,{css:Ga,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}),Object(O.jsx)("div",{className:"row m-auto container-fluid",children:y.length>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",style:{fontSize:".9rem"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{style:{position:"sticky",top:"0",zIndex:"3"},children:[Object(O.jsx)("th",{colSpan:2,style:ut(m),className:"py-2 fw-normal border-0",children:"Employee Name"}),Object(O.jsx)("th",{style:ut(m),className:"py-2 fw-normal border-0",children:"# ID"}),Object(O.jsx)("th",{style:ut(m),className:"py-2 fw-normal border-0",children:"Designation"}),Object(O.jsxs)("th",{style:ut(m),className:"py-2 fw-normal border-0",children:[Object(O.jsx)(x.s,{})," Salary"]}),Object(O.jsx)("th",{style:ut(m),className:"py-2 fw-normal border-0",children:"Bank Name"}),Object(O.jsx)("th",{style:ut(m),className:"py-2 fw-normal border-0",children:"Account No"}),Object(O.jsx)("th",{style:ut(m),className:"py-2 fw-normal border-0",children:"IFSC Code"}),Object(O.jsxs)("th",{style:ut(m),className:"py-2 fw-normal border-0",children:[Object(O.jsx)(x.s,{})," Tax Deduction"]}),Object(O.jsx)("th",{style:ut(m),className:"py-2 fw-normal text-end border-0",children:"Action"})]})}),Object(O.jsx)("tbody",{children:y.map(((t,a)=>{var s,l,c,r,n;return Object(O.jsxs)("tr",{className:"stickey-top",children:[Object(O.jsx)("td",{style:pt(m),className:"text-capitalize px-0 py-1 border-0",children:Object(O.jsx)("div",{className:"d-flex flex-nowrap gap-2",children:Object(O.jsx)("div",{className:"mx-auto d-flex align-items-center justify-content-center",style:{height:"30px",width:"30px",borderRadius:"50%",backgroundColor:"#ccc",color:"white",fontWeight:"bold",overflow:"hidden",objectFit:"cover"},children:null!==t&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&null!==(l=s.profile)&&void 0!==l&&l.image_url?Object(O.jsx)("img",{style:{height:"100%",width:"100%",borderRadius:"50%",objectFit:"cover"},src:null===t||void 0===t||null===(c=t.data)||void 0===c||null===(r=c.profile)||void 0===r?void 0:r.image_url,alt:""}):Object(O.jsx)("span",{children:null===t||void 0===t||null===(n=t.EmployeeName)||void 0===n?void 0:n.split(" ").map((e=>e[0])).join("").toUpperCase()})})})}),Object(O.jsx)("td",{style:pt(m),className:"border-0",children:t.EmployeeName}),Object(O.jsx)("td",{style:pt(m),className:"border-0",children:t.empID}),Object(O.jsx)("td",{style:pt(m),className:"border-0",children:t.PositionName}),Object(O.jsxs)("td",{style:pt(m),className:"border-0",children:[Object(O.jsx)(x.s,{})," ",t.totalSalary,"/-"]}),Object(O.jsx)("td",{style:pt(m),className:"text-uppercase border-0",children:t.BankName}),Object(O.jsx)("td",{style:pt(m),className:"text-uppercase border-0",children:t.AccountNo}),Object(O.jsx)("td",{style:pt(m),className:"text-uppercase border-0",children:t.IFSCcode}),Object(O.jsxs)("td",{style:pt(m),className:"border-0",children:[Object(O.jsx)(x.s,{})," ",t.TaxDeduction,"/-"]}),Object(O.jsxs)("td",{style:pt(m),className:"border-0 text-end",children:[Object(O.jsx)(bt,{style:{color:m?"black":"white"},icon:Object(O.jsx)(De.b,{className:"text-primary"}),onClick:()=>e.onEditSalary(t.data),tooltip:"Edit Salary"}),Object(O.jsx)(bt,{style:{color:m?"black":"white"},icon:Object(O.jsx)(Ee.b,{className:"fs-5 text-danger"}),onClick:()=>{return e=t.data._id,console.log(e),void(window.confirm("Are you sure to delete this record? ")&&d.a.delete(`${E}/api/salary/${e}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{h()})).catch((e=>{console.log(e)})));var e},tooltip:"Delete Salary"})]})]},a)}))})]})}),Object(O.jsx)(vt,{currentPage:o,pageNumbers:f,handlePaginationPrev:()=>{i((e=>e-1))},handlePaginationNext:()=>{i((e=>e+1))},setCurrentPage:i,filteredDataLength:t.length,itemsPerPage:j})]}):Object(O.jsx)(O.Fragment,{children:"No Data Found"})})]})};var Va=e=>{const[t,a]=Object(s.useState)([]),{darkMode:l}=g(),[c,r]=Object(s.useState)({BasicSalary:"",HRASalary:"",MAllowance:"",SpecialAllowance:"",otherAllowance:"",LeaveDeduct:"",PFDeduct:"",BankName:"",AccountNo:"",ReAccountNo:"",AccountHolderName:"",IFSCcode:"",TaxDeduction:"",totalSalary:""});Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get(`${E}/api/employee`,{headers:{authorization:localStorage.getItem("token")||""}});a(e.data)}catch(e){console.log(e)}})()}),[]);const n=e=>{const{name:t,value:a}=e.target;r((e=>{const s={...e,[t]:a},l=o(s);return{...s,totalSalary:l}}))},o=e=>{const{BasicSalary:t,HRASalary:a,MAllowance:s,SpecialAllowance:l,otherAllowance:c,LeaveDeduct:r,PFDeduct:n,TaxDeduction:o}=e;return(parseFloat(t||0)+parseFloat(a||0)+parseFloat(s||0)+parseFloat(l||0)+parseFloat(c||0)-parseFloat(n||0)-parseFloat(r||0)-parseFloat(o||0)).toFixed(2)};return Object(O.jsxs)("div",{style:{color:l?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"container-fluid py-2",children:[Object(O.jsx)(ma,{title:"Add Salary Details",message:"You can add salary details of the employee."}),Object(O.jsxs)(M.a,{id:"form",onSubmit:e.onSalarySubmit,style:{width:"fit-content"},className:" w-100 row  row-gap-3 py-4 mb-5",children:[Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{children:"Select Employee"}),Object(O.jsx)("div",{children:Object(O.jsxs)(M.a.Control,{className:"rounded-0",as:"select",name:"employeeId",onChange:n,required:!0,children:[Object(O.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),t.map(((e,t)=>Object(O.jsx)("option",{value:e._id,children:e.empID+" "+e.FirstName+" "+e.LastName},t)))]})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{children:"Basic Salary"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"number",name:"BasicSalary",placeholder:"Basic Salary",value:c.BasicSalary,onChange:n,required:!0})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{children:"House Rent Allowance (H.R.A.) "}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"number",name:"HRASalary",placeholder:"H.R.A",value:c.HRASalary,onChange:n,required:!0})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{children:"Medical Allowance"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"number",name:"MAllowance",placeholder:"Medical Allowance",value:c.MAllowance,onChange:n,required:!0})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{children:"Special Allowance"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"number",name:"SpecialAllowance",placeholder:"Special Allowance",value:c.SpecialAllowance,onChange:n,required:!0})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{children:"Other Allowance "}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"number",name:"otherAllowance",placeholder:"Other Allowance",value:c.otherAllowance,onChange:n,required:!0})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{children:"Leave Deduct "}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"number",name:"LeaveDeduct",placeholder:"Leave Deduct",value:c.LeaveDeduct,onChange:n,required:!0})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{children:"PF Deduct "}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"number",name:"PFDeduct",placeholder:"PF Deduct",value:c.PFDeduct,onChange:n,required:!0})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{children:"Bank Name"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"text",name:"BankName",placeholder:"Bank Name",value:c.BankName,onChange:n,required:!0})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{children:"Account No"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"text",name:"AccountNo",placeholder:"Account No",value:c.AccountNo,onChange:n,required:!0})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{children:"Re-Enter Account No"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"text",name:"ReAccountNo",placeholder:"Re-Enter Account No",value:c.ReAccountNo,onChange:n,required:!0})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{children:"Account Holder Name"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"text",name:"AccountHolderName",placeholder:"Account Holder Name",value:c.AccountHolderName,onChange:n,required:!0})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{children:"IFSC Code"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"text",name:"IFSCcode",placeholder:"IFSC Code",value:c.IFSCcode,onChange:n,required:!0})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{children:"Tax Deduction"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"number",name:"TaxDeduction",placeholder:"Tax Deduction",value:c.TaxDeduction,onChange:n,required:!0})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{children:"Total Earning"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"number",name:"totalSalary",placeholder:"Total Earning",value:c.totalSalary,readOnly:!0})})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[Object(O.jsx)(xt.a,{className:"btn btn-primary",type:"submit",children:"Submit"}),Object(O.jsx)(xt.a,{className:"btn btn-danger",type:"reset",onClick:e.onFormClose,children:"cancel"})]}),Object(O.jsx)("div",{className:"form-group col-12 col-md-6 col-12 col-md-6",id:"form-cancel-button"})]})]})};var Ja=e=>{const[t,a]=Object(s.useState)([]),{darkMode:l}=g(),[c,r]=Object(s.useState)(e.editData.salary[0].BasicSalary),[n,o]=Object(s.useState)(e.editData.salary[0].BankName),[i,j]=Object(s.useState)(e.editData.salary[0].AccountNo),[m,h]=Object(s.useState)(e.editData.salary[0].AccountNo),[b,u]=Object(s.useState)(e.editData.salary[0].AccountHolderName),[p,x]=Object(s.useState)(e.editData.salary[0].IFSCcode),[v,y]=Object(s.useState)(e.editData.salary[0].TaxDeduction),[f,N]=Object(s.useState)(e.editData.salary[0].HRASalary),[D,k]=Object(s.useState)(e.editData.salary[0].MAllowance),[C,w]=Object(s.useState)(e.editData.salary[0].SpecialAllowance),[A,S]=Object(s.useState)(e.editData.salary[0].otherAllowance),[L,T]=Object(s.useState)(e.editData.salary[0].LeaveDeduct),[F,P]=Object(s.useState)(e.editData.salary[0].PFDeduct),[I,R]=Object(s.useState)(e.editData.salary[0].totalSalary);return Object(s.useEffect)((()=>{d.a.get(`${E}/api/salary`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(e.data)})).catch((e=>{console.log(e)}))}),[]),Object(O.jsxs)("div",{style:{color:l?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"container-fluid py-2",children:[Object(O.jsx)(ma,{title:"Edit Salary Details",message:"You can edit salary details of the employee."}),Object(O.jsx)(M.a,{className:"my-2",id:"form",onSubmit:t=>e.onSalaryEditUpdate(e.editData,t),children:Object(O.jsxs)("div",{className:"row row-gap-3 ",children:[Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{column:!0,sm:6,children:"Select Employee"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",as:"select",required:!0,disabled:!0,children:t.map(((t,a)=>Object(O.jsx)("option",{value:t._id,selected:e.editData._id===t._id,disabled:!0,children:`${t.FirstName} ${t.LastName}`},a)))})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{column:!0,sm:6,children:"Basic Salary"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"number",placeholder:"Basic Salary",required:!0,value:c,onChange:e=>{r(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{column:!0,sm:6,children:["House Rent Allowance (H.R.A.)"," "]}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"number",placeholder:" House Rent Allowance",required:!0,value:f,onChange:e=>{N(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{column:!0,sm:6,children:["Medical Allowance"," "]}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"number",placeholder:" Medical Allowance",required:!0,value:D,onChange:e=>{k(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{column:!0,sm:6,children:"Special Allowance"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"number",placeholder:" Special Allowance",required:!0,value:C,onChange:e=>{w(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{column:!0,sm:6,children:"Other Allowance"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"number",placeholder:"Other Allowance",required:!0,value:A,onChange:e=>{S(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsxs)("label",{column:!0,sm:6,children:["Leave Deduct"," "]}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"number",placeholder:"Leave Deduct",required:!0,value:L,onChange:e=>{T(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{column:!0,sm:6,children:"PF Deduct"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"number",placeholder:" PF Deduct",required:!0,value:F,onChange:e=>{P(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{column:!0,sm:6,children:"Bank Name"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"text",placeholder:"Bank Name",required:!0,value:n,onChange:e=>{o(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{column:!0,sm:6,children:"Account No"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"text",placeholder:"Account No",required:!0,value:i,onChange:e=>{j(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{column:!0,sm:6,children:"Re-Enter Account No"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"text",placeholder:"Re-Enter Account No",required:!0,value:m,onChange:e=>{h(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{column:!0,sm:6,children:"Account Holder Name"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"text",placeholder:"Account Holder Name",required:!0,value:b,onChange:e=>{u(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{column:!0,sm:6,children:"IFSC Code"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"text",placeholder:"IFSC Code",required:!0,value:p,onChange:e=>{x(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{column:!0,sm:6,children:"Tax Deduction"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"number",placeholder:"Basic Salary",required:!0,value:v,onChange:e=>{y(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6 col-lg-4",children:[Object(O.jsx)("label",{column:!0,sm:6,children:"Total Salary"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"number",placeholder:" Total Salary",required:!0,value:I,onChange:e=>{R(e.target.value)}})})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"}),Object(O.jsx)("button",{className:"btn btn-danger",type:"reset",onClick:e.onFormEditClose,children:"cancel"})]}),Object(O.jsx)("div",{className:"col-12 col-md-6 col-lg-4",id:"form-cancel-button"})]})})]})};var Za=()=>{const[e,t]=Object(s.useState)(!0),[a,c]=Object(s.useState)(!1),[r,n]=Object(s.useState)(null);return Object(O.jsx)(l.a.Fragment,{children:e?a?Object(O.jsx)(Ja,{onSalaryEditUpdate:(e,a)=>{if(a.preventDefault(),a.target[9].value!==a.target[10].value)window.alert("The bank account number you entered does not match ");else{let s={BasicSalary:a.target[1].value,HRASalary:a.target[2].value,MAllowance:a.target[3].value,SpecialAllowance:a.target[4].value,otherAllowance:a.target[5].value,LeaveDeduct:a.target[6].value,PFDeduct:a.target[7].value,BankName:a.target[8].value,AccountNo:a.target[9].value,AccountHolderName:a.target[10].value,IFSCcode:a.target[11].value,TaxDeduction:a.target[12].value,totalSalary:a.target[13].value};d.a.put(`${E}/api/salary/`+e.salary[0]._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{t(!1),t(!0)})).catch((e=>{console.log(e)})),c(!1)}},onFormEditClose:()=>{c(!1)},editData:r,onGenderChange:()=>{}}):Object(O.jsx)(Ya,{onAddSalary:()=>{t(!1)},onEditSalary:e=>{c(!0),n(e)}}):Object(O.jsx)(Va,{onSalarySubmit:e=>{e.preventDefault();const{BasicSalary:a,HRASalary:s,MAllowance:l,SpecialAllowance:c,otherAllowance:r,LeaveDeduct:n,PFDeduct:o,BankName:i,AccountNo:j,AccountHolderName:m,IFSCcode:h,TaxDeduction:b,totalSalary:u,ReAccountNo:p}=e.target.elements;if(j.value!==p.value)return void window.alert("The bank account number you entered does not match ");const x={BasicSalary:a.value,HRASalary:s.value,MAllowance:l.value,SpecialAllowance:c.value,otherAllowance:r.value,LeaveDeduct:n.value,PFDeduct:o.value,BankName:i.value,AccountNo:j.value,AccountHolderName:m.value,IFSCcode:h.value,TaxDeduction:b.value,totalSalary:u.value};d.a.post(`${E}/api/salary/${e.target.employeeId.value}`,x,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{t(!1),t(!0)})).catch((e=>{var t;403===(null===(t=e.response)||void 0===t?void 0:t.status)&&window.alert(e.response.data)}))},onFormClose:()=>{t(!0)},onGenderChange:()=>{}})})},Xa=(a(512),a.p+"static/media/LeaveLight.23271c4a.svg"),Qa=a.p+"static/media/LeaveDark.de2c86cf.svg";mt.a`
  display: block;
  margin: 0 auto;
  margin-top: 45px;
  border-color: red;
`;var Ka=e=>{const{userData:t}=Object(P.c)((e=>e.user)),[a,l]=Object(s.useState)([]),[c,r]=Object(s.useState)(!0),[n,i]=Object(s.useState)([]),[j,b]=Object(s.useState)(null),[u,p]=Object(s.useState)(""),[x,v]=Object(s.useState)("asc"),[y,f]=Object(s.useState)([]),{darkMode:D}=g(),[k,C]=Object(s.useState)(1),[w]=Object(s.useState)(10),A=(Object(o.n)(),null===t||void 0===t?void 0:t.Email),S=e=>{if(!e)return;const t=e.split("-");return`${t[2]}-${t[1]}-${t[0]}`},M=()=>{d.a.post(`${E}/api/leave-application-hr/`,{hr:A},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;l(t),r(!1);const a=t.map((e=>{var t,a,s;return{data:e,empID:null===e||void 0===e?void 0:e.empID,Name:(null===e||void 0===e?void 0:e.FirstName)+" "+(null===e||void 0===e?void 0:e.LastName),Leavetype:null===e||void 0===e?void 0:e.Leavetype,CreatedOn:S(null===e||void 0===e||null===(t=e.createdOn)||void 0===t?void 0:t.slice(0,10)),FromDate:S(null===(a=e.FromDate)||void 0===a?void 0:a.slice(0,10)),ToDate:S(null===(s=e.ToDate)||void 0===s?void 0:s.slice(0,10)),Days:T(null===e||void 0===e?void 0:e.FromDate,null===e||void 0===e?void 0:e.ToDate),Reasonforleave:null===e||void 0===e?void 0:e.Reasonforleave,aditionalManager:null===e||void 0===e?void 0:e.aditionalManager,Status:F(null===e||void 0===e?void 0:e.Status),empObjID:null===e||void 0===e?void 0:e.empObjID}}));console.log(a),i(a.filter((e=>"Pending"===e.Status||1===e.Status))),f(a.filter((e=>"Pending"===e.Status||1===e.Status)))})).catch((e=>{}))};Object(s.useEffect)((()=>{M()}),[]),Object(s.useEffect)((()=>{L()}),[u]);const L=()=>{const e=n.filter((e=>e.Name.toLowerCase().includes(u.toLowerCase())));f(e)},T=(e,t)=>{if(!t)return.5;const a=new Date(e),s=new Date(t),l=Math.abs(s-a);return Math.ceil(l/864e5)+1},F=e=>1==e?"Pending":2==e?"Approved":3==e?"Rejected":void 0,I=(y.filter((e=>"Pending"===e.Status)).length,k*w),R=I-w,$=y.slice(R,I),z=[];for(let s=1;s<=Math.ceil(y.length/w);s++)z.push(s);return Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsx)("div",{className:"d-flex flex-column justify-between m-0 mt-3",children:Object(O.jsxs)("div",{className:"d-flex justify-content-between aline-items-center",children:[Object(O.jsxs)("div",{className:"my-auto",children:[Object(O.jsxs)("h5",{style:{color:D?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"m-0 p-0 ",children:["Leaves Request ( ",y.length," )"]}),Object(O.jsxs)("p",{style:{color:D?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"m-0 p-0 ",children:["You can see all new leave requests here"," "]})]}),Object(O.jsxs)("div",{className:"d-flex gap-2 justify-content-between py-3",children:[Object(O.jsxs)("button",{className:"btn btn-danger rounded-0 py-0 shadow-sm d-flex justify-center  aline-center gap-2",onClick:()=>{if(window.confirm("Are you sure to download Leave record? ")){const e=297,t=210,a=new sa.default({orientation:"landscape",unit:"mm",format:[e,t]});a.setFontSize(18),a.text("Employee Leave Details",e/2,15,"center");const s=["Emp Id","Leave Type","Start Date","End Date","Remarks","Days","CreatedOn","Status"],l=y.map((e=>[e.empID,e.Leavetype,e.FromDate,e.ToDate,e.Days,e.CreatedOn,e.Reasonforleave,e.Status]));a.setFontSize(12),a.autoTable({head:[s],body:l,startY:25}),a.save("leaveApplication_data.pdf")}},children:[Object(O.jsx)(ct.j,{className:"fs-6"}),Object(O.jsx)("p",{className:"my-auto d-none d-md-flex fs-6",children:"PDF"})]}),Object(O.jsxs)("div",{className:"searchholder p-0 d-flex  position-relative",children:[Object(O.jsx)("input",{style:{height:"100%",width:"100%",paddingLeft:"15%"},className:"form-control border rounded-0",type:"text",placeholder:"Search by name",value:u,onChange:e=>p(e.target.value)}),Object(O.jsx)(N.e,{style:{position:"absolute",top:"30%",left:"5%"}})]})]})]})}),Object(O.jsx)("div",{id:"clear-both"}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{children:$.length>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{className:"shadow",children:[Object(O.jsx)("th",{style:ut(D),children:"Profile"}),Object(O.jsx)("th",{style:ut(D),children:"Employee Name"}),Object(O.jsx)("th",{style:ut(D),children:"Emp ID"}),Object(O.jsx)("th",{style:ut(D),children:"Leave Type"}),Object(O.jsx)("th",{style:ut(D),children:"Start Date"}),Object(O.jsx)("th",{style:ut(D),children:"End Date"}),Object(O.jsx)("th",{style:ut(D),children:"CreatedOn"}),Object(O.jsx)("th",{style:ut(D),children:"Days"}),Object(O.jsx)("th",{style:ut(D),children:"Status"}),Object(O.jsx)("th",{style:ut(D),children:"Remarks"}),Object(O.jsx)("th",{style:ut(D),children:"Actions"})]})}),Object(O.jsx)("tbody",{children:$.map(((t,a)=>{var s,l,c,r,n;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:pt(D),children:Object(O.jsx)("div",{className:"mx-auto d-flex align-items-center justify-content-center",style:{height:"30px",width:"30px",borderRadius:"50%",backgroundColor:"#ccc",color:"white",fontWeight:"bold",overflow:"hidden",objectFit:"cover"},children:null!==t&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&null!==(l=s.profile)&&void 0!==l&&l.image_url?Object(O.jsx)("img",{style:{height:"100%",width:"100%",borderRadius:"50%",objectFit:"cover"},src:null===t||void 0===t||null===(c=t.data)||void 0===c||null===(r=c.profile)||void 0===r?void 0:r.image_url,alt:""}):Object(O.jsx)("span",{children:null===t||void 0===t||null===(n=t.Name)||void 0===n?void 0:n.split(" ").map((e=>e[0])).join("").toUpperCase()})})}),Object(O.jsx)("td",{style:pt(D),children:t.Name}),Object(O.jsx)("td",{style:pt(D),children:t.empID}),Object(O.jsx)("td",{style:pt(D),children:t.Leavetype}),Object(O.jsx)("td",{style:pt(D),children:t.FromDate}),Object(O.jsx)("td",{style:pt(D),children:t.ToDate}),Object(O.jsx)("td",{style:pt(D),children:Object(O.jsx)("span",{children:t.CreatedOn})}),Object(O.jsx)("td",{style:pt(D),children:Object(O.jsx)("span",{children:t.Days})}),Object(O.jsx)("td",{style:pt(D),children:Object(O.jsx)("span",{className:" text-warning border border-warning px-2 py-0 rounded-5",children:t.Status})}),Object(O.jsx)("td",{style:pt(D),children:t.Reasonforleave}),Object(O.jsx)("td",{style:pt(D),children:Object(O.jsxs)("div",{className:"d-flex gap-3 py-2",style:{cursor:"pointer"},children:[Object(O.jsx)("p",{title:"Update",className:"m-auto text-primary",children:Object(O.jsx)(m.a,{className:"m-auto",icon:h.a,onClick:()=>e.onEditLeaveApplicationHR(t.data,t.Days)})}),Object(O.jsx)("p",{title:"Delete",className:"m-auto text-danger",children:Object(O.jsx)(m.a,{className:"m-auto",icon:h.e,onClick:()=>{return e=t.empObjID,a=t.data._id,void(window.confirm("Are you sure to delete this record? ")&&d.a.delete(`${E}/api/leave-application-hr/`+e+"/"+a,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{M()})).catch((e=>{})));var e,a}})})]})})]},a)}))})]})}),Object(O.jsx)(vt,{currentPage:k,pageNumbers:z,handlePaginationPrev:()=>{C((e=>e-1))},handlePaginationNext:()=>{C((e=>e+1))},setCurrentPage:C,filteredDataLength:y.length,itemsPerPage:w})]}):Object(O.jsxs)("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"2rem"},children:[Object(O.jsx)("img",{style:{height:"auto",width:"25%"},src:D?Qa:Xa,alt:"img"}),Object(O.jsx)("p",{style:{color:D?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)"},children:"No Leave requests found."})]})})})]})},es=a(46);var ts=e=>{const[t,a]=Object(s.useState)(e.editData.FromDate.slice(0,10)),[l,c]=Object(s.useState)(null===e.editData.ToDate?"":e.editData.ToDate.slice(0,10)),[r,n]=Object(s.useState)(e.editData.Reasonforleave),{darkMode:o}=Object(es.g)();return Object(O.jsxs)("div",{style:{color:o?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"container-fluid py-2",children:[Object(O.jsx)("h5",{}),Object(O.jsx)(ma,{title:`Edit Leave Application ${e.editData.FirstName}  ${e.editData.LastName}`,message:"You can edit leave application here."}),Object(O.jsxs)("form",{className:"row w-100 my-2 row-gap-3",onSubmit:t=>{t.preventDefault(),e.onLeaveApplicationHREditUpdate(e.editData,t)},children:[Object(O.jsxs)("div",{className:"col-12 col-md-6",children:[Object(O.jsx)("label",{children:"Leave Type"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",as:"select",children:Object(O.jsx)("option",{value:"",disabled:!0,selected:!0,children:e.editData.Leavetype})})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6",children:[Object(O.jsx)("label",{children:"FromDate"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"date",required:!0,disabled:!0,value:t})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6",children:[Object(O.jsx)("label",{children:"ToDate"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"date",required:!0,disabled:!0,value:l})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6",children:[Object(O.jsx)("label",{children:"Leave Status"}),Object(O.jsx)("div",{children:Object(O.jsxs)(M.a.Control,{className:"rounded-0",as:"select",required:!0,children:[Object(O.jsx)("option",{value:"Pending",selected:!0,disabled:!0,children:"Pending"}),Object(O.jsx)("option",{value:"2",selected:2==e.editData.Status,children:"Approve"}),Object(O.jsx)("option",{value:"3",selected:3==e.editData.Status,children:"Reject"})]})})]}),Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)("label",{children:"Reason for leave"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",as:"textarea",rows:3,placeholder:"Reason for leave",required:!0,disabled:!0,value:r})})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"}),Object(O.jsx)("button",{className:"btn btn-danger",type:"reset",onClick:e.onFormEditClose,children:"cancel"})]})]})]})},as=a(652);var ss=e=>{const[t,a]=Object(s.useState)(!0),{socket:c}=Object(s.useContext)(b),{userData:r}=Object(P.c)((e=>e.user)),[n,o]=Object(s.useState)(!1),[i,j]=Object(s.useState)({}),[m,h]=Object(s.useState)(null),u=null===r||void 0===r?void 0:r.Email,p=`${null===r||void 0===r?void 0:r.FirstName} ${null===r||void 0===r?void 0:r.LastName}`,x=null===r||void 0===r?void 0:r._id;Object(s.useEffect)((()=>{d.a.get(`${E}/api/particularEmployee/${x}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{h(e.data)})).catch((e=>{}))}),[]);return Object(O.jsx)(l.a.Fragment,{children:t?n?Object(O.jsx)(ts,{onLeaveApplicationHREditUpdate:(e,t)=>{t.preventDefault();let s={Status:t.target[3].value,updatedBy:`${m.FirstName} ${m.LastName}`,totalLeaveRequired:e.Days,id:e.empObjID,leaveType:e.Leavetype};const l=Object(as.a)();let r="";if("2"===s.Status)r="Approved",d.a.put(`${E}/api/leave-application-hr/`+e._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((t=>{if(a(!1),a(!0),m.profile){const t={taskId:l,employeeEmail:e.Email,hrEmail:e.reportHr,reportManager:u===e.aditionalManager?e.reportManager:e.aditionalManager,message:`Leave ${r}`,messageBy:p,profile:m.profile.image_url,status:"unseen",path:1===m.Account?"createLeave":"leaveApplication"};c.emit("leaveManagerStatusNotification",t)}else{const t={taskId:l,employeeEmail:e.Email,hrEmail:e.reportHr,reportManager:u===e.aditionalManager?e.reportManager:e.aditionalManager,message:`Leave ${r}`,messageBy:p,profile:null,status:"unseen",path:1===m.Account?"createLeave":"leaveApplication"};c.emit("leaveManagerStatusNotification",t)}})).catch((e=>{}));else if("3"===s.Status){r="Rejected";let t=prompt("Please provide reason of rejection");s.reasonOfRejection=t,d.a.put(`${E}/api/leave-application-hr/`+e._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((t=>{if(a(!1),a(!0),m.profile){const t={taskId:l,employeeEmail:e.Email,hrEmail:e.reportHr,reportManager:u===e.aditionalManager?e.reportManager:e.aditionalManager,message:`Leave ${r}`,messageBy:p,profile:m.profile.image_url,status:"unseen",path:1===m.Account?"createLeave":"leaveApplication"};c.emit("leaveManagerStatusNotification",t)}else{const t={taskId:l,employeeEmail:e.Email,hrEmail:e.reportHr,reportManager:u===e.aditionalManager?e.reportManager:e.aditionalManager,message:`Leave ${r}`,messageBy:p,profile:null,status:"unseen",path:1===m.Account?"createLeave":"leaveApplication"};c.emit("leaveManagerStatusNotification",t)}})).catch((e=>{}))}o(!1)},onFormEditClose:()=>{o(!1)},editData:i}):Object(O.jsx)(Ka,{onAddLeaveApplicationHR:()=>{a(!1)},onEditLeaveApplicationHR:(e,t)=>{e.Days=t,o(!0),j(e)},data:e.data}):Object(O.jsx)("div",{})})};var ls=()=>{const{darkMode:e}=g();return Object(O.jsxs)("div",{style:{color:e?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)",height:"92vh",width:"100%"},className:"d-flex flex-column justify-content-center align-items-center",children:[Object(O.jsx)("h2",{style:{fontSize:"3rem"},className:"fw-bolder",children:"OOPS"}),Object(O.jsx)("h1",{style:{fontSize:"15rem"},className:"fw-bolder m-0 p-0",children:"404"}),Object(O.jsxs)("p",{children:["Page Not Found! , ",Object(O.jsx)(n.a,{to:"/manager/dashboard",children:"Click"})," to ho to Home"]})]})},cs=a.p+"static/media/SearchDark.aa9f6d48.svg";var rs=()=>{const[e,t]=Object(s.useState)(""),[a,l]=Object(s.useState)([]),[c,r]=Object(s.useState)(null),[n,o]=Object(s.useState)((new Date).getFullYear()),[i,j]=Object(s.useState)((new Date).getMonth()+1),{darkMode:m}=g(),[h,b]=Object(s.useState)(null),[u,p]=Object(s.useState)(!1),{userData:v}=Object(P.c)((e=>e.user)),y=null===v||void 0===v?void 0:v.Account,f=null===v||void 0===v?void 0:v.Email,N=()=>{p(!0)},D=()=>{p(!1)};Object(s.useEffect)((()=>{k()}),[]);const k=async()=>{try{const e=await d.a.get(`${E}/api/employee`,{headers:{authorization:localStorage.getItem("token")||""}});console.log(e.data),1===y?l(e.data):2===y?l(e.data.filter((e=>1!==e.Account))):3===y?l([]):4===y&&l(e.data.filter((e=>e.reportManager===f)))}catch(e){console.error("Error fetching employees:",e)}},C=()=>{if(c&&c.years){const e=(new Date).getFullYear();return c.years.filter((t=>t.year<=e))}return[]},w=e=>{const t=e&&e.loginTime[0];if(t){const[e,a]=t.split(":").map(Number);if(e>9||9===e&&a>45)return Object(O.jsx)("span",{className:"border border-warning py-0 px-2 rounded-5",children:"Half Day"});if(e>9||9===e&&a>30)return Object(O.jsx)("span",{className:"border border-info py-0 px-2 rounded-5",children:"Late"})}return t?Object(O.jsx)("span",{className:"border border-success py-0 px-2 rounded-5",children:"Present"}):Object(O.jsx)("span",{className:"border border-danger py-0 px-2 rounded-5",children:"Absent"})};function A(e){return Math.floor(e/60)+" Hrs "+e%60+" Min"}return Object(O.jsxs)("div",{className:"container-fluid d-flex flex-column gap-3",children:[Object(O.jsxs)("div",{className:"d-flex flex-column flex-lg-row gap-3 justify-content-between my-2",children:[Object(O.jsx)(ma,{title:"Employee Wise Attendance",message:"You can view attendance by employee here."}),Object(O.jsxs)("div",{className:"d-flex gap-3 justify-content-start justify-content-md-end my-auto",children:[Object(O.jsx)("div",{className:"w-50",children:Object(O.jsxs)("select",{className:"form-select rounded-0  text-muted",id:"employeeId",value:e,onChange:e=>{t(e.target.value)},children:[Object(O.jsx)("option",{value:"",disabled:!0,children:"--Select Employee--"}),a.sort(((e,t)=>e.empID-t.empID)).map((e=>Object(O.jsxs)("option",{className:"form-select",value:e._id,children:[e.empID," | ",e.FirstName.toUpperCase()," ",e.LastName.toUpperCase()]},e._id)))]})}),Object(O.jsx)("button",{className:"btn my-auto rounded-0 btn-dark fw-bolder",style:{width:"fit-content"},onClick:async()=>{try{let t=(await d.a.get(`${E}/api/attendance/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}})).data.filter((t=>t.employeeObjID&&t.employeeObjID._id===e));r(t.length>0?t[0]:null)}catch(t){console.error("Error fetching attendance data:",t)}},children:"Fetch Attendance"})]})]}),c&&Object(O.jsxs)("div",{style:{color:m?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"d-flex gap-3",children:[Object(O.jsxs)("div",{className:"w-25",children:[Object(O.jsx)("label",{htmlFor:"year",children:"Select Year:"}),Object(O.jsx)("select",{className:"form-select rounded-0",id:"year",value:n,onChange:e=>o(parseInt(e.target.value)),children:C().map((e=>Object(O.jsx)("option",{value:e.year,children:e.year},e.year)))})]}),Object(O.jsxs)("div",{className:"w-25",children:[Object(O.jsx)("label",{htmlFor:"month",children:"Select Month:"}),Object(O.jsx)("select",{className:"form-select shadow rounded-0",id:"month",value:i,onChange:e=>j(parseInt(e.target.value)),children:(S=n,S===(new Date).getFullYear()?Array.from({length:(new Date).getMonth()+1},((e,t)=>t+1)):Array.from({length:12},((e,t)=>t+1))).map((e=>{return Object(O.jsx)("option",{value:e,children:(t=e,["","January","February","March","April","May","June","July","August","September","October","November","December"][t]||"")},e);var t}))})]})]}),c&&Object(O.jsx)("div",{style:{overflow:"auto",maxHeight:"60vh",minHeight:"60vh"},children:Object(O.jsxs)("table",{className:"table",style:{fontSize:".9rem",fontWeight:"normal"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{style:{position:"sticky",top:"0",zIndex:"3"},children:[Object(O.jsxs)("th",{style:ut(m),children:[Object(O.jsx)(x.z,{})," Date | Day"]}),Object(O.jsxs)("th",{style:ut(m),children:[Object(O.jsx)(R.c,{})," Status"]}),Object(O.jsxs)("th",{style:ut(m),children:[Object(O.jsx)(Pe.a,{}),"Login Time"]}),Object(O.jsxs)("th",{style:ut(m),children:[Object(O.jsx)(Pe.b,{})," Logout Time"]}),Object(O.jsxs)("th",{style:ut(m),children:[Object(O.jsx)(Ae.d,{})," logs"]}),Object(O.jsxs)("th",{style:ut(m),children:[Object(O.jsx)(Te.f,{})," Gross Login"]}),Object(O.jsxs)("th",{style:ut(m),children:[Object(O.jsx)(Ae.d,{})," Breaks"]}),Object(O.jsxs)("th",{style:ut(m),children:[Object(O.jsx)(Te.j,{}),"Total Break"]}),Object(O.jsxs)("th",{style:ut(m),children:[Object(O.jsx)(x.y,{}),"Net Login"]})]})}),Object(O.jsx)("tbody",{children:C().map((e=>e.months.filter((e=>e.month===i)).map((e=>e.dates.sort(((e,t)=>e.date-t.date)).map((e=>{return Object(O.jsxs)("tr",{id:`attendance-row-${e.date}`,onMouseEnter:()=>(e=>{b(e)})(e.date),onMouseLeave:()=>{b(null)},children:[Object(O.jsx)("td",{style:pt(m),children:Object(O.jsxs)("div",{className:"d-flex align-items-center gap-1",children:["                              ",Object(O.jsx)("span",{className:" d-flex btn align-items-center justify-content-center rounded-0",style:{height:"30px",width:"30px",color:m?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)"},children:String(e.date).padStart(2,"0")})," ",Object(O.jsxs)("span",{className:"py-0 btn  d-flex align-items-center justify-content-center rounded-0",style:{height:"30px",width:"45px",color:m?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)"},children:[" ",(t=e.day,["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t])]})]})}),Object(O.jsx)("td",{style:pt(m),className:"text-start",children:w(e)}),Object(O.jsx)("td",{style:pt(m),className:"text-uppercase",children:e.loginTime[0]?e.loginTime[0]:"--"}),Object(O.jsx)("td",{style:pt(m),className:"text-uppercase",children:e.logoutTime[e.logoutTime.length-1]?e.logoutTime[e.logoutTime.length-1]:"--"}),Object(O.jsxs)("td",{style:pt(m),className:"position-relative",children:[Object(O.jsx)("div",{style:{display:"flex ",justifyContent:"start",alignItems:"center"},className:"fs-6 gap-2 ",onMouseEnter:N,onMouseLeave:D,children:Object(O.jsxs)("span",{className:"py-0 ",style:{color:m?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)"},children:[" ",e.loginTime.length]})}),Object(O.jsx)("div",{style:{zIndex:"5",right:"100%",maxHeight:"30vh",overflow:"auto",top:"0"},className:"position-absolute",children:u&&h===e.date&&Object(O.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{whiteSpace:"pre",backgroundColor:"var(--secondaryDashColorDark)",color:"var(--primaryDashMenuColor)"},children:"Login"}),Object(O.jsx)("th",{style:{whiteSpace:"pre",backgroundColor:"var(--secondaryDashColorDark)",color:"var(--primaryDashMenuColor)"},children:"Logout"}),Object(O.jsx)("th",{style:{whiteSpace:"pre",backgroundColor:"var(--secondaryDashColorDark)",color:"var(--primaryDashMenuColor)"},children:"Total Login"})]})}),Object(O.jsx)("tbody",{children:e.loginTime.map(((t,a)=>Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:t}),Object(O.jsx)("td",{children:e.logoutTime[a]}),Object(O.jsx)("td",{children:A(e.LogData[a])})]},a)))})]})})]}),Object(O.jsx)("td",{style:pt(m),children:A(e.TotalLogin)}),Object(O.jsx)("td",{style:pt(m),children:Object(O.jsxs)("span",{className:"py-0 ",style:{color:m?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)"},children:[" ",e.breakTime.length]})}),Object(O.jsx)("td",{style:pt(m),children:A(e.totalBrake)}),Object(O.jsx)("td",{style:pt(m),children:A(e.totalLogAfterBreak)})]},e.date);var t}))))))})]})}),null===c&&Object(O.jsxs)("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"2rem"},children:[Object(O.jsx)("img",{style:{height:"auto",width:"20%"},src:m?cs:ja,alt:"img"}),Object(O.jsx)("p",{className:"text-center w-75 mx-auto",style:{color:m?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)"},children:"User not selected. To view data, please select a user."})]})]});var S},ns=a(157),os=a(47),is=a.n(os);var ds=function(e){var t;const[a,l]=Object(s.useState)(null),[c,r]=Object(s.useState)(0),[n,o]=Object(s.useState)(null),{userData:i}=Object(P.c)((e=>e.user)),j=null===i||void 0===i?void 0:i._id,{setMessage:m}=Object(s.useContext)(b),h=async()=>{try{const e=await d.a.get(`${E}/api/attendances/`+j,{headers:{authorization:localStorage.getItem("token")||""}});l(e.data)}catch(e){console.error("Error fetching personal info:",e)}};Object(s.useEffect)((()=>{h();const e=localStorage.getItem("breakStartTime");if(e){const t=parseInt(e,10),a=Math.floor((Date.now()-t)/1e3);p(a)}}),[e.data]);const u=async e=>{const t=a.attendanceID,s=is()().format("HH:mm:ss"),l=Math.round((new Date).getTime()/1e3/60);try{const a={login:{status:"login",loginTime:[s]},logout:{status:"logout",logoutTime:[s]},break:{status:"break",breakTime:[s],breakTimeMs:[l]},resume:{status:"login",ResumeTime:[s],resumeTimeMS:[l]}};if(await d.a.post(`${E}/api/attendance/${t}`,{employeeId:j,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),...a[e]}),m(`${e.charAt(0).toUpperCase()+e.slice(1)} time recorded successfully`),S.a.success(`${e.charAt(0).toUpperCase()+e.slice(1)} time recorded successfully`),"break"===e){const e=Date.now();localStorage.setItem("breakStartTime",e),p()}else"resume"===e&&(x(),localStorage.removeItem("breakStartTime"));h()}catch(c){m(`Error recording ${e} time`),S.a.error(`Error recording ${e} time`)}},p=function(){r(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0);const e=setInterval((()=>{r((e=>e+1))}),1e3);o(e)},x=()=>{n&&(clearInterval(n),o(null)),r(0)};return Object(O.jsx)("div",{className:"App row gap-2",children:Object(O.jsx)("div",{style:{alignItems:"center"},className:"d-flex gap-2",children:a&&"break"===(null===a||void 0===a||null===(t=a.today)||void 0===t?void 0:t.status)?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("button",{className:"btn btn-primary d-flex align-items-center justify-content-center gap-2",onClick:()=>u("resume"),children:[Object(O.jsx)(Ie.b,{className:"my-auto fs-5"})," Break Over (",(e=>{const t=Math.floor(e/3600),a=Math.floor(e%3600/60),s=e%60;return`${String(t).padStart(2,"0")}:${String(a).padStart(2,"0")}:${String(s).padStart(2,"0")}`})(c),")"]})}):Object(O.jsxs)("button",{className:"btn btn-warning d-flex align-items-center justify-content-center gap-2",onClick:()=>u("break"),children:[Object(O.jsx)($e.a,{className:"my-auto fs-5"})," Take a Break"]})})})};const js=()=>{const[e,t]=Object(s.useState)(null),[a,l]=Object(s.useState)((new Date).getFullYear()),[c,r]=Object(s.useState)((new Date).getMonth()+1),[n,o]=Object(s.useState)(null),[i,j]=Object(s.useState)(!1),{userData:m}=Object(P.c)((e=>e.user)),h=null===m||void 0===m?void 0:m.Email,b=null===m||void 0===m?void 0:m._id,{darkMode:u}=g(),[p,v]=Object(s.useState)(1),[y]=Object(s.useState)(10);console.log(b);const f=()=>{j(!0)},N=()=>{j(!1)};Object(s.useEffect)((()=>{(async()=>{try{let e=(await d.a.get(`${E}/api/attendance/${b}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}})).data.filter((e=>e.employeeObjID&&e.employeeObjID.Email===h));t((()=>e.length>0?e[0]:null))}catch(e){console.error("Error fetching attendance data:",e)}})()}),[b,h]);const D=e=>{switch(e){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December";default:return""}},k=()=>{if(e&&e.years){const t=(new Date).getFullYear();return e.years.filter((e=>e.year<=t))}return[]},C=e=>{const t=e&&e.loginTime[0];if(t){const[e,a]=t.split(":").map(Number);if(e>9||9===e&&a>45)return Object(O.jsx)("span",{className:"border border-warning px-2 rounded-5",children:"Half Day"});if(e>9||9===e&&a>30)return Object(O.jsx)("span",{className:"border border-info px-2 rounded-5",children:"Late"})}return t?Object(O.jsx)("span",{className:"border border-success px-2 rounded-5",children:"Present"}):Object(O.jsx)("span",{className:"border border-danger px-2 rounded-5",children:"Absent"})};function w(e){return e?Math.floor(e/60)+" Hrs "+e%60+" Min":"0 Hrs 0 Min"}const A=e=>String(e).padStart(2,"0"),S=e=>{switch(e){case 0:default:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday"}},M=p*y,L=M-y,T=k().slice(L,M),F=[];for(let s=1;s<=Math.ceil(k().length/y);s++)F.push(s);return Object(O.jsxs)("div",{style:{maxHeight:"85vh",overflow:"auto"},className:"d-flex flex-column px-2 gap-3",children:[Object(O.jsx)("div",{className:"d-flex gap-3 justify-content-between"}),Object(O.jsxs)("div",{className:"d-flex align-items-start align-items-md-center gap-2  justify-content-between flex-column flex-md-row",children:[Object(O.jsx)(ma,{title:"Attendance List",message:"You can check yous attendance here."}),e&&Object(O.jsxs)("div",{className:"d-flex gap-3",children:[Object(O.jsx)(ds,{}),Object(O.jsx)("div",{children:Object(O.jsx)("select",{className:"form-select my-0 rounded-0 shadow",id:"year",value:a,onChange:e=>l(parseInt(e.target.value)),children:k().map((e=>Object(O.jsx)("option",{value:e.year,children:e.year},e.year)))})}),Object(O.jsx)("div",{children:Object(O.jsx)("select",{className:"form-select my-0 rounded-0 shadow",id:"month",value:c,onChange:e=>r(parseInt(e.target.value)),children:(I=a,I===(new Date).getFullYear()?Array.from({length:(new Date).getMonth()+1},((e,t)=>t+1)):Array.from({length:12},((e,t)=>t+1))).map((e=>Object(O.jsx)("option",{value:e,children:D(e)},e)))})})]})]}),e&&Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{style:{fontWeight:"normal",position:"relative"},className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{style:{position:"sticky",zIndex:"10",top:"-2px"},children:[Object(O.jsxs)("th",{style:ut(u),children:[Object(O.jsx)(x.z,{})," Date | Day"]}),Object(O.jsxs)("th",{style:ut(u),children:[Object(O.jsx)(R.c,{})," Mark"]}),Object(O.jsxs)("th",{style:ut(u),children:[Object(O.jsx)(Pe.a,{})," Login Time"]}),Object(O.jsxs)("th",{style:ut(u),children:[Object(O.jsx)(Pe.b,{})," Logout Time"]}),Object(O.jsxs)("th",{style:ut(u),children:[" ",Object(O.jsx)(Ae.d,{})," Logs"]}),Object(O.jsxs)("th",{style:ut(u),children:[Object(O.jsx)(Te.f,{})," Gross Login"]}),Object(O.jsxs)("th",{style:ut(u),children:[Object(O.jsx)(Ae.d,{})," Breaks"]}),Object(O.jsxs)("th",{style:ut(u),children:[" ",Object(O.jsx)(Te.j,{})," Total Break"]}),Object(O.jsxs)("th",{style:ut(u),children:[Object(O.jsx)(Pe.a,{})," Net Login"]}),Object(O.jsxs)("th",{style:ut(u),children:[Object(O.jsx)(Ot.c,{})," Status"]})]})}),Object(O.jsx)("tbody",{children:T.map((e=>e.months.filter((e=>e.month===c)).map((e=>e.dates.sort(((e,t)=>e.date-t.date)).map((e=>Object(O.jsxs)("tr",{id:`attendance-row-${e.date}`,onMouseEnter:()=>(e=>{o(e)})(e.date),onMouseLeave:()=>{o(null)},children:[Object(O.jsx)("td",{style:pt(u),className:"text-center",children:Object(O.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[Object(O.jsx)("span",{style:{color:u?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)",fontWeight:"normal"},className:"btn rounded-0",children:A(e.date)}),Object(O.jsx)("span",{style:{color:u?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)",fontWeight:"normal"},className:"btn  rounded-0",children:S(e.day)})]})}),Object(O.jsx)("td",{style:pt(u),children:C(e)}),Object(O.jsx)("td",{style:pt(u),className:"text-uppercase",children:e.loginTime[0]?e.loginTime[0]:Object(O.jsx)(O.Fragment,{children:"--"})}),Object(O.jsx)("td",{style:pt(u),className:"text-uppercase",children:e.logoutTime[e.logoutTime.length-1]?e.logoutTime[e.logoutTime.length-1]:Object(O.jsx)(O.Fragment,{children:"--"})}),Object(O.jsx)("td",{style:pt(u),className:"text-uppercase",children:e.loginTime.length}),Object(O.jsx)("td",{style:pt(u),children:w(e.TotalLogin)}),Object(O.jsx)("td",{style:pt(u),className:"position-relative",children:Object(O.jsx)("div",{style:{display:"flex ",justifyContent:"start",alignItems:"center"},className:"fs-6 gap-2 ",onMouseEnter:f,onMouseLeave:N,children:e.breakTime.length})}),Object(O.jsx)("td",{style:pt(u),children:w(e.totalBrake)}),Object(O.jsx)("td",{style:pt(u),children:w(e.totalLogAfterBreak)}),Object(O.jsx)("td",{style:pt(u),children:e.status})]},e.date)))))))})]})}),Object(O.jsx)(vt,{currentPage:p,pageNumbers:F,handlePaginationPrev:()=>{v((e=>e-1))},handlePaginationNext:()=>{v((e=>e+1))},setCurrentPage:v,filteredDataLength:k.length,itemsPerPage:y})]}),null===e&&Object(O.jsxs)("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"1rem"},children:[Object(O.jsx)("div",{className:"fs-2 fw-bolder",children:Object(O.jsx)(ns.a,{className:"spinner-border text-info"})}),Object(O.jsx)("p",{style:{color:u?"black":"white"},className:"text-muted",children:"User not selected. To view data, please select a user."})]})]});var I};var ms=Object(s.memo)(js),hs=a(650),bs=(a(513),a(514),a.p+"static/media/holidayImage.30b50162.svg");var us=e=>{let{filteredHolidays:t,searchTerm:a,setSearchTerm:s,filterYear:l,setFilterYear:c,filterMonth:r,setFilterMonth:n}=e;const{darkMode:o}=g(),i=e=>String(e).padStart(2,"0");return Object(O.jsxs)("div",{className:"mb-5 pb-5",children:[Object(O.jsxs)("div",{style:{position:"sticky",top:"0"},children:[Object(O.jsxs)("h6",{style:{color:o?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"fw-bold my-auto",children:["Holiday List"," ",Object(O.jsxs)("span",{className:"text-warning",children:[" ( ",t.length," ) "]})]}),Object(O.jsxs)("div",{style:{color:o?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"d-flex gap-2 py-3 align-items-center justify-content-between",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{htmlFor:"",children:"Search"}),Object(O.jsx)("input",{type:"text",className:"form-control rounded-0",placeholder:"Search holiday...",value:a,onChange:e=>s(e.target.value)})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{htmlFor:"",children:"Month"}),Object(O.jsx)("input",{type:"number",className:"form-control rounded-0",placeholder:"Month",min:1,max:12,value:r,onChange:e=>n(e.target.value)})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{htmlFor:"",children:"Year"}),Object(O.jsx)("input",{type:"number",className:"form-control rounded-0",placeholder:"Year",value:l,min:1900,max:2100,onChange:e=>c(e.target.value)})]})]})]})]}),Object(O.jsx)("div",{className:"border border-1 ",style:{maxHeight:"62vh"},children:t.length>0?Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",style:{fontSize:".9rem"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:o?"var(--primaryDashMenuColor)":"var(--primaryDashColorDark)",color:o?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)",border:"none"},className:"py-2",children:"Date"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:o?"var(--primaryDashMenuColor)":"var(--primaryDashColorDark)",color:o?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)",border:"none"},className:"py-2",children:"Name"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:o?"var(--primaryDashMenuColor)":"var(--primaryDashColorDark)",color:o?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)",border:"none"},className:"py-2",children:"Type"})]})}),Object(O.jsx)("tbody",{children:t.map(((e,t)=>Object(O.jsxs)("tr",{children:[Object(O.jsxs)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:o?"var( --secondaryDashMenuColor)":"var(----secondaryDashMenuColor)",color:o?"var(----secondaryDashMenuColor)":"var( --primaryDashMenuColor)",border:"none"},children:[i(e.holidayDate),"/",i(e.holidayMonth),"/",e.holidayYear]}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:o?"var( --secondaryDashMenuColor)":"var(----secondaryDashMenuColor)",color:o?"var(----secondaryDashMenuColor)":"var( --primaryDashMenuColor)",border:"none"},children:e.holidayName}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:o?"var( --secondaryDashMenuColor)":"var(----secondaryDashMenuColor)",color:o?"var(----secondaryDashMenuColor)":"var( --primaryDashMenuColor)",border:"none"},children:e.holidayType})]},t)))})]})}):Object(O.jsxs)("div",{style:{verticalAlign:"middle",whiteSpace:"pre",color:o?"var(--secondaryDashMenuColor)":"var(--primaryDashMenuColor)",border:"none"},className:"d-flex gap-2 py-5 flex-column justify-content-center align-items-center",children:[Object(O.jsx)("img",{style:{height:"100%",width:"50%"},src:bs,alt:""}),Object(O.jsxs)("p",{style:{color:o?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"p-0 m-0",children:["No holiday available this month of ",(d=r,d<1||d>12?"Invalid month":["January","February","March","April","May","June","July","August","September","October","November","December"][d-1])]})]})})]});var d};var ps=()=>{const[e,t]=Object(s.useState)(new Date),[a,l]=Object(s.useState)(""),[c,r]=Object(s.useState)("National Holiday"),[n,o]=Object(s.useState)([]),[i,j]=Object(s.useState)([]),[m,h]=Object(s.useState)(""),[b,u]=Object(s.useState)([]),[p,x]=Object(s.useState)(!1),v=(new Date).getFullYear(),y=(new Date).getMonth()+1,[f,N]=Object(s.useState)(v),[D,k]=Object(s.useState)(y),{darkMode:C}=g(),w=e=>e.toISOString().split("T")[0];Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get(`${E}/api/holidays`);if(200===e.status){const t=e.data;j(t),u(t.filter((e=>e.holidayYear===v&&e.holidayMonth===y)))}else console.error("Failed to fetch holiday data:",e.statusText)}catch(e){console.error("Error fetching holiday data:",e)}})()}),[v,y]),Object(s.useEffect)((()=>{A()}),[m,f,D]);const A=()=>{let e=[...i];f&&(e=e.filter((e=>e.holidayYear===parseInt(f)))),D&&(e=e.filter((e=>e.holidayMonth===parseInt(D)))),m&&(e=e.filter((e=>e.holidayName.toLowerCase().includes(m.toLowerCase())))),u(e)};return Object(O.jsxs)("div",{className:"container-fluid pt-3",children:[Object(O.jsx)("h6",{style:{color:C?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"fw-bold mb-3 my-auto",children:"Holiday Calendar"}),Object(O.jsxs)("div",{className:"row container-fluid row-gap-3 py-2 justify-content-between",children:[Object(O.jsxs)("div",{className:"col-12 col-lg-4",children:[Object(O.jsx)(hs.a,{className:"w-100 bg-white rounded-2 text-black shadow-sm",value:e,onChange:e=>t(new Date(e)),tileContent:e=>{let{date:t,view:a}=e;if("month"===a){const e=w(t),a=n.find((t=>t.date===e));if(a)return Object(O.jsxs)("div",{className:"holiday-marker",children:[Object(O.jsx)("span",{className:"squarepinch"}),a.type]})}}}),Object(O.jsx)("button",{type:"button",className:"btn btn-primary mt-3",onClick:()=>x(!0),children:"Add Holiday"})]}),Object(O.jsx)("div",{className:"col-12 col-lg-8",children:Object(O.jsx)(us,{filteredHolidays:b,searchTerm:m,setSearchTerm:h,filterYear:f,setFilterYear:N,filterMonth:D,setFilterMonth:k})})]}),Object(O.jsx)("div",{className:"modal fade "+(p?"show":""),style:{display:p?"block":"none"},tabIndex:"-1",role:"dialog",children:Object(O.jsx)("div",{className:"modal-dialog",role:"document",children:Object(O.jsxs)("div",{className:"modal-content",children:[Object(O.jsxs)("div",{className:"modal-header",children:[Object(O.jsx)("h5",{className:"modal-title",children:"Add Holiday"}),Object(O.jsx)("button",{type:"button",className:"close",onClick:()=>x(!1),children:Object(O.jsx)("span",{children:"\xd7"})})]}),Object(O.jsxs)("div",{className:"modal-body",children:[Object(O.jsxs)("div",{className:"mb-3",style:{position:"relative"},children:[Object(O.jsx)("input",{type:"date",className:"form-control",value:w(e),onChange:e=>t(new Date(e.target.value))}),Object(O.jsx)("div",{style:{height:"100%",width:"93%",position:"absolute",top:"0",left:"0"},children:" "})]}),Object(O.jsx)("div",{className:"mb-3",children:Object(O.jsx)("input",{type:"text",className:"form-control",placeholder:"Holiday Name",value:a,onChange:e=>l(e.target.value)})}),Object(O.jsx)("div",{className:"mb-3",children:Object(O.jsxs)("select",{className:"form-select",value:c,onChange:e=>r(e.target.value),children:[Object(O.jsx)("option",{value:"National Holiday",children:"National Holiday"}),Object(O.jsx)("option",{value:"Gazetted Holiday",children:"Gazetted Holiday"}),Object(O.jsx)("option",{value:"Restricted Holiday",children:"Restricted Holiday"}),Object(O.jsx)("option",{value:"Weekly Off",children:"Weekly Off"}),Object(O.jsx)("option",{value:"Others",children:"Others"})]})})]}),Object(O.jsxs)("div",{className:"modal-footer",children:[Object(O.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>x(!1),children:"Close"}),Object(O.jsx)("button",{type:"button",className:"btn btn-primary",onClick:async()=>{if(e&&a){const s=new Date(e),n={holidayDate:s.getDate(),holidayMonth:s.getMonth()+1,holidayYear:s.getFullYear(),holidayDay:s.getDay(),holidayName:a,holidayType:c};try{const e=await d.a.post(`${E}/api/Create-holiday`,n);if(201===e.status){const t=e.data;o((e=>[...e,t.newHoliday])),l(""),r("National Holiday"),x(!1),alert("Holiday Added Successfully")}else console.error("Failed to add holiday:",e.statusText)}catch(t){console.error("Error adding holiday:",t)}}},children:"Add Holiday"})]})]})})})]})},xs=a(109),Os=a(313),vs=a.n(Os);var gs=()=>{var e;const[t,a]=Object(s.useState)([]),[l,c]=Object(s.useState)([]),[r,n]=Object(s.useState)(""),[o,i]=Object(s.useState)(null),[j,m]=Object(s.useState)("asc"),[h,b]=Object(s.useState)(1),[u]=Object(s.useState)(10),{darkMode:p}=g(),[x,v]=Object(s.useState)([]),[y,f]=Object(s.useState)(!1);Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get(`${E}/api/todays-attendance`);a(e.data)}catch(e){console.error("Error fetching today's attendance data:",e)}})()}),[]),Object(s.useEffect)((()=>{d.a.get(`${E}/api/company`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{c(e.data[0])})).catch((e=>console.log(e)))}),[]),console.log(l);const N=l.CompanyName,D=l.Address,k=null===l||void 0===l||null===(e=l.city)||void 0===e?void 0:e.CityName,C=l.PostalCode,w=l.PanNo,A=l.GSTNo,S=l.CINNo,M=l.ContactNo,L=l.Email,T=new Date,F=T.getFullYear();let P=T.getMonth()+1,I=T.getDate();I<10&&(I="0"+I),P<10&&(P="0"+P);let R=T.getDay();const z=e=>{if(!e||!e.attendance)return"Absent";const t=e.attendance.loginTime&&e.attendance.loginTime[0];if("string"!==typeof t)return"Absent";const[a,s]=t.split(":").map(Number);return isNaN(a)||isNaN(s)?"Absent":a>9||9===a&&s>45?"Half Day":a>9||9===a&&s>30?"Late":t?"Present":"Absent"},q=e=>{n(e.target.value)},B=Object(s.useMemo)((()=>t.filter((e=>e.FirstName.toLowerCase().includes(r.toLowerCase()))).sort(((e,t)=>{if(o){const a=e[o],s=t[o];return"string"===typeof a?"asc"===j?a.localeCompare(s):s.localeCompare(a):"asc"===j?a-s:s-a}return 0}))),[t,r,o,j]);function _(e){return Math.floor(e/60)+" Hrs "+e%60+" Min"}const H=[{label:"Employee ID",value:"empID"},{label:"Employee Name",value:"employeeName"},{label:"Login Time (24Hrs)",value:"loginTime"},{label:"Logout Time (24Hrs)",value:"logoutTime"},{label:"Total Login Time",value:"totalLoginTime"},{label:"Log Count",value:"logCount"},{label:"Gross Login",value:"grossLogin"},{label:"Total Break",value:"totalBreak"},{label:"Net Login",value:"netLogin"},{label:"Status",value:"status"},{label:"Break Count",value:"breakCount"},{label:"Mark",value:"mark"}],U=()=>{f(!1)},W=h*u,G=W-u,Y=B.slice(G,W),V=[];for(let s=1;s<=Math.ceil(B.length/u);s++)V.push(s);return Object(O.jsxs)("div",{className:"container-fluid pb-5",children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between py-3",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("h5",{style:{color:p?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)"},className:" my-auto",children:"Today's Attendance"}),Object(O.jsx)("span",{className:"p-0 fs-6 d-flex ",children:Object(O.jsxs)("span",{style:{color:p?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"m-0 p-0 fs-6 text-center",children:[(Z=R,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][Z])," , ",Object(O.jsx)("span",{children:I})," - ",Object(O.jsx)("span",{children:P})," -",Object(O.jsx)("span",{children:F})]})})]}),Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"d-flex gap-2",children:[Object(O.jsx)("input",{value:r,onChange:q,type:"search",className:"form-control d-none d-sm-flex rounded-5",placeholder:"Search by employee name"}),Object(O.jsxs)("button",{className:"btn d-flex gap-2 align-items-center justify-content-center m-auto shadow-sm rounded-5",onClick:()=>{f(!0)},style:{whiteSpace:"pre",color:p?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:[Object(O.jsx)(xs.a,{className:"text-success fs-5"}),Object(O.jsx)("span",{className:"d-none d-md-flex text-success",children:"Export XLSX"})]})]})})]}),Object(O.jsx)("div",{className:"d-flex d-sm-none",children:Object(O.jsx)("input",{value:r,onChange:q,type:"search",className:"form-control mb-3 rounded-0",placeholder:"Search by employee name"})}),Object(O.jsx)("div",{children:Y.length>0?Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",style:{fontSize:".9rem"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{style:{position:"sticky",top:"0",zIndex:"1"},children:[Object(O.jsxs)("th",{onClick:()=>{return i(e="FirstName"),void m((t=>o===e&&"asc"===t?"desc":"asc"));var e},style:ut(p),children:[Object(O.jsx)(na.a,{})," Employee ",(J="FirstName",o===J?"asc"===j?"\u25b4":"\u25be":null)]}),Object(O.jsxs)("th",{style:ut(p),children:[" ",Object(O.jsx)(Pe.a,{})," Login Time"," "]}),Object(O.jsxs)("th",{style:ut(p),children:[" ","Logout Time ",Object(O.jsx)(Pe.b,{})," "]}),Object(O.jsxs)("th",{style:ut(p),children:[" ",Object(O.jsx)(na.b,{})," Log Count"," "]}),Object(O.jsxs)("th",{style:ut(p),children:[" ","Gross Login ",Object(O.jsx)(Pe.b,{})," "]}),Object(O.jsx)("th",{style:ut(p),children:" Total Break "}),Object(O.jsxs)("th",{style:ut(p),children:[" ",Object(O.jsx)(Ie.f,{})," Net Login"," "]}),Object(O.jsxs)("th",{style:ut(p),children:[" ","Status ",Object(O.jsx)(Pe.d,{})]}),Object(O.jsxs)("th",{style:ut(p),children:[" ",Object(O.jsx)($.h,{})," Mark"," "]}),Object(O.jsxs)("th",{style:ut(p),className:"text-center",children:[" ","Break Count"]}),Object(O.jsx)("th",{style:ut(p)})]})}),Object(O.jsx)("tbody",{children:Y.map((e=>{var t,a,s;const l=z(e);return Object(O.jsxs)("tr",{style:{position:"sticky",top:"0"},children:[Object(O.jsx)("td",{style:pt(p),children:Object(O.jsxs)("div",{className:"d-flex w-100 align-items-center gap-2",children:[Object(O.jsx)("div",{style:{height:"35px",width:"35px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#ccc",borderRadius:"50%",fontSize:"14px",fontWeight:"bold",color:"#fff"},children:null!==e&&void 0!==e&&null!==(t=e.profile)&&void 0!==t&&t.image_url?Object(O.jsx)("img",{style:{height:"100%",width:"100%",objectFit:"cover",overflow:"hidden",borderRadius:"50%"},src:e.profile.image_url,alt:`${null===e||void 0===e?void 0:e.FirstName} ${null===e||void 0===e?void 0:e.LastName}`}):`${null===e||void 0===e||null===(a=e.FirstName)||void 0===a?void 0:a[0]}${null===e||void 0===e||null===(s=e.LastName)||void 0===s?void 0:s[0]}`}),Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{style:{fontSize:".75rem"},className:"p-0 m-0 w-100",children:e.empID}),Object(O.jsxs)("p",{style:{fontSize:".80rem"},className:"p-0 m-0 w-100 text-uppercase",children:[e.FirstName," ",e.LastName]})]})]})}),Object(O.jsx)("td",{style:pt(p),children:e.attendance?e.attendance.loginTime[0]:"--"}),Object(O.jsx)("td",{style:pt(p),children:e.attendance?e.attendance.logoutTime[e.attendance.logoutTime.length-1]:"--"}),Object(O.jsx)("td",{className:"text-center",style:pt(p),children:e.attendance?e.attendance.loginTime.length:"--"}),Object(O.jsx)("td",{style:pt(p),children:e.attendance?_(e.attendance.TotalLogin):"--"}),Object(O.jsx)("td",{style:pt(p),children:e.attendance?_(e.attendance.totalBrake):"--"}),Object(O.jsx)("td",{style:pt(p),children:e.attendance?_(e.attendance.totalLogAfterBreak):"--"}),Object(O.jsx)("td",{style:pt(p),children:e.attendance?e.attendance.status:"--"}),Object(O.jsx)("td",{style:pt(p),children:Object(O.jsx)("span",{style:{fontSize:".8rem"},className:"py-0 px-3 rounded-5 "+("Present"===l?"border border-success":"Late"===l?"border border-info":"Half Day"===l?"border border-warning":"border border-danger"),children:l})}),Object(O.jsx)("td",{className:"text-center",style:pt(p),children:e.attendance?e.attendance.breakTime.length:"--"})]},e.userId)}))})]})}),Object(O.jsx)(vt,{currentPage:h,pageNumbers:V,handlePaginationPrev:()=>{b((e=>e-1))},handlePaginationNext:()=>{b((e=>e+1))},setCurrentPage:b,filteredDataLength:B.length,itemsPerPage:u})]}):Object(O.jsxs)("div",{style:{minHeight:"70vh",maxHeight:"70vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"2rem"},children:[Object(O.jsx)("img",{style:{height:"auto",width:"20%"},src:ja,alt:"img"}),Object(O.jsx)("p",{className:"text-center w-75 mx-auto",style:{color:p?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)"},children:"Sorry records not found or attendance not marked yet."})]})}),Object(O.jsxs)(vs.a,{isOpen:y,onRequestClose:U,contentLabel:"Export Fields",style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"400px",height:"auto",padding:"13px",borderRadius:".5rem",color:p?"black":"White",background:p?"White":"black"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"}},children:[Object(O.jsx)("h5",{children:"Select Fields to Export"}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{children:Object(O.jsxs)("label",{className:"d-flex gap-3 align-items-center",children:[Object(O.jsx)("input",{type:"checkbox",style:{height:"1.4rem",width:"1.4rem"},checked:x.length===H.length,onChange:()=>{if(x.length===H.length)v([]);else{const e=H.map((e=>e.value));v(e)}}}),"Select All"]})}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"row",children:H.map((e=>Object(O.jsx)("div",{className:"col-12 col-md-6",children:Object(O.jsxs)("label",{className:"d-flex gap-3 align-items-center",children:[Object(O.jsx)("input",{type:"checkbox",style:{height:"1.4rem",width:"1.4rem"},value:e.value,checked:x.includes(e.value),onChange:()=>(e=>{v((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))})(e.value)}),Object(O.jsx)("span",{children:e.label})]})},e.value)))}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-3 ",children:[Object(O.jsx)("button",{onClick:()=>{const e=t.map((e=>{const t={};return x.forEach((a=>{"empID"===a&&(t["Employee ID"]=e.empID.toUpperCase()),"employeeName"===a&&(t["Employee Name"]=e.FirstName.toUpperCase()+" "+e.LastName.toUpperCase()),"loginTime"===a&&(t["Login Time (24Hrs)"]=e.attendance?e.attendance.loginTime[0]:"--"),"logoutTime"===a&&(t["Logout Time (24Hrs)"]=e.attendance?e.attendance.logoutTime[e.attendance.logoutTime.length-1]:"--"),"totalLoginTime"===a&&(t["Total Login Time"]=e.attendance?_(e.attendance.totalLogAfterBreak).toUpperCase():"--"),"logCount"===a&&(t["Log Count"]=e.logCount||"--"),"grossLogin"===a&&(t["Gross Login"]=e.grossLogin||"--"),"totalBreak"===a&&(t["Total Break"]=e.totalBreak||"--"),"netLogin"===a&&(t["Net Login"]=e.netLogin||"--"),"status"===a&&(t.Status=e.status||"--"),"breakCount"===a&&(t["Break Count"]=e.breakCount||"--"),"mark"===a&&(t.Mark=z(e).toUpperCase())})),t})),a=la.a.json_to_sheet(e);la.a.sheet_add_aoa(a,[[`${N}`,"","","","","","","","","","",""],[`Address : ${D}`,`${k}`,`${C}`,"","","","","","","","",""],[`CIN NO : ${S}`,"",`GST NO : ${A}`,"",`PAN NO : ${w}`,"","","","","","",""],[`Email : ${L}`,"",`Contact : ${M}`,"","","","","","","","",""],["","","","","","","","","","","",""]],{origin:"A1"}),la.a.sheet_add_json(a,e,{header:[],skipHeader:!1,origin:"A6"});const s=`Exported on ${(new Date).toLocaleString()}`;la.a.sheet_add_aoa(a,[[s]],{origin:"A"+(e.length+8)});const l=la.a.book_new();la.a.book_append_sheet(l,a,"Attendance"),la.b(l,"attendance.xlsx"),U()},className:"btn btn-primary rounded-3 mt-2",children:"Export"}),Object(O.jsx)("button",{onClick:U,className:"btn btn-danger rounded-3 mt-2 ",children:"Cancel"})]})]})]});var J,Z};a(522);var ys=()=>{const[e,t]=Object(s.useState)([]),{userData:a}=Object(P.c)((e=>e.user)),l=null===a||void 0===a?void 0:a._id,{darkMode:c}=g();Object(s.useEffect)((()=>{d.a.post(`${E}/api/getLeave`,{id:l}).then((e=>{const a=e.data.map((e=>{const t=Object.keys(e)[0],a=Object.keys(e)[1];return{leaveType:t.replace(/([A-Z])/g," $1").trim(),balance:e[t],totalBalance:e[a]}}));t(a)})).catch((e=>{console.error(e)}))}),[]);const r=(e,t)=>{if(0===t)return 0;const a=e/t*100;return Math.round(a)||0};return Object(O.jsxs)("div",{className:"container-fluid py-",children:[Object(O.jsx)(ma,{title:"Leaves Balance",message:"You can see all new leave balances here."}),Object(O.jsx)("div",{className:"d-flex flex-wrap justify-content-between gap-2 my-2",children:e.length>0?Object(O.jsxs)("div",{className:"row  w-100",children:[" ",e.map((e=>{let{leaveType:t,balance:a,totalBalance:s}=e;return Object(O.jsx)("div",{className:"card-body col-6 col-md-3 col-lg-2 rounded-2 p-1",children:Object(O.jsxs)("div",{style:{color:c?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)",background:c?"var(--primaryDashMenuColor)":"var(--primaryDashColorDark)"},className:"p-3",children:[Object(O.jsx)("div",{className:"d-flex justify-content-between",children:Object(O.jsx)("p",{className:"",children:t.charAt(0).toUpperCase()+t.slice(1)})}),Object(O.jsxs)("h6",{style:{fontWeight:"400"},className:"card-text text-center mb-4",children:[s-a," Out of / ",s]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("p",{className:"p-0 m-0 text-end",style:{fontSize:".8rem"},children:[r(s-a,s),"% of 100%"]}),Object(O.jsx)("div",{style:{height:"6px"},className:"progress",children:Object(O.jsx)("div",{className:"progress-bar bg-primary",role:"progressbar",style:{width:`${r(s-a,s)}%`},"aria-valuenow":25,"aria-valuemin":0,"aria-valuemax":100})})]})]})},t)}))]}):Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("h4",{className:"fw-bold text-muted my-auto pl-4",children:"No Leave Record Found"})})})]})};const fs=mt.a`
  display: block;
  margin: 0 auto;
  margin-top: 45px;
  border-color: red;
`;var Ns=e=>{const[t,a]=Object(s.useState)(!0),[l,c]=Object(s.useState)([]),[r,n]=Object(s.useState)(1),[o]=Object(s.useState)(10),{userData:i}=Object(P.c)((e=>e.user)),{darkMode:j}=g(),b=()=>{d.a.get(`${E}/api/leave-application-man/`+(null===i||void 0===i?void 0:i._id),{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;a(!1),console.log(t);const s=t.leaveApplication.map((e=>({data:e,Leavetype:e.Leavetype,FromDate:e.FromDate.slice(0,10),ToDate:""===e.ToDate||null===e.ToDate?"":e.ToDate.slice(0,10),Reasonforleave:e.Reasonforleave,Status:e.Status,updatedBy:e.updatedBy,reasonOfRejection:e.reasonOfRejection})));console.log(s),c(s)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{b()}),[]);const u=r*o,p=u-o,x=l.slice(p,u),v=[];for(let s=1;s<=Math.ceil(l.length/o);s++)v.push(s);return Object(O.jsxs)("div",{style:{maxHeight:"82vh",overflow:"auto"},className:"container-fluid py-2 pb-5",children:[Object(O.jsx)(ys,{}),Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between py-2",children:[Object(O.jsx)(ma,{title:"Your Leave Application",numbers:l.length,message:"You can view your applied leaves here."}),Object(O.jsxs)("div",{className:"my-auto",children:[Object(O.jsx)("h5",{style:{color:j?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)",fontWeight:"600"},className:" m-0"}),Object(O.jsx)("p",{style:{color:j?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:" m-0"})]}),Object(O.jsxs)(xt.a,{variant:"primary",id:"add-button",onClick:()=>e.onAddLeaveApplicationEmp(b),children:[Object(O.jsx)(m.a,{icon:h.c,id:"plus-icon"}),"Apply Leave"]})]}),t&&Object(O.jsx)("div",{id:"loading-bar",children:Object(O.jsx)(jt.a,{css:fs,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}),Object(O.jsx)("div",{id:"clear-both"}),Object(O.jsx)("div",{children:l.length>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)(Ct.a,{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:ut(j),children:"Leave Type"}),Object(O.jsx)("th",{style:ut(j),children:"Start Date"}),Object(O.jsx)("th",{style:ut(j),children:"End Date"}),Object(O.jsx)("th",{style:ut(j),children:"Remarks"}),Object(O.jsx)("th",{style:ut(j),children:"Status"}),Object(O.jsx)("th",{style:ut(j),children:"Update By"}),Object(O.jsx)("th",{className:"text-end",style:ut(j),children:"Reason for Rejection"})]})}),Object(O.jsx)("tbody",{children:x.map(((e,t)=>{return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:pt(j),children:e.Leavetype}),Object(O.jsx)("td",{style:pt(j),children:e.FromDate}),Object(O.jsx)("td",{style:pt(j),children:e.ToDate}),Object(O.jsx)("td",{style:pt(j),children:e.Reasonforleave}),Object(O.jsx)("td",{style:pt(j),children:(a=e.Status,console.log(3===a),"1"===a?"Pending":"2"===a?"Approved":"3"===a?"Rejected":"Unknown Status")}),Object(O.jsx)("td",{style:pt(j),children:e.updatedBy?e.updatedBy:Object(O.jsx)("span",{className:"border border-danger rounded-5 px-2",style:{opacity:"50%",fontSize:".9rem"},children:"Not Updated"})}),Object(O.jsx)("td",{className:"text-end",style:pt(j),children:e.reasonOfRejection?e.reasonOfRejection:Object(O.jsx)("span",{className:"border border-danger rounded-5 px-2",style:{opacity:"50%",fontSize:".9rem"},children:"Not Updated"})})]},t);var a}))})]})}),Object(O.jsx)(vt,{currentPage:r,pageNumbers:v,handlePaginationPrev:()=>{n((e=>e-1))},handlePaginationNext:()=>{n((e=>e+1))},setCurrentPage:n,filteredDataLength:l.length,itemsPerPage:o})]}):Object(O.jsxs)("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"2rem"},children:[Object(O.jsx)("img",{style:{height:"auto",width:"25%"},src:j?Qa:Xa,alt:"img"}),Object(O.jsx)("p",{style:{color:j?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)"},children:"No Leave requests found."})]})})]})]})};a(523);var Ds=e=>{const{userData:t}=Object(P.c)((e=>e.user)),a=null===t||void 0===t?void 0:t._id,[l,c]=Object(s.useState)(null),[r,n]=Object(s.useState)([]),[i,j]=Object(s.useState)({startDate:"",endDate:"",reason:""}),[m,h]=Object(s.useState)(""),[b,u]=Object(s.useState)([]),[p,x]=Object(s.useState)(""),[v,y]=Object(s.useState)(""),[f,N]=Object(s.useState)(""),[D,k]=Object(s.useState)([]),C=null===t||void 0===t?void 0:t.Email,w=Object(o.n)(),{darkMode:A}=g(),S=w.pathname.split("/")[1];Object(s.useEffect)((()=>{d.a.get(`${E}/api/particularEmployee/${a}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{c(e.data)})).catch((e=>{console.error("Error loading employee data",e)})),d.a.post(`${E}/api/particularLeave`,{id:a}).then((e=>{n(e.data),console.log(e.data)})).catch((e=>{console.error("Error loading leave balance",e)})),d.a.post(`${E}/api/managersList`,{status:S,email:C}).then((e=>{k(e.data)})).catch((e=>{console.error("Error loading additional managers",e)}))}),[]);function M(e,t){const a=new Date(e),s=new Date(t);if(s<a)return void alert("Please select proper date");const l=(s.getTime()-a.getTime())/864e5;return Math.abs(l)}return Object(O.jsx)(O.Fragment,{children:l?Object(O.jsx)("div",{style:{color:A?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"container-fluid py2",children:0===r.length?Object(O.jsx)("h1",{children:"No leave found"}):Object(O.jsxs)("div",{children:[Object(O.jsx)(ma,{title:"Create Leave ",message:"You can create a new leave request here."}),Object(O.jsxs)("form",{className:"py-4 rounded row",onSubmit:t=>(t=>{if(t.preventDefault(),"unPaid Leave"===m){const a="Half Day"===p?.5:M(i.startDate,i.endDate);return void e.onLeaveApplicationEmpSubmit(t,a)}const a="Half Day"===p?.5:M(i.startDate,i.endDate);b<a?alert("Leave balance is low"):e.onLeaveApplicationEmpSubmit(t,a)})(t),children:[Object(O.jsxs)("div",{className:"mb-3 col-12",children:[Object(O.jsx)("label",{htmlFor:"leaveType",className:"form-label",children:"Select Leave Type"}),Object(O.jsxs)("select",{className:"form-select rounded-0",id:"leaveType",name:"leaveType",value:m,onChange:e=>{if("unPaid Leave"===e.target.value)return u(365),void h(e.target.value);u(r[0][e.target.value]),h(e.target.value)},required:!0,children:[Object(O.jsx)("option",{value:"",disabled:!0,selected:!0,children:"-- Select --"}),Object(O.jsx)("option",{value:"Sick Leave",children:"Sick Leave"}),Object(O.jsx)("option",{value:"Casual Leave",children:"Casual Leave"}),Object(O.jsx)("option",{value:"Paid Leave",children:"Paid Leave"}),Object(O.jsx)("option",{value:"unPaid Leave",children:"unPaid Leave"}),"male"===l.Gender?Object(O.jsx)("option",{value:"Paternity Leave",children:"Paternity Leave"}):Object(O.jsx)("option",{value:"Maternity Leave",children:"Maternity Leave"})]})]}),Object(O.jsxs)("div",{className:"mb-3 col-12",children:[Object(O.jsxs)("label",{htmlFor:"leaveCount",className:"form-label",children:["Available ",m]}),Object(O.jsx)("input",{className:"form-select rounded-0",id:"leaveCount",name:"leaveCount",value:b,readOnly:!0,placeholder:"Please select a leave type"})]}),b>0&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"mb-3 col-12",children:[Object(O.jsx)("label",{htmlFor:"leaveDuration",className:"form-label",children:"Leave Duration"}),Object(O.jsxs)("select",{className:"form-select rounded-0",id:"leaveDuration",name:"leaveDuration",value:p,onChange:e=>{x(e.target.value),"Full Day"===e.target.value?j((e=>({...e,endDate:i.startDate}))):j((e=>({...e,endDate:""})))},required:!0,children:[Object(O.jsx)("option",{value:"",disabled:!0,selected:!0,children:"-- Select --"}),Object(O.jsx)("option",{value:"Full Day",children:"Full Day"}),Object(O.jsx)("option",{value:"Half Day",children:"Half Day"})]})]}),"Half Day"===p&&Object(O.jsxs)("div",{className:"mb-3 col-12",children:[Object(O.jsx)("label",{htmlFor:"halfDayType",className:"form-label",children:"Select Half"}),Object(O.jsxs)("select",{className:"form-select rounded-0",id:"halfDayType",name:"halfDayType",value:v,onChange:e=>{y(e.target.value)},required:!0,children:[Object(O.jsx)("option",{value:"",disabled:!0,selected:!0,children:"-- Select --"}),Object(O.jsx)("option",{value:"First Half",children:"First Half"}),Object(O.jsx)("option",{value:"Second Half",children:"Second Half"})]})]})]}),Object(O.jsxs)("div",{className:"mb-3 col-6",children:[Object(O.jsx)("label",{htmlFor:"startDate",className:"form-label",children:"Start Date:"}),Object(O.jsx)("input",{type:"date",className:"form-control rounded-0",id:"startDate",name:"startDate",value:i.startDate,onChange:e=>j((t=>({...t,startDate:e.target.value}))),required:!0})]}),Object(O.jsxs)("div",{className:"mb-3 col-6",children:[Object(O.jsx)("label",{htmlFor:"endDate",className:"form-label",children:"End Date:"}),Object(O.jsx)("input",{type:"date",className:"form-control rounded-0",id:"endDate",name:"endDate",value:i.endDate,onChange:e=>{if("Half Day"===p)return;if("unPaid Leave"===m)return void j((t=>({...t,endDate:e.target.value})));let t=M(i.startDate,e.target.value);b<t+1?alert("Leave balance is low"):j((t=>({...t,endDate:e.target.value})))},disabled:"Half Day"===p,required:"Full Day"===p})]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"manager",className:"form-label",children:"Reporting Manager:"}),Object(O.jsx)("input",{className:"form-control rounded-0",id:"manager",name:"manager",value:l.reportManager,disabled:!0,placeholder:l.reportManager})]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"hr",className:"form-label",children:"Reporting HR:"}),Object(O.jsx)("input",{className:"form-control rounded-0",id:"hr",name:"hr",value:l.reportHr,disabled:!0,placeholder:l.reportHr})]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"additionalManager",className:"form-label",children:"Additional Manager:"}),Object(O.jsxs)("select",{className:"form-select rounded-0",id:"additionalManager",name:"additionalManager",value:f,onChange:e=>N(e.target.value),children:[Object(O.jsx)("option",{value:"",disabled:!0,selected:!0,children:"-- Select --"}),D.map((e=>Object(O.jsx)("option",{value:e.Email,children:e.Email},e.Email)))]})]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"reason",className:"form-label",children:"Reason:"}),Object(O.jsx)("textarea",{className:"form-control rounded-0",id:"reason",name:"reason",value:i.reason,onChange:e=>{const{name:t,value:a}=e.target;j((e=>({...e,[t]:a})))},required:!0,placeholder:"Please mention the reason for leave"})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[Object(O.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"}),Object(O.jsx)("button",{type:"reset",className:"btn btn-danger",onClick:e.onFormClose,children:"Cancel"})]})]})]})}):Object(O.jsx)(O.Fragment,{})})};var ks=e=>{const[t,a]=Object(s.useState)(e.editData.FromDate.slice(0,10)),[l,c]=Object(s.useState)(e.editData.ToDate.slice(0,10)),[r,n]=Object(s.useState)(e.editData.Reasonforleave);return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{id:"role-form-title",children:"Edit LeaveApplicationEmp Details"}),Object(O.jsx)("div",{id:"role-form-outer-div",children:Object(O.jsxs)(M.a,{id:"form",onSubmit:t=>e.onLeaveApplicationEmpEditUpdate(e.editData,t),children:[Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"Leave Type"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsxs)(M.a.Control,{as:"select",required:!0,children:[Object(O.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),Object(O.jsx)("option",{value:"Sick Leave",selected:"Sick Leave"===e.editData.Leavetype,children:"Sick Leave"}),Object(O.jsx)("option",{value:"Casual Leave",selected:"Casual Leave"===e.editData.Leavetype,children:"Casual Leave"}),Object(O.jsx)("option",{value:"Paid Leave",selected:"Paid Leave"===e.editData.Leavetype,children:"Paid Leave"})]})})]}),Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"FromDate"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"date",required:!0,value:t,onChange:e=>(e=>{a(e.target.value)})(e)})})]}),Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"ToDate"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"date",required:!0,value:l,onChange:e=>(e=>{c(e.target.value)})(e)})})]}),Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"Reason for leave"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"Text",placeholder:"Reason for leave",required:!0,value:r,onChange:e=>(e=>{n(e.target.value)})(e)})})]}),Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"Leave Status"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{as:"select",required:!0,children:Object(O.jsx)("option",{value:"1",selected:!0,disabled:!0,children:"Pending"})})})]}),Object(O.jsx)(M.a.Group,{as:pa.a,id:"form-submit-button",children:Object(O.jsx)(xa.a,{sm:{span:10,offset:2},children:Object(O.jsx)(xt.a,{type:"submit",children:"Update"})})}),Object(O.jsx)(M.a.Group,{as:pa.a,id:"form-cancel-button",children:Object(O.jsx)(xa.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(O.jsx)(xt.a,{type:"reset",onClick:e.onFormEditClose,children:"cancel"})})})]})})]})};var Cs=e=>{const[t,a]=Object(s.useState)(!0),[c,r]=Object(s.useState)(!1),[n,o]=Object(s.useState)(null),[i,j]=Object(s.useState)({}),[m,h]=Object(s.useState)(!1),{userData:u}=Object(P.c)((e=>e.user)),p=null===u||void 0===u?void 0:u._id,x=`${null===u||void 0===u?void 0:u.FirstName} ${null===u||void 0===u?void 0:u.LastName}`,{socket:v}=Object(s.useContext)(b);Object(s.useEffect)((()=>{d.a.get(`${E}/api/particularEmployee/${p}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{o(e.data)})).catch((e=>{}))}),[]);return Object(O.jsx)(l.a.Fragment,{children:t?c?Object(O.jsx)(ks,{onLeaveApplicationEmpEditUpdate:(e,t)=>{t.preventDefault();let s={Leavetype:t.target[0].value,FromDate:t.target[1].value,ToDate:t.target[2].value,Status:t.target[3].value,managerEmail:t.target[4].value,hrEmail:t.target[5].value,Reasonforleave:t.target[6].value};d.a.put(`${E}/api/leave-application-emp/`+(null===u||void 0===u?void 0:u._id),s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(!1),a(!0)})).catch((e=>{})),r(!1)},onFormEditClose:()=>{r(!1)},editData:i}):Object(O.jsx)(Ns,{onAddLeaveApplicationEmp:e=>{e(),a(!1)},onEditLeaveApplicationEmp:e=>{r(!0),j(e)},data:e.data,leaveRequestDone:m}):Object(O.jsx)(Ds,{onLeaveApplicationEmpSubmit:(e,t)=>{e.preventDefault(),a(!0);let s={Leavetype:e.target[0].value,leaveDuration:e.target[2].value,FromDate:"Full Day"===e.target[2].value?e.target[3].value:e.target[4].value,ToDate:"Full Day"===e.target[2].value?e.target[4].value:e.target[5].value,Status:1,managerEmail:"Full Day"===e.target[2].value?e.target[5].value:e.target[6].value,hrEmail:"Full Day"===e.target[2].value?e.target[6].value:e.target[7].value,aditionalManager:"Full Day"===e.target[2].value?e.target[7].value:e.target[8].value,Reasonforleave:"Full Day"===e.target[2].value?e.target[8].value:e.target[9].value,totalLeaveRequired:t};console.log(s),d.a.post(`${E}/api/leave-application-man/`+(null===u||void 0===u?void 0:u._id),s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(!1),a(!0),h(!m);const t=Object(as.a)();if(n.profile){const e={taskId:t,managerEmail:s.managerEmail,hrEmail:s.hrEmail,aditionalManager:s.aditionalManager,message:"Leave request",messageBy:x,profile:n.profile.image_url,status:"unseen",path:"leaveApplication"};v.emit("leaveNotification",e)}else{const e={taskId:t,managerEmail:s.managerEmail,hrEmail:s.hrEmail,aditionalManager:s.aditionalManager,message:"Leave request",messageBy:x,profile:null,status:"unseen",path:"leaveApplication"};v.emit("leaveNotification",e)}})).catch((e=>{}))},onFormClose:()=>{a(!0)},onGenderChange:()=>{}})})};var ws=e=>{const t=Object(o.n)().pathname.split("/")[1],{userData:a}=Object(P.c)((e=>e.user)),[l,c]=Object(s.useState)([]),[r,n]=Object(s.useState)(!0),[i,j]=Object(s.useState)(null),[m,h]=Object(s.useState)(""),[b,u]=Object(s.useState)("asc"),[p,x]=Object(s.useState)([]),[v,y]=Object(s.useState)([]),{darkMode:f}=g(),[D,k]=Object(s.useState)(1),[C]=Object(s.useState)(10),w=null===a||void 0===a?void 0:a.Email,A=e=>{if(!e)return;const t=e.split("-");return`${t[2]}-${t[1]}-${t[0]}`},S=()=>{d.a.post(`${E}/api/leave-application-hr/`,"hr"===t?{hr:w}:{manager:w},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;c(t),n(!1);const a=t.map((e=>{var t,a,s;return{data:e,empID:null===e||void 0===e?void 0:e.empID,FirstName:null===e||void 0===e?void 0:e.FirstName,LastName:null===e||void 0===e?void 0:e.LastName,Name:(null===e||void 0===e?void 0:e.FirstName)+" "+(null===e||void 0===e?void 0:e.LastName),Leavetype:null===e||void 0===e?void 0:e.Leavetype,FromDate:A(null===(t=e.FromDate)||void 0===t?void 0:t.slice(0,10)),ToDate:A(null===(a=e.ToDate)||void 0===a?void 0:a.slice(0,10)),Days:L(null===e||void 0===e?void 0:e.FromDate,null===e||void 0===e?void 0:e.ToDate),Reasonforleave:null===e||void 0===e?void 0:e.Reasonforleave,CreatedOn:A(null===e||void 0===e||null===(s=e.createdOn)||void 0===s?void 0:s.slice(0,10)),Status:T(null===e||void 0===e?void 0:e.Status),updatedBy:null===e||void 0===e?void 0:e.updatedBy,reasonOfRejection:null===e||void 0===e?void 0:e.reasonOfRejection}}));x(a.filter((e=>"Approved"===e.Status||2===e.Status))),y(a.filter((e=>"Approved"===e.Status||2===e.Status)))})).catch((e=>{}))};Object(s.useEffect)((()=>{S()}),[]),Object(s.useEffect)((()=>{M()}),[m]);const M=()=>{const e=p.filter((e=>e.Name.toLowerCase().includes(m.toLowerCase())));y(e)},L=(e,t)=>{const a=new Date(e),s=new Date(t),l=Math.abs(s-a);return Math.ceil(l/864e5)+1},T=e=>1==e?"Pending":2==e?"Approved":3==e?"Rejected":void 0,F=(v.filter((e=>"Approved"===e.Status)).length,D*C),I=F-C,R=v.slice(I,F),$=[];for(let s=1;s<=Math.ceil(v.length/C);s++)$.push(s);return Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsx)("div",{className:"d-flex flex-column justify-between m-0 mt-3",children:Object(O.jsxs)("div",{className:"d-flex justify-content-between aline-items-center",children:[Object(O.jsxs)("div",{className:"my-auto",children:[Object(O.jsxs)("h5",{style:{color:f?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"m-0 p-0 ",children:["Approved Leaves ( ",v.length," )"]}),Object(O.jsxs)("p",{style:{color:f?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"m-0 p-0 ",children:["You can see all approved leave requests here"," "]})]}),Object(O.jsxs)("div",{className:"d-flex gap-2 justify-content-between py-3",children:[Object(O.jsxs)("button",{className:"btn btn-danger rounded-0 py-0 shadow-sm d-flex justify-center  aline-center gap-2",onClick:()=>{if(window.confirm("Are you sure to download Leave record? ")){const e=297,t=210,a=new sa.default({orientation:"landscape",unit:"mm",format:[e,t]});a.setFontSize(18),a.text("Employee Leave Details",e/2,15,"center");const s=["Emp Id","Leave Type","Start Date","End Date","Days","Remarks","Status"],l=v.map((e=>[e.empID,e.Leavetype,e.FromDate,e.ToDate,e.Days,e.Reasonforleave,e.Status,""]));a.setFontSize(12),a.autoTable({head:[s],body:l,startY:25}),a.save("leaveApplication_data.pdf")}},children:[Object(O.jsx)(ct.j,{className:"fs-6"}),Object(O.jsx)("p",{className:"my-auto d-none d-md-flex fs-6",children:"PDF"})]}),Object(O.jsxs)("div",{className:"searchholder p-0 d-flex  position-relative",children:[Object(O.jsx)("input",{style:{height:"100%",width:"100%",paddingLeft:"15%"},className:"form-control border rounded-0",type:"text",placeholder:"Search by name",value:m,onChange:e=>h(e.target.value)}),Object(O.jsx)(N.e,{style:{position:"absolute",top:"30%",left:"5%"}})]})]})]})}),Object(O.jsx)("div",{id:"clear-both"}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{children:R.length>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{className:"shadow",children:[Object(O.jsx)("th",{style:ut(f),children:"Profile"}),Object(O.jsx)("th",{style:ut(f),children:"Employee Name"}),Object(O.jsx)("th",{style:ut(f),children:"Emp ID"}),Object(O.jsx)("th",{style:ut(f),children:"Leave Type"}),Object(O.jsx)("th",{style:ut(f),children:"Start Date"}),Object(O.jsx)("th",{style:ut(f),children:"End Date"}),Object(O.jsx)("th",{style:ut(f),children:"CreatedOn"}),Object(O.jsx)("th",{style:ut(f),children:"Days"}),Object(O.jsx)("th",{style:ut(f),children:"Status"}),Object(O.jsx)("th",{style:ut(f),children:"Remarks"}),Object(O.jsx)("th",{style:ut(f),children:"Approver"})]})}),Object(O.jsx)("tbody",{children:R.map(((e,t)=>{var a,s,l,c,r;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:pt(f),className:"text-capitalize px-0 py-1 border-0",children:Object(O.jsx)("div",{className:"d-flex flex-nowrap gap-2",children:Object(O.jsx)("div",{className:"mx-auto d-flex align-items-center justify-content-center",style:{height:"30px",width:"30px",borderRadius:"50%",backgroundColor:"#ccc",color:"white",fontWeight:"bold",overflow:"hidden",objectFit:"cover"},children:null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&null!==(s=a.profile)&&void 0!==s&&s.image_url?Object(O.jsx)("img",{style:{height:"100%",width:"100%",borderRadius:"50%",objectFit:"cover"},src:null===e||void 0===e||null===(l=e.data)||void 0===l||null===(c=l.profile)||void 0===c?void 0:c.image_url,alt:""}):Object(O.jsx)("span",{children:null===e||void 0===e||null===(r=e.Name)||void 0===r?void 0:r.split(" ").map((e=>e[0])).join("").toUpperCase()})})})}),Object(O.jsx)("td",{style:pt(f),children:e.Name}),Object(O.jsx)("td",{style:pt(f),children:e.empID}),Object(O.jsx)("td",{style:pt(f),children:e.Leavetype}),Object(O.jsx)("td",{style:pt(f),children:e.FromDate}),Object(O.jsx)("td",{style:pt(f),children:e.ToDate}),Object(O.jsx)("td",{style:pt(f),children:Object(O.jsx)("span",{children:e.CreatedOn})}),Object(O.jsx)("td",{style:pt(f),children:Object(O.jsx)("span",{children:e.Days})}),Object(O.jsx)("td",{style:pt(f),children:Object(O.jsx)("span",{className:" text-success border border-success px-2 py-0 rounded-5",children:e.Status})}),Object(O.jsx)("td",{style:pt(f),children:e.Reasonforleave}),Object(O.jsx)("td",{style:pt(f),children:e.data.updatedBy})]},t)}))})]})}),Object(O.jsx)(vt,{currentPage:D,pageNumbers:$,handlePaginationPrev:()=>{k((e=>e-1))},handlePaginationNext:()=>{k((e=>e+1))},setCurrentPage:k,filteredDataLength:v.length,itemsPerPage:C})]}):Object(O.jsxs)("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"2rem"},children:[Object(O.jsx)("img",{style:{height:"auto",width:"25%"},src:f?Qa:Xa,alt:"img"}),Object(O.jsx)("p",{style:{color:f?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)"},children:"No Leave requests found."})]})})})]})};mt.a`
  display: block;
  margin: 0 auto;
  margin-top: 45px;
  border-color: red;
`;var As=e=>{const t=Object(o.n)().pathname.split("/")[1],{userData:a}=Object(P.c)((e=>e.user)),[l,c]=Object(s.useState)([]),[r,n]=Object(s.useState)(!0),[i,j]=Object(s.useState)(""),[m,h]=Object(s.useState)(null),[b,u]=Object(s.useState)("asc"),[p,x]=Object(s.useState)([]),[v,y]=Object(s.useState)([]),{darkMode:f}=g(),[D,k]=Object(s.useState)(1),[C]=Object(s.useState)(10),w=null===a||void 0===a?void 0:a.Email,A=()=>{d.a.post(`${E}/api/leave-application-hr/`,"hr"===t?{hr:w}:{manager:w},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;c(t),n(!1);const a=t.map((e=>{var t,a;return{data:e,empID:null===e||void 0===e?void 0:e.empID,FirstName:null===e||void 0===e?void 0:e.FirstName,LastName:null===e||void 0===e?void 0:e.LastName,Name:(null===e||void 0===e?void 0:e.FirstName)+" "+(null===e||void 0===e?void 0:e.LastName),Leavetype:null===e||void 0===e?void 0:e.Leavetype,FromDate:null===e||void 0===e||null===(t=e.FromDate)||void 0===t?void 0:t.slice(0,10),ToDate:null===e||void 0===e||null===(a=e.ToDate)||void 0===a?void 0:a.slice(0,10),Days:M(null===e||void 0===e?void 0:e.FromDate,null===e||void 0===e?void 0:e.ToDate),Reasonforleave:null===e||void 0===e?void 0:e.Reasonforleave,Status:L(null===e||void 0===e?void 0:e.Status),updatedBy:null===e||void 0===e?void 0:e.updatedBy,reasonOfRejection:null===e||void 0===e?void 0:e.reasonOfRejection}}));x(a.filter((e=>"Rejected"===e.Status||3===e.Status))),y(a.filter((e=>"Rejected"===e.Status||3===e.Status)))})).catch((e=>{}))};Object(s.useEffect)((()=>{A()}),[]),Object(s.useEffect)((()=>{S()}),[i]);const S=()=>{const e=p.filter((e=>e.Name.toLowerCase().includes(i.toLowerCase())));y(e)},M=(e,t)=>{const a=new Date(e),s=new Date(t),l=Math.abs(s-a);return Math.ceil(l/864e5)+1},L=e=>1==e?"Pending":2==e?"Approved":3==e?"Rejected":void 0,T=(v.filter((e=>"Rejected"===e.Status)).length,D*C),F=T-C,I=v.slice(F,T),R=[];for(let s=1;s<=Math.ceil(v.length/C);s++)R.push(s);return Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsx)("div",{className:"d-flex flex-column justify-between m-0 mt-3",children:Object(O.jsxs)("div",{className:"d-flex justify-content-between aline-items-center",children:[Object(O.jsxs)("div",{className:"my-auto",children:[Object(O.jsxs)("h5",{style:{color:f?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"m-0 p-0 ",children:["Approved Leaves ( ",v.length," )"]}),Object(O.jsxs)("p",{style:{color:f?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"m-0 p-0 ",children:["You can see all approved leave requests here"," "]})]}),Object(O.jsxs)("div",{className:"d-flex gap-2 justify-content-between py-3",children:[Object(O.jsxs)("button",{className:"btn btn-danger rounded-0 py-0 shadow-sm d-flex justify-center  aline-center gap-2",onClick:()=>{if(window.confirm("Are you sure to download Leave record? ")){const e=297,t=210,a=new sa.default({orientation:"landscape",unit:"mm",format:[e,t]});a.setFontSize(18),a.text("Employee Leave Details",e/2,15,"center");const s=["Emp Id","Leave Type","Start Date","End Date","Remarks","Days","Status"],l=v.map((e=>[e.empID,e.Leavetype,e.FromDate,e.ToDate,e.Days,e.Reasonforleave,e.Status,""]));a.setFontSize(12),a.autoTable({head:[s],body:l,startY:25}),a.save("leaveApplication_data.pdf")}},children:[Object(O.jsx)(ct.j,{className:"fs-6"}),Object(O.jsx)("p",{className:"my-auto d-none d-md-flex fs-6",children:"PDF"})]}),Object(O.jsxs)("div",{className:"searchholder p-0 d-flex  position-relative",children:[Object(O.jsx)("input",{style:{height:"100%",width:"100%",paddingLeft:"15%"},className:"form-control border rounded-0",type:"text",placeholder:"Search by name",value:i,onChange:e=>j(e.target.value)}),Object(O.jsx)(N.e,{style:{position:"absolute",top:"30%",left:"5%"}})]})]})]})}),Object(O.jsx)("div",{id:"clear-both"}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{children:I.length>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{className:"shadow",children:[Object(O.jsx)("th",{style:ut(f),children:"Profile"}),Object(O.jsx)("th",{style:ut(f),children:"Employee Name"}),Object(O.jsx)("th",{style:ut(f),children:"Emp ID"}),Object(O.jsx)("th",{style:ut(f),children:"Leave Type"}),Object(O.jsx)("th",{style:ut(f),children:"Start Date"}),Object(O.jsx)("th",{style:ut(f),children:"End Date"}),Object(O.jsx)("th",{style:ut(f),children:"CreatedOn"}),Object(O.jsx)("th",{style:ut(f),children:"Days"}),Object(O.jsx)("th",{style:ut(f),children:"Status"}),Object(O.jsx)("th",{style:ut(f),children:"Remarks"}),Object(O.jsx)("th",{style:ut(f),children:"Rejected By"}),Object(O.jsx)("th",{style:ut(f),children:"Rejection Remarks"})]})}),Object(O.jsx)("tbody",{children:I.map(((e,t)=>{var a,s,l,c,r;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:pt(f),className:"text-capitalize px-0 py-1 border-0",children:Object(O.jsx)("div",{className:"d-flex flex-nowrap gap-2",children:Object(O.jsx)("div",{className:"mx-auto d-flex align-items-center justify-content-center",style:{height:"30px",width:"30px",borderRadius:"50%",backgroundColor:"#ccc",color:"white",fontWeight:"bold",overflow:"hidden",objectFit:"cover"},children:null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&null!==(s=a.profile)&&void 0!==s&&s.image_url?Object(O.jsx)("img",{style:{height:"100%",width:"100%",borderRadius:"50%",objectFit:"cover"},src:null===e||void 0===e||null===(l=e.data)||void 0===l||null===(c=l.profile)||void 0===c?void 0:c.image_url,alt:""}):Object(O.jsx)("span",{children:null===e||void 0===e||null===(r=e.Name)||void 0===r?void 0:r.split(" ").map((e=>e[0])).join("").toUpperCase()})})})}),Object(O.jsx)("td",{style:pt(f),children:e.Name}),Object(O.jsx)("td",{style:pt(f),children:e.empID}),Object(O.jsx)("td",{style:pt(f),children:e.Leavetype}),Object(O.jsx)("td",{style:pt(f),children:e.FromDate}),Object(O.jsx)("td",{style:pt(f),children:e.ToDate}),Object(O.jsx)("td",{style:pt(f),children:Object(O.jsx)("span",{children:e.CreatedOn})}),Object(O.jsx)("td",{style:pt(f),children:Object(O.jsx)("span",{children:e.Days})}),Object(O.jsx)("td",{style:pt(f),children:Object(O.jsx)("span",{className:" text-danger border border-danger px-2 py-0 rounded-5",children:e.Status})}),Object(O.jsx)("td",{style:pt(f),children:e.Reasonforleave}),Object(O.jsx)("td",{style:pt(f),children:e.data.updatedBy}),Object(O.jsx)("td",{style:pt(f),children:e.data.reasonOfRejection})]},t)}))})]})}),Object(O.jsx)(vt,{currentPage:D,pageNumbers:R,handlePaginationPrev:()=>{k((e=>e-1))},handlePaginationNext:()=>{k((e=>e+1))},setCurrentPage:k,filteredDataLength:v.length,itemsPerPage:C})]}):Object(O.jsxs)("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"2rem"},children:[Object(O.jsx)("img",{style:{height:"auto",width:"25%"},src:f?Qa:Xa,alt:"img"}),Object(O.jsx)("p",{style:{color:f?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)"},children:"No Leave requests found."})]})})})]})};var Ss=function(){const e=new Date,t=e.getFullYear(),a=e.getMonth()+1,[l,c]=Object(s.useState)(a),[r,n]=Object(s.useState)(t),[o,i]=Object(s.useState)([]),{darkMode:j}=g();Object(s.useEffect)((()=>{m()}),[r,l]);const m=async()=>{try{const e=await d.a.get(`${E}/api/attendance`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}});i(e.data)}catch(e){console.error("Error fetching attendance data:",e)}},h=new Date(r,l,0).getDate();console.log(o);const b=(e,t)=>{const a=new Date,s=a.getDate(),c=a.getMonth()+1,n=a.getFullYear();if(r<n||r===n&&l<c||r===n&&l===c&&t<s){if(!e||0===e.length)return{status:"A",color:"#EF4040",title:"Absent"}}else if(!e||0===e.length)return{status:"--",color:"#c1bdbd",title:"No Data"};if(""===e[0])return{status:"A",color:"#EF4040",title:"Absent"};if("WO"===e)return{status:"WO",color:"#6e99de",title:"Work Off"};const o=parseInt(e.split(":")[0]),i=parseInt(e.split(":")[1]);return o<9||9===o&&i<31?{status:"P",color:"#6BCB77",title:"Present"}:9===o&&i<46?{status:"L",color:"#41C9E2",title:"Late"}:o<14||14===o&&0===i?{status:"H",color:"#FDA403",title:"Half Day"}:{status:"A",color:"#EF4040",title:"Absent"}},u=Array.from(new Set(o.flatMap((e=>e.years.map((e=>e.year)))))),p=Array.from(new Set(o.flatMap((e=>e.years.filter((e=>e.year===r)).flatMap((e=>e.months.map((e=>e.month)))))))),x=e=>{switch(e){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December";default:return""}},v=(e,t)=>{var a,s,c;let n=0;const o=t.years.findIndex((e=>e.year===r)),i=null===(a=t.years[o])||void 0===a?void 0:a.months.findIndex((e=>e.month===l)),d=(null===(s=t.years[o])||void 0===s||null===(c=s.months[i])||void 0===c?void 0:c.dates)||[];for(let l=1;l<=h;l++){const t=d.find((e=>e.date===l)),a=t?t.loginTime[0]:"",s=b(a).status;(s===e||"P"===e&&("WO"===s||"L"===s)||"A"===e&&"--"===s)&&n++}return n},y=Object(s.useRef)(null),[f,N]=Object(s.useState)(!1),D=()=>{const e=y.current;e&&N(e.scrollWidth>e.clientWidth)};return Object(s.useEffect)((()=>(D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D))),[o]),Object(O.jsxs)("div",{style:{height:"93vh",overflow:"auto"},className:"container-fluid pb-5",children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between py-3",children:[Object(O.jsxs)("div",{style:{color:j?"black":"white"},className:"d-flex gap-2",children:[Object(O.jsx)("h6",{className:"my-auto ",children:"Attendance Summary"}),Object(O.jsxs)("button",{style:{whiteSpace:"pre"},onClick:()=>{const e=[],t=`${x(l)} ${r}`;e.push(["UPBS TECHNOLOGY"]),e.push(["ITHUM TOWER, 805 The, B 804"]),e.push(["Sector 62, Noida, Uttar Pradesh 201301"]),e.push([]),e.push([`Attendance Summary for ${t}`]),e.push([]);const a=["S.No","Employee ID","Employee Name",...[...Array(h)].map(((e,t)=>(t+1).toString().padStart(2,"0"))),"Total Absent","Total Present","Total Halfday"];e.push(a),o.forEach(((t,a)=>{var s,c,n,o,i;const d=t.years.findIndex((e=>e.year===r)),j=null===(s=t.years[d])||void 0===s?void 0:s.months.findIndex((e=>e.month===l)),m=(null===(c=t.years[d])||void 0===c||null===(n=c.months[j])||void 0===n?void 0:n.dates)||[],u=[(a+1).toString().padStart(2,"0"),(null===(o=t.employeeObjID)||void 0===o?void 0:o.empID)||"NA",(null===(i=t.employeeObjID)||void 0===i?void 0:i.FirstName)||"NA",...[...Array(h)].map(((e,t)=>{const a=m.find((e=>e.date===t+1)),s=a?a.loginTime[0]:"A";return"A"===b(s).status?"A":b(s).status})),v("A",t),v("P",t),v("H",t)];e.push(u)}));const s=la.a.aoa_to_sheet(e),c=la.a.book_new();la.a.book_append_sheet(c,s,"Attendance Summary"),la.b(c,"Attendance_Summary.xlsx")},className:"btn py-0 px-2 btn-outline-success d-flex align-items-center  gap-2 my-auto shadow-sm rounded-5",children:[" ",Object(O.jsx)(xs.a,{})," ",Object(O.jsx)("span",{className:"d-none d-md-flex",children:"Export XLSX"})]})]}),Object(O.jsxs)("div",{style:{color:j?"var(--secondaryDashColorDark:)":"var(--secondaryDashMenuColor)"},className:"d-flex gap-3",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("label",{className:"my-auto",children:"Year"}),Object(O.jsxs)("select",{className:"form-select py-1 rounded-0 ",value:r,onChange:e=>n(parseInt(e.target.value)),children:[Object(O.jsx)("option",{value:"",children:"--Select Year--"}),u.sort((function(e,t){return e-t})).map(((e,t)=>Object(O.jsx)("option",{value:e,children:e},t)))]})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("label",{className:"my-auto",children:"Month"}),Object(O.jsxs)("select",{className:"form-select py-1 rounded-0  ",value:l,onChange:e=>c(parseInt(e.target.value)),children:[Object(O.jsx)("option",{value:"",children:"--Select Month--"}),p.sort((function(e,t){return e-t})).map(((e,t)=>Object(O.jsx)("option",{value:e,children:x(e)},t)))]})]})]})]}),Object(O.jsx)("div",{style:{overflow:"scroll auto",maxHeight:"64vh",position:"relative",overflowX:"auto",overflowY:"auto"},className:"employee-attendence-table mt-0",children:Object(O.jsx)("div",{ref:y,style:{overflowX:"auto",position:"relative",cursor:f?"ew-resize":"default"},className:"table-responsive p-2 mb-3",onMouseMove:e=>{const t=y.current;if(!t)return;const a=t.getBoundingClientRect(),s=e.clientX;s<a.left+50?t.scrollLeft-=10:s>a.right-50&&(t.scrollLeft+=10)},children:Object(O.jsxs)("table",{className:"table table-bordered table-striped",style:{fontSize:".9rem",fontWeight:"normal"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{style:{position:"sticky",top:"-2px",zIndex:"5"},children:[Object(O.jsx)("th",{style:{whiteSpace:"pre",backgroundColor:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",position:"sticky",left:"0",top:"0"},children:"S.No"}),Object(O.jsx)("th",{style:{whiteSpace:"pre",backgroundColor:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",position:"sticky",left:"0",top:"0"},children:"Employee ID"}),Object(O.jsx)("th",{style:{whiteSpace:"pre",backgroundColor:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)",position:"sticky",left:"-1px",top:"0"},children:"Employee Name"}),[...Array(h)].map(((e,t)=>Object(O.jsx)("th",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},className:"text-center",children:(t+1).toString().padStart(2,"0")},t))),Object(O.jsx)("th",{className:"text-white",style:{whiteSpace:"pre",backgroundColor:"#EF4040"},children:"Total Absent"}),Object(O.jsx)("th",{className:"text-white",style:{whiteSpace:"pre",backgroundColor:"#6BCB77"},children:"Total Present"}),Object(O.jsx)("th",{className:"text-white",style:{whiteSpace:"pre",backgroundColor:"#FDA403"},children:"Total Halfday"})]})}),Object(O.jsx)("tbody",{children:o.map(((e,t)=>{var a,s,c,n,o,i;const d=e.years.findIndex((e=>e.year===r)),j=null===(a=e.years[d])||void 0===a?void 0:a.months.findIndex((e=>e.month===l)),m=(null===(s=e.years[d])||void 0===s||null===(c=s.months[j])||void 0===c?void 0:c.dates)||[];return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"text-center",children:(t+1).toString().padStart(2,0)}),Object(O.jsx)("td",{children:(null===(n=e.employeeObjID)||void 0===n?void 0:n.empID)||"N/A"}),Object(O.jsxs)("td",{style:{whiteSpace:"pre",textTransform:"capitalize",position:"sticky",left:"-1px",top:"0"},children:[null===(o=e.employeeObjID)||void 0===o?void 0:o.FirstName," ",null===(i=e.employeeObjID)||void 0===i?void 0:i.LastName]}),[...Array(h)].map(((e,t)=>{const a=m.find((e=>e.date===t+1)),s=a?a.loginTime[0]:void 0,{status:l,color:c}=b(s,t+1);return Object(O.jsx)("td",{style:{whiteSpace:"pre",backgroundColor:c,color:"white"},children:l},t)})),Object(O.jsx)("td",{className:"text-center",children:v("A",e)}),Object(O.jsx)("td",{className:"text-center",children:v("P",e)}),Object(O.jsx)("td",{className:"text-center",children:v("H",e)})]},e._id)}))})]})})}),Object(O.jsxs)("div",{className:"pt-3 d-flex align-items-center gap-2",children:[Object(O.jsx)("h6",{style:{textAlign:"start",color:j?"var( --secondaryDashColorDark)":"var(--secondaryDashMenuColor)",fontWeight:"normal",fontSize:".9rem"},className:"my-auto",children:"Abbreviation"}),Object(O.jsx)("table",{className:"table-bordered table-striped",style:{textAlign:"start",color:j?"var( --secondaryDashColorDark)":"var(--secondaryDashMenuColor)",fontWeight:"normal",fontSize:".9rem"},children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"px-3",style:{backgroundColor:"#EF4040",color:"white",textAlign:"center"},children:"A"}),Object(O.jsx)("td",{className:"px-2",style:{textAlign:"start"},children:"Absent"}),Object(O.jsx)("td",{className:"px-3",style:{backgroundColor:"#6BCB77",color:"white",textAlign:"center"},children:"P"}),Object(O.jsx)("td",{className:"px-2",style:{textAlign:"start"},children:"Present"}),Object(O.jsx)("td",{className:"px-3",style:{backgroundColor:"#41C9E2",color:"white",textAlign:"center"},children:"L"}),Object(O.jsx)("td",{className:"px-2",style:{textAlign:"start"},children:"Late"}),Object(O.jsx)("td",{className:"px-3",style:{backgroundColor:"#FDA403",color:"white",textAlign:"center"},children:"H"}),Object(O.jsx)("td",{className:"px-2",style:{textAlign:"start"},children:"Halfday"}),Object(O.jsx)("td",{className:"px-3",style:{backgroundColor:"#6e99de",color:"white",textAlign:"center"},children:"WO"}),Object(O.jsx)("td",{className:"px-2",children:"Week Off"})]})})]}),Object(O.jsxs)("div",{style:{textAlign:"start",color:j?"var( --secondaryDashColorDark)":"var(--secondaryDashMenuColor)",fontWeight:"normal",fontSize:".9rem"},className:"py-3",children:[Object(O.jsx)("h6",{children:"Notes"}),Object(O.jsx)("p",{style:{fontSize:".8rem"},className:"m-0 p-0",children:"Weekly off (WO) is considered part of an employee's present status, meaning it is not deducted from their attendance."}),Object(O.jsx)("p",{style:{fontSize:".8rem"},className:"m-0 p-0",children:"Being late mark (L) is used to identify whether employees are arriving on time, but it is still counted as part of their present status."})]})]})};a(524);var Es=()=>{const[e,t]=Object(s.useState)(!1),[a,l]=Object(s.useState)([]),[c,r]=Object(s.useState)(null),{socket:n}=Object(s.useContext)(b),{userData:o}=Object(P.c)((e=>e.user)),i=null===o||void 0===o?void 0:o._id,j=null===o||void 0===o?void 0:o.Email,m=()=>{d.a.get(`${E}/api/particularEmployee/${i}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{r(e.data.Notification)})).catch((e=>{}))};Object(s.useEffect)((()=>{m()}),[]),Object(s.useEffect)((()=>{n&&n.on("taskNotificationReceived",(()=>{m()}))}),[n]),Object(s.useEffect)((()=>{t(c&&a.length===c.length)}),[a,c]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("form",{className:"d-flex col-8 flex-column gap-3",children:Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"p-2",children:[" ",Object(O.jsx)("input",{type:"checkbox",name:"",id:"",onChange:()=>{t(!e),l(e?[]:[...c])},checked:e})," ",Object(O.jsx)("span",{children:"Select All"})]}),Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{scope:"col",children:"Select"}),Object(O.jsx)("th",{scope:"col",children:"task Name"}),Object(O.jsx)("th",{scope:"col",children:"Sender"}),Object(O.jsx)("th",{scope:"col",children:"Status"}),Object(O.jsx)("th",{scope:"col",children:"Action"})]})}),Object(O.jsx)("tbody",{children:c&&c.map(((e,t)=>Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{scope:"row",children:Object(O.jsx)("input",{type:"checkbox",name:"",id:"",onChange:()=>(e=>{const t=a.some((t=>t.taskId===e.taskId));l(t?t=>t.filter((t=>t.taskId!==e.taskId)):[...a,e])})(e),checked:a.some((t=>t.taskId===e.taskId))})}),Object(O.jsx)("td",{children:e.taskName}),Object(O.jsx)("td",{children:e.senderMail}),"unseen"===e.status?Object(O.jsx)("td",{children:"Unread"}):Object(O.jsx)("td",{children:"read"}),Object(O.jsx)("td",{children:Object(O.jsx)(Re.a,{onClick:()=>(e=>{d.a.post(`${E}/api/notificationDeleteHandler/${e}`,{email:j},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{r(e.data.result.Notification),l([]),n.emit("notificationPageUpdate",!0)})).catch((e=>{}))})(e.taskId),className:"bin"})})]},t)))})]})]})})}),Object(O.jsx)("button",{className:"Notification_delete",onClick:()=>{if(a.length>0){const t=a.map((e=>e.taskId)),s={employeeMail:j,tasks:t};e?c.length>0&&d.a.post(`${E}/api/selectedNotificationDelete`,{email:j},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{r(e.data.result.Notification),n.emit("notificationPageUpdate",!0)})).catch((e=>{})):d.a.post(`${E}/api/multiSelectedNotificationDelete`,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{r(e.data.result.Notification),l([]),n.emit("notificationPageUpdate",!0)})).catch((e=>{}))}},children:"Delete"})]})};var Ms=function(){const{darkMode:e}=g(),{userData:t}=Object(P.c)((e=>e.user)),{employees:a,setEmployees:l,selectedEmployee:c,setSelectedEmployee:r,attencenceID:n,setAttencenceID:o,message:i,setMessage:j}=Object(s.useContext)(b),m=null===t||void 0===t?void 0:t.Account,h=null===t||void 0===t?void 0:t.Email;Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get(`${E}/api/employee`,{headers:{authorization:localStorage.getItem("token")||""}});if("1"===m)l(e.data);else{const t=e.data.filter((e=>3===e.Account||e.reportHr===h));l(t)}}catch(e){console.error("Error fetching employees:",e)}})()}),[]),console.log(a);const u=async e=>{try{const t=(await d.a.get(`${E}/api/attendance/${e}`)).data.filter((t=>t.employeeObjID._id===e))[0],a=t.years,s=a[a.length-1].months,l=s[s.length-1].dates,c=l[l.length-1].status;j(t?`Status: ${c}`:"")}catch(t){console.error("Error fetching attendance data:",t)}};return Object(O.jsxs)("div",{style:{color:e?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"container-fluid py-2",children:[Object(O.jsx)(ma,{title:"Employee Manual Attendance",message:"You can create manual attendance of employee in case of technical issue."}),Object(O.jsxs)("div",{className:"my-3 d-flex flex-column gap-3",children:[Object(O.jsxs)("select",{className:"form-select text-capitalize rounded-0",onChange:e=>(e=>{const t=a.find((t=>t._id===e));t&&(o(t.attendanceObjID),r(e),u(e))})(e.target.value),children:[Object(O.jsx)("option",{value:"",children:"-- Select User --"}),a.map((e=>Object(O.jsxs)("option",{value:e._id,children:[e.empID," ",e.FirstName," ",e.LastName]},e._id)))]}),Object(O.jsxs)("div",{className:"d-flex gap-3",children:[Object(O.jsx)("button",{className:"btn btn-success",onClick:async()=>{try{if(!c)return void j("Please select an employee");const e=Math.round((new Date).getTime()/1e3/60),t=is()().format("HH:mm:ss");await d.a.post(`${E}/api/attendance/${n}`,{employeeId:c,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),loginTime:[t],loginTimeMs:[e],status:"login"}),alert("Login time recorded successfully")}catch(e){console.error("Error recording login time:",e),alert("Error recording login time")}},children:"Login"}),Object(O.jsx)("button",{className:"btn btn-danger",onClick:async()=>{try{if(!c)return void j("Please select an employee");const e=Math.round((new Date).getTime()/1e3/60),t=is()().format("HH:mm:ss");await d.a.post(`${E}/api/attendance/${n}`,{employeeId:c,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),logoutTime:[t],logoutTimeMs:[e],status:"Logout"}),j("Logout time recorded successfully")}catch(e){console.error("Error recording logout time:",e),j("Error recording logout time")}},children:"Logout"}),Object(O.jsxs)("div",{className:"d-flex gap-3",children:[Object(O.jsx)("button",{className:"btn btn-warning",onClick:async()=>{try{if(!c)return void j("Please select an employee");const e=is()().format("HH:mm:ss"),t=(new Date).getTime(),a=Math.round(t);await d.a.post(`${E}/api/attendance/${n}`,{employeeId:c,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),breakTime:[e],breakTimeMs:[a],status:"Break"}),j("Break time recorded successfully")}catch(e){console.error("Error recording break time:",e),j("Error recording break time")}},children:"Break"}),Object(O.jsx)("button",{className:"btn btn-primary",onClick:async()=>{try{if(!c)return void j("Please select an employee");const e=is()().format("HH:mm:ss"),t=(new Date).getTime(),a=Math.round(t);await d.a.post(`${E}/api/attendance/${n}`,{employeeId:c,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),ResumeTime:[e],resumeTimeMS:[a],status:"Login"}),j("Resumed time recorded successfully")}catch(e){console.error("Error recording resume time:",e),j("Error recording resume time")}},children:"Resume"})]})]})]}),i&&Object(O.jsx)("p",{children:i})]})},Ls=a(76);var Ts=()=>{const{darkMode:e}=g(),t=Object(o.p)(),a=Object(o.n)().pathname.split("/")[1],[l,c]=Object(s.useState)([]),[r,n]=Object(s.useState)({employees:[],sickLeave:"",paidLeave:"",casualLeave:"",paternityLeave:"",maternityLeave:""});Object(s.useEffect)((()=>{d.a.get(`${E}/api/employee`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data.filter((e=>3===e.Account&&"active"===e.status)).map((e=>({value:e._id,label:e.Email})));c([{value:"select_all",label:"Select All"},...t])})).catch((e=>{console.log(e)}))}),[]);const i=e=>{const{name:t,value:a}=e.target;(""===a||Number(a)>=0&&!isNaN(a))&&n({...r,[t]:a})};return Object(O.jsxs)("div",{style:{color:e?"black":"white"},className:"container-fluid",children:[Object(O.jsx)("h5",{children:"Leave Application Form"}),Object(O.jsxs)("form",{onSubmit:e=>{e.preventDefault(),d.a.post(`${E}/api/assignLeave`,r).then((e=>{S.a.success("Leave Assign Successfully"),n({employees:[],sickLeave:"",paidLeave:"",casualLeave:"",paternityLeave:"",maternityLeave:""}),t.push(`/${a}/allEmpLeave`)})).catch((e=>{console.log(e)}))},children:[Object(O.jsxs)("div",{className:"row mb-3",children:[Object(O.jsxs)("div",{className:"col-md-6",children:[Object(O.jsx)("label",{htmlFor:"employees",className:"form-label",children:"Select Employees"}),Object(O.jsx)(Ls.a,{id:"employees",name:"employees",value:r.employees,onChange:e=>{e.some((e=>"select_all"===e.value))?n({...r,employees:l.filter((e=>"select_all"!==e.value))}):n({...r,employees:e})},options:l,isMulti:!0,closeMenuOnSelect:!1,isClearable:!0,styles:{menu:e=>({...e,maxHeight:"400px",overflowY:"auto"}),menuPortal:e=>({...e,zIndex:9999})},menuPlacement:"bottom",menuPortalTarget:document.body})]}),Object(O.jsxs)("div",{className:"col-md-6",children:[Object(O.jsx)("label",{htmlFor:"sickLeave",className:"form-label",children:"Sick Leave"}),Object(O.jsx)("input",{type:"number",className:"form-control",id:"sickLeave",name:"sickLeave",value:r.sickLeave,onChange:i,min:"0"})]})]}),Object(O.jsxs)("div",{className:"row mb-3",children:[Object(O.jsxs)("div",{className:"col-md-6",children:[Object(O.jsx)("label",{htmlFor:"paidLeave",className:"form-label",children:"Paid Leave"}),Object(O.jsx)("input",{type:"number",className:"form-control",id:"paidLeave",name:"paidLeave",value:r.paidLeave,onChange:i,min:"0"})]}),Object(O.jsxs)("div",{className:"col-md-6",children:[Object(O.jsx)("label",{htmlFor:"casualLeave",className:"form-label",children:"Casual Leave"}),Object(O.jsx)("input",{type:"number",className:"form-control",id:"casualLeave",name:"casualLeave",value:r.casualLeave,onChange:i,min:"0"})]})]}),Object(O.jsxs)("div",{className:"row mb-3",children:[Object(O.jsxs)("div",{className:"col-md-6",children:[Object(O.jsx)("label",{htmlFor:"paternityLeave",className:"form-label",children:"Paternity Leave"}),Object(O.jsx)("input",{type:"number",className:"form-control",id:"paternityLeave",name:"paternityLeave",value:r.paternityLeave,onChange:i,min:"0"})]}),Object(O.jsxs)("div",{className:"col-md-6",children:[Object(O.jsx)("label",{htmlFor:"maternityLeave",className:"form-label",children:"Maternity Leave"}),Object(O.jsx)("input",{type:"number",className:"form-control",id:"maternityLeave",name:"maternityLeave",value:r.maternityLeave,onChange:i,min:"0"})]})]}),Object(O.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})};var Fs=e=>{const[t,a]=Object(s.useState)(!0),[l,c]=Object(s.useState)(""),[r,n]=Object(s.useState)([]),[o,i]=Object(s.useState)([]),{darkMode:j}=g(),[m,h]=Object(s.useState)(1),[b]=Object(s.useState)(5);Object(s.useEffect)((()=>{d.a.get(`${E}/api/getAllLeave`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data.filter((e=>3===e.Account));a(!1);const s=t.map((e=>null!==e.profile?{empID:e.empID,Name:e.FirstName+" "+e.LastName,Leavetype:e.Leavetype,sickLeave:e.sickLeave,paidLeave:e.paidLeave,casualLeave:e.casualLeave,paternityLeave:e.paternityLeave,maternityLeave:e.maternityLeave,profilePic:e.profile.image_url}:{empID:e.empID,Name:e.FirstName+" "+e.LastName,Leavetype:e.Leavetype,sickLeave:e.sickLeave,paidLeave:e.paidLeave,casualLeave:e.casualLeave,paternityLeave:e.paternityLeave,maternityLeave:e.maternityLeave,profilePic:null}));n(s),i(s)})).catch((e=>{}))}),[]),Object(s.useEffect)((()=>{const e=r.filter((e=>e.Name.toLowerCase().includes(l.toLowerCase())));i(e)}),[l]);const u=m*b,p=u-b,x=o.slice(p,u),v=[];for(let s=1;s<=Math.ceil(o.length/b);s++)v.push(s);return Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between align-items-center py-3",children:[Object(O.jsx)("h6",{style:{color:j?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"fw-bold my-auto",children:"Leaves Balance"}),Object(O.jsx)("div",{className:"searchholder p-0 d-flex position-relative",children:Object(O.jsx)("input",{style:{height:"100%",width:"100%",paddingLeft:"15%"},className:"form-control border rounded-0",type:"text",placeholder:"Search by name",value:l,onChange:e=>c(e.target.value)})})]}),Object(O.jsx)("div",{id:"clear-both"}),t?Object(O.jsx)("div",{id:"loading-bar",children:Object(O.jsx)(jt.a,{size:50,color:"#0000ff",loading:!0})}):Object(O.jsxs)("div",{children:[Object(O.jsxs)("table",{className:"table",style:{fontSize:".9rem"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:ut(j),children:"Profile"}),Object(O.jsx)("th",{style:ut(j),children:"Employee Name"}),Object(O.jsx)("th",{style:ut(j),children:"Emp ID"}),Object(O.jsx)("th",{style:ut(j),children:"Sick Leave"}),Object(O.jsx)("th",{style:ut(j),children:"Paid Leave"}),Object(O.jsx)("th",{style:ut(j),children:"Casual Leave"}),Object(O.jsx)("th",{style:ut(j),children:"Paternity Leave"}),Object(O.jsx)("th",{style:ut(j),children:"Maternity Leave"})]})}),Object(O.jsx)("tbody",{children:x.map(((e,t)=>Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:pt(j),children:Object(O.jsx)("img",{src:e.profilePic||w,alt:"Profile",style:{height:"2rem",width:"2rem",borderRadius:"50%",objectFit:"cover"}})}),Object(O.jsx)("td",{style:pt(j),children:e.Name}),Object(O.jsx)("td",{style:pt(j),children:e.empID}),Object(O.jsx)("td",{style:pt(j),children:e.sickLeave}),Object(O.jsx)("td",{style:pt(j),children:e.paidLeave}),Object(O.jsx)("td",{style:pt(j),children:e.casualLeave}),Object(O.jsx)("td",{style:pt(j),children:e.paternityLeave}),Object(O.jsx)("td",{style:pt(j),children:e.maternityLeave})]},t)))})]}),Object(O.jsx)(vt,{currentPage:m,pageNumbers:v,handlePaginationPrev:()=>{h((e=>e-1))},handlePaginationNext:()=>{h((e=>e+1))},setCurrentPage:h,filteredDataLength:o.length,itemsPerPage:b})]})]})},Ps=a(314),Is=a.n(Ps);a(616),a(617);var Rs=()=>{const{userData:e}=Object(P.c)((e=>e.user)),t=null===e||void 0===e?void 0:e.Email,a=`${null===e||void 0===e?void 0:e.FirstName} ${null===e||void 0===e?void 0:e.LastName}`,l=Object(o.n)().pathname.split("/")[1],c=Object(o.p)(),[r,n]=Object(s.useState)({notice:"",attachments:null}),[i,j]=Object(s.useState)(""),[m,h]=Object(s.useState)(!1),{darkMode:b}=g(),u=()=>""!==r.notice.trim();return Object(O.jsxs)("div",{style:{color:b?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)",height:"95vh"},className:"container-fluid py-2 "+(b?"ql-snow-dark":"ql-snow"),children:[Object(O.jsx)(ma,{title:"Send new Notice",message:"Create notice or announcement from here."}),Object(O.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!u())return void j("Please fill in the required fields.");let s=new FormData;const o=Object(as.a)();s.append("noticeId",o),s.append("notice",r.notice),s.append("file",r.attachments),s.append("creator",a),s.append("creatorMail",t),h(!0);try{await d.a.post(`${E}/api/notice`,s),S.a.success("Notice sent successfully!"),n({notice:"",attachments:null}),j(""),c.push(`/${l}/NoticeBoard`)}catch(i){console.log(i),S.a.error("Failed to send notice. Please try again.")}finally{h(!1)}},className:"mt-3 d-flex flex-column gap-3",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Notice"}),Object(O.jsx)(Is.a,{theme:"snow",value:r.notice,onChange:e=>{n({...r,notice:e}),j("")},placeholder:"Please mention topic for the notice or announcement",modules:{toolbar:[[{header:[1,2,3,4,5,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],["blockquote","code-block"],[{align:[]}],[{list:"ordered"},{list:"bullet"}],["link","image","video"],["clean"]]},className:b?"quill-toolbar-dark":"quill-toolbar-light"}),i&&""===r.notice.trim()&&Object(O.jsx)("small",{className:"text-danger",children:i})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Attachments"}),Object(O.jsx)("input",{className:"form-control rounded-0",type:"file",multiple:!0,onChange:e=>{n({...r,attachments:e.target.files[0]}),j("")}})]}),Object(O.jsx)("div",{className:"d-flex ",children:Object(O.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:m||!u(),children:m?Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("span",{children:"Sending"}),Object(O.jsx)("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:Object(O.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]}):"Send Notice"})}),i&&Object(O.jsx)("div",{className:"text-danger mt-2",children:i})]})]})};var $s=()=>{const{userData:e}=Object(P.c)((e=>e.user)),t=null===e||void 0===e?void 0:e.Email,[a,l]=Object(s.useState)({updatedBy:t,date:"",loginTime:"",logoutTime:"",remark:"",Email:""}),[c,r]=Object(s.useState)([]),[n,o]=Object(s.useState)(""),[i,j]=Object(s.useState)("");Object(s.useEffect)((()=>{d.a.post(`${E}/api/employeeTeam`,{email:t},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{Array.isArray(e.data)?r(e.data):console.error("Data received is not an array:",e.data)})).catch((e=>{console.error("Error fetching employee data:",e)}))}),[]),Object(s.useEffect)((()=>{const e=new Date,t=new Date(e);t.setDate(e.getDate()-2);const a=e=>{const t=new Date(e),a=""+(t.getMonth()+1),s=""+t.getDate();return[t.getFullYear(),a.padStart(2,"0"),s.padStart(2,"0")].join("-")};o(a(t)),j(a(e))}),[]);const m=e=>{const{name:t,value:s}=e.target;let c=s;var r;"loginTime"!==t&&"logoutTime"!==t||(c=(r=s)?`${r}:00`:""),l({...a,[t]:c})},h=c.map((e=>({value:e.Email,label:e.Email})));return Object(O.jsx)("div",{className:"container-fluid mt-4",children:Object(O.jsxs)("div",{className:"",children:[Object(O.jsx)("div",{className:"card-header mb-3",children:Object(O.jsx)(ma,{title:"Update Attendance",message:"You can update user attendance here."})}),Object(O.jsx)("div",{className:"card-body",children:Object(O.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log(a),d.a.post(`${E}/api/updateAttendance`,a,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{l({updatedBy:t,date:"",loginTime:"",logoutTime:"",remark:"",Email:""}),S.a.success("Login time Update successfully")})).catch((e=>{console.error("Error fetching employee data:",e)}))},children:[Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"selectedEmail",className:"form-label",children:"Select Email:"}),Object(O.jsx)(Ls.a,{id:"selectedEmail",name:"selectedEmail",options:h,value:h.find((e=>e.value===a.Email))||"",onChange:e=>{l({...a,Email:e?e.value:null})},placeholder:"Select an email"})]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"date",className:"form-label",children:"Date:"}),Object(O.jsx)("input",{type:"date",id:"date",name:"date",className:"form-control",value:a.date,onChange:m,min:n,max:i,required:!0})]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"loginTime",className:"form-label",children:"Login Time:"}),Object(O.jsx)("input",{type:"time",id:"loginTime",name:"loginTime",className:"form-control",value:a.loginTime,onChange:m})]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"logoutTime",className:"form-label",children:"Logout Time:"}),Object(O.jsx)("input",{type:"time",id:"logoutTime",name:"logoutTime",className:"form-control",value:a.logoutTime,onChange:m})]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"remark",className:"form-label",children:"Remark:"}),Object(O.jsx)("textarea",{id:"remark",name:"remark",className:"form-control",rows:"3",value:a.remark,onChange:m})]}),Object(O.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update Attendance"})]})})]})})};var zs=()=>{const{userData:e}=Object(P.c)((e=>e.user)),t=Object(o.n)(),a=Object(o.p)(),l=t.pathname.split("/")[1],c=`${null===e||void 0===e?void 0:e.FirstName} ${null===e||void 0===e?void 0:e.LastName}`,[r,n]=Object(s.useState)([]),{darkMode:i}=g(),{socket:j}=Object(s.useContext)(b),m=null===e||void 0===e?void 0:e._id,h=()=>{d.a.get(`${E}/api/notice/${m}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{n(e.data.reverse()),console.log(e.data)})).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{h()}),[]),Object(s.useEffect)((()=>{j&&(j.on("notice",(e=>{h()})),j.on("noticeDelete",(e=>{e&&h()})))}),[j]);const u=(e,t)=>{d.a.post(`${E}/api/noticeDelete`,{noticeId:e}).then((e=>{S.a.success("Notice deleted successfully."),h()})).catch((e=>{console.log(e)}))};return Object(O.jsxs)("div",{style:{maxHeight:"85vh",overflow:"auto"},className:"container-fluid",children:[Object(O.jsxs)("div",{className:"d-flex",style:{justifyContent:"space-between"},children:[Object(O.jsx)(ma,{title:"Notice Board",numbers:r.length,message:"You can view all the notices here."}),Object(O.jsx)("button",{onClick:()=>a.goBack(),className:"btn btn-primary my-auto",children:"Back"})," "]}),r.length>0?Object(O.jsx)("div",{className:"mx-auto row row-gap-1 rounded-0 position-relative",children:r.map((e=>Object(O.jsx)("div",{className:"col-12 col-md-6 col-lg-4 p-2 ",children:Object(O.jsxs)("div",{className:"d-flex flex-column shadow-sm border rounded p-2 justify-content-between gap-2 position-relative",style:{backgroundColor:i?"var(--secondaryDashMenuColor)":"var(--secondaryDashColorDark)",overflow:"hidden"},children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("div",{style:{height:"35px",width:"35px",borderRadius:"50%",background:"blue"},children:Object(O.jsx)("img",{style:{height:"100%",width:"100%",borderRadius:"50%",objectFit:"cover"},src:e.creatorProfile?e.creatorProfile.image_url:w,alt:""})}),Object(O.jsxs)("div",{style:{color:i?"black":"white"},className:"d-flex align-items-center justify-content-between w-100",children:[Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{className:"m-0 mx-1",children:e.creator}),Object(O.jsx)("span",{style:{width:"fit-content",background:i?"#2f99ea4a":"#2c2cf341",color:i?"#572be8f0":"#c8c2feed"},className:"p-0 px-2 text-primary rounded-3",children:e.creatorPosition})]}),Object(O.jsx)("div",{style:{position:"absolute",bottom:".5rem",right:".5rem"},className:"d-flex flex-column",children:Object(O.jsx)("h6",{className:"m-0 mx-1",children:Je(e.createdAt)})}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[null!==e.attachments&&Object(O.jsx)("a",{title:"Download Attachment",target:"blank",style:{background:i?"#2f99ea4a":"#2c2cf341",color:i?"#572be8f0":"#c8c2feed",height:"1.8rem",width:"1.8rem"},className:"btn d-flex align-items-center justify-content-center mr-3 rounded-5 p-0",href:e.attachments,download:!0,children:Object(O.jsx)($.j,{className:"fs-5"})}),"hr"!==l&&"manager"!==l||e.creator!==c?"admin"===l?Object(O.jsx)(x.B,{title:"Remove Notice",style:{background:i?"#ea2f2f49":"#f32c2c41",color:i?"#e82b2bef":"#fc6b6bec",height:"1.8rem",width:"1.8rem"},className:"btn d-flex align-items-center justify-content-center rounded-5 p-0",onClick:t=>{t.stopPropagation(),u(e._id,e.creator)}}):null:Object(O.jsx)(x.B,{title:"Remove Notice",style:{background:i?"#ea2f2f49":"#f32c2c41",color:i?"#e82b2bef":"#fc6b6bec",height:"1.8rem",width:"1.8rem"},className:"btn d-flex align-items-center justify-content-center rounded-5 p-0",onClick:t=>{t.stopPropagation(),u(e._id,e.creator)}})]})]})]}),Object(O.jsx)("div",{style:{color:i?"black":"white"},dangerouslySetInnerHTML:{__html:e.notice}})]})},e.noticeId)))}):Object(O.jsxs)("div",{className:"d-flex flex-column gap-3 align-items-center justify-content-center",style:{height:"80vh"},children:[Object(O.jsx)("img",{style:{width:"15rem",height:"auto"},src:Ge,alt:"No task found"}),Object(O.jsx)("p",{style:{color:i?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:"There is no notice found at this moment."})]})]})};var qs=e=>{const t=Object(o.n)().pathname.split("/")[1],{userData:a}=Object(P.c)((e=>e.user)),l=null===a||void 0===a?void 0:a._id,c=null===a||void 0===a?void 0:a.Email,[r,n]=Object(s.useState)([]),[i,j]=Object(s.useState)({requestedBy:c,to:"",cc:[],subject:"",remark:"",priority:"Medium"}),[m,h]=Object(s.useState)(""),{darkMode:b}=g();Object(s.useEffect)((()=>{d.a.post(`${E}/api/managersMailsList`,{status:t,email:c},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data.managers.map((e=>({value:e.Email,label:e.Email})));n([{value:"select_all",label:"Select All"},...t]),j((t=>({...t,to:e.data.reportManager})))})).catch((e=>{console.error("Error loading employee data",e)}))}),[l]);const u=e=>{const{name:t,value:a}=e.target;j((e=>({...e,[t]:a})))},p=[{value:"Urgent",label:"Urgent"},{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],x={menu:e=>({...e,maxHeight:"400px",overflowY:"auto"}),menuPortal:e=>({...e,zIndex:9999})};return Object(O.jsxs)("div",{style:{color:b?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)",maxHeight:"85vh",overflow:"auto"},className:"container-fluid py-2",children:[Object(O.jsx)(ma,{title:"Create Request",message:"You can create a new request here."}),Object(O.jsxs)("form",{className:"py-4 rounded row",onSubmit:e=>{e.preventDefault(),d.a.post(`${E}/api/request`,i,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{h("Ticket successfully raised"),j((e=>({...e,cc:[],subject:"",remark:"",priority:"Medium"}))),console.log("Request submitted successfully")})).catch((e=>{console.error("Error submitting request",e)}))},children:[Object(O.jsxs)("div",{className:"mb-3 col-12",children:[Object(O.jsx)("label",{htmlFor:"to",className:"form-label",children:"To"}),Object(O.jsx)("input",{type:"text",className:"form-control rounded-0",id:"to",name:"to",value:i.to,required:!0,disabled:!0})]}),Object(O.jsxs)("div",{className:"mb-3 col-12",children:[Object(O.jsx)("label",{htmlFor:"cc",className:"form-label",children:"CC"}),Object(O.jsx)(Ls.a,{id:"cc",name:"cc",value:i.cc,onChange:e=>{if(e.some((e=>"select_all"===e.value))){const e=r.filter((e=>"select_all"!==e.value));j({...i,cc:e}),n(e)}else{j({...i,cc:e});e.length===r.length-1||n((e=>[{value:"select_all",label:"Select All"},...e.filter((e=>"select_all"!==e.value))]))}},options:r,isMulti:!0,closeMenuOnSelect:!1,isClearable:!0,styles:x,menuPlacement:"bottom",menuPortalTarget:document.body})]}),Object(O.jsxs)("div",{className:"mb-3 col-12",children:[Object(O.jsx)("label",{htmlFor:"subject",className:"form-label",children:"Subject"}),Object(O.jsx)("input",{type:"text",className:"form-control rounded-0",id:"subject",name:"subject",value:i.subject,onChange:u,required:!0})]}),Object(O.jsxs)("div",{className:"mb-3 col-12",children:[Object(O.jsx)("label",{htmlFor:"remark",className:"form-label",children:"Remark"}),Object(O.jsx)("textarea",{className:"form-control rounded-0",id:"remark",name:"remark",value:i.remark,onChange:u,required:!0,placeholder:"Please provide remarks"})]}),Object(O.jsxs)("div",{className:"mb-3 col-12",children:[Object(O.jsx)("label",{htmlFor:"priority",className:"form-label",children:"Priority"}),Object(O.jsx)(Ls.a,{id:"priority",name:"priority",value:p.find((e=>e.value===i.priority)),onChange:e=>{j((t=>({...t,priority:e.value})))},options:p,styles:x,menuPlacement:"bottom",menuPortalTarget:document.body})]}),Object(O.jsx)("div",{className:"d-flex align-items-center gap-3",children:Object(O.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Raise Ticket"})})]}),m&&Object(O.jsx)("div",{className:"mt-4 alert alert-success",children:m})]})},Bs=a(54),_s=a.p+"static/media/Request.d5fd8610.svg";var Hs=()=>{var e,t;const{userData:a}=Object(P.c)((e=>e.user)),l=null===a||void 0===a?void 0:a.Email,[c,r]=Object(s.useState)([]),{darkMode:n}=g(),[o,i]=Object(s.useState)(!1),[j,m]=Object(s.useState)({id:"",remark:"",updatedBy:l,status:""}),[h,b]=Object(s.useState)(null),u=null===a||void 0===a?void 0:a.Email,p=async()=>{try{const e=await d.a.post(`${E}/api/requestRaised`,{email:l},{headers:{authorization:localStorage.getItem("token")||""}}),t=e.data.filter((e=>"Pending"===e.status));r(t)}catch(e){console.error("Error loading request data",e)}};Object(s.useEffect)((()=>{p()}),[l]);const x=()=>i(!1),v=e=>{m((t=>({...t,id:e._id,status:"Close"===e.status?"Pending":"Close"}))),i(!0)},y=e=>{var t,a,s,l,c,r,n;if(!h)return null;if(e===(null===h||void 0===h||null===(t=h.to)||void 0===t?void 0:t.email))return null!==(l=h.to)&&void 0!==l&&l.profilePhoto?null===(c=h.to)||void 0===c?void 0:c.profilePhoto:w;if(e===(null===h||void 0===h||null===(a=h.requestedBy)||void 0===a?void 0:a.email))return null!==(r=h.requestedBy)&&void 0!==r&&r.profilePhoto?null===(n=h.requestedBy)||void 0===n?void 0:n.profilePhoto:w;const o=null===h||void 0===h||null===(s=h.cc)||void 0===s?void 0:s.find((t=>t.email===e));return o&&o.profilePhoto?o.profilePhoto:w};return Object(O.jsxs)("div",{style:{height:"90vh",overflow:"hidden"},className:"container-fluid py-2",children:[c.length>0?Object(O.jsxs)("div",{style:{height:"88vh",overflow:"auto"},className:"row mx-auto",children:[Object(O.jsxs)("h5",{className:"my-2 mb-3",style:{color:n?"gray":"white",fontWeight:600},children:["Pending Request's ( ",c.length," )"]}),Object(O.jsx)("div",{style:{height:"86vh",overflow:"auto"},className:"col-12 col-md-6 col-lg-3 pb-3 mb-5",children:Object(O.jsx)("div",{className:"d-flex flex-column gap-2",children:c.slice().reverse().map((e=>Object(O.jsx)("div",{className:"",children:Object(O.jsx)("div",{className:"card border-0 shadow-sm",onClick:()=>b(e),role:"button",style:{backgroundColor:(null===h||void 0===h?void 0:h._id)===e._id?n?"rgba(40, 67, 135, .3)":"rgba(1, 1, 122,.5)":n?"white":"black",color:n?"black":"white",color:n?"black":"white"},children:Object(O.jsx)("div",{className:"py-1 px-2",children:Object(O.jsxs)("div",{className:"d-flex flex-column gap-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("span",{className:"badge-primary",children:e.ticketID}),Object(O.jsx)("p",{className:"mb-1",children:Je(e.createdAt)})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("img",{className:"rounded-circle me-2",src:e.requestedBy.profilePhoto?e.requestedBy.profilePhoto:w,alt:"",style:{height:"30px",width:"30px"}}),Object(O.jsx)("span",{children:e.requestedBy.email})]}),Object(O.jsx)("h6",{className:"my-1 mb-2 ellipsis",children:e.subject}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2 my-1",children:[Object(O.jsx)("span",{className:""+("Pending"===e.status?"badge-success":"badge-danger"),children:e.status}),Object(O.jsx)("span",{className:"badge bg-danger",children:e.priority}),Object(O.jsx)("span",{className:"badge bg-warning text-dark",children:e.department})]})]})})})},e._id)))})}),Object(O.jsx)("div",{className:"col-12 col-md-6 col-lg-9 pb-3",children:Object(O.jsx)("div",{className:"d-flex flex-column gap-2",children:h&&Object(O.jsx)("div",{className:"rounded-3 shadow-sm p-3",style:{height:"85vh",overflow:"auto",backgroundColor:n?"white":"black",color:n?"black":"white"},children:Object(O.jsxs)("div",{className:"task-hover-effect p-2",children:[Object(O.jsx)("div",{className:"d-flex align-items-center justify-content-between",children:Object(O.jsx)("span",{className:"badge-primary",children:h.ticketID})}),Object(O.jsx)("h5",{className:"text-capitalize my-2",children:h.subject}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2 my-1",children:[Object(O.jsx)("span",{className:""+("Pending"===h.status?"badge-success":"badge-danger"),children:h.status}),Object(O.jsx)("span",{className:"badge bg-danger",children:h.priority}),Object(O.jsx)("span",{className:"badge bg-warning text-dark",children:h.department})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("img",{className:"rounded-circle me-2",src:h.requestedBy.profilePhoto?h.requestedBy.profilePhoto:w,alt:"",style:{height:"30px",width:"30px"}}),Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:h.requestedBy.email})," ",Object(O.jsx)("p",{className:" mb-1",children:Je(h.createdAt)})]})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-3 mt-2",children:[Object(O.jsx)("div",{style:{height:"1.8rem",width:"1.8rem"},className:"d-flex align-items-center justify-content-center rounded-3 shadow-sm",children:"To"}),Object(O.jsx)("p",{className:"m-0",children:h.to.email})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-3 mb-3",children:[Object(O.jsx)("div",{style:{height:"1.8rem",width:"1.8rem"},className:"d-flex align-items-center justify-content-center rounded-3 shadow-sm",children:"CC"}),Object(O.jsx)("p",{className:"m-0 ",children:null===(e=h.cc)||void 0===e?void 0:e.map((e=>e.email)).join(", ")})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{style:{fontWeight:600},children:"Request"}),Object(O.jsx)("p",{children:h.remark})]}),Object(O.jsx)("hr",{}),(null===(t=h.reOpen)||void 0===t?void 0:t.length)>0&&Object(O.jsxs)("div",{className:"mt-3",children:[Object(O.jsx)("h6",{style:{fontWeight:600},children:"Request Updates"}),h.reOpen.map(((e,t)=>Object(O.jsxs)("div",{className:""+(e.updatedBy===u?"mt-2 p-y-1 px-3 shadow-sm border rounded-3 ms-start":"mt-2 p-y-1 px-3 shadow-sm border rounded-3 ms-auto"),style:{width:"fit-content "},children:[Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{style:{fontWeight:600},children:"Message"})," ",e.remark]}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("img",{className:"rounded-circle me-2",src:y(e.updatedBy),alt:"",style:{height:"30px",width:"30px"}}),Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:e.updatedBy})," ",Object(O.jsx)("p",{className:" mb-1",children:Je(e.updatedAt)})]})]})]},t)))]}),Object(O.jsx)("div",{className:"text-start mt-3",children:"Pending"===h.status?Object(O.jsx)(xt.a,{variant:"primary",onClick:()=>v(h),children:"Close"}):"Close"===h.status?Object(O.jsx)(xt.a,{variant:"secondary",onClick:()=>v(h),disabled:(e=>{if(console.log(e),e){const t=is()(e.updatedAt);return is()().diff(t,"hours")>72}})(h.reOpen[h.reOpen.length-1]),children:"Reopen"}):null})]})},h._id)})})]}):Object(O.jsxs)("div",{className:"d-flex flex-column gap-3 align-items-center justify-content-center",style:{height:"80vh"},children:[Object(O.jsx)("img",{style:{width:"20rem",height:"auto"},src:_s,alt:"No Request found"}),Object(O.jsx)("p",{style:{color:n?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:"There is no request found at this moment."})]}),Object(O.jsxs)(Bs.a,{show:o,onHide:x,children:[Object(O.jsx)(Bs.a.Header,{closeButton:!0,children:Object(O.jsx)(Bs.a.Title,{children:"Add Remark"})}),Object(O.jsx)(Bs.a.Body,{children:Object(O.jsx)(M.a,{children:Object(O.jsxs)(M.a.Group,{controlId:"remark",children:[Object(O.jsx)(M.a.Label,{children:"Remark"}),Object(O.jsx)(M.a.Control,{as:"textarea",rows:3,value:j.remark,onChange:e=>m((t=>({...t,remark:e.target.value})))})]})})}),Object(O.jsxs)(Bs.a.Footer,{children:[Object(O.jsx)(xt.a,{variant:"secondary",onClick:x,children:"Close"}),Object(O.jsx)(xt.a,{variant:"primary",onClick:()=>{d.a.post(`${E}/api/updateRequest`,j,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{console.log("done"),c.forEach((e=>{e._id===j.id&&(e.status=j.status,e.reOpen.push({remark:j.remark,updatedBy:l,updatedAt:new Date}))})),m({id:"",remark:"",updatedBy:l,status:""}),S.a.success(`Request is ${j.status}`),p()})).catch((e=>{S.a.error("Error updating request data"),console.error("Error updating request data",e)})),x()},children:"Save Changes"})]})]})]})};var Us=()=>{var e,t;const{userData:a}=Object(P.c)((e=>e.user)),l=null===a||void 0===a?void 0:a.Email,[c,r]=Object(s.useState)([]),{darkMode:n}=g(),[o,i]=Object(s.useState)(!1),[j,m]=Object(s.useState)({id:"",remark:"",updatedBy:l,status:""}),[h,b]=Object(s.useState)(null),u=null===a||void 0===a?void 0:a.Email,p=async()=>{try{const e=await d.a.post(`${E}/api/requestRaised`,{email:l},{headers:{authorization:localStorage.getItem("token")||""}}),t=e.data.filter((e=>"Close"===e.status));r(t)}catch(e){console.error("Error loading request data",e)}};Object(s.useEffect)((()=>{p()}),[l]);const x=()=>i(!1),v=e=>{m((t=>({...t,id:e._id,status:"Close"===e.status?"Pending":"Close"}))),i(!0)},y=e=>{var t,a,s,l,c,r,n;if(!h)return null;if(e===(null===h||void 0===h||null===(t=h.to)||void 0===t?void 0:t.email))return null!==(l=h.to)&&void 0!==l&&l.profilePhoto?null===(c=h.to)||void 0===c?void 0:c.profilePhoto:w;if(e===(null===h||void 0===h||null===(a=h.requestedBy)||void 0===a?void 0:a.email))return null!==(r=h.requestedBy)&&void 0!==r&&r.profilePhoto?null===(n=h.requestedBy)||void 0===n?void 0:n.profilePhoto:w;const o=null===h||void 0===h||null===(s=h.cc)||void 0===s?void 0:s.find((t=>t.email===e));return o&&o.profilePhoto?o.profilePhoto:w};return Object(O.jsxs)("div",{style:{height:"90vh",overflow:"hidden"},className:"container-fluid py-2",children:[c.length>0?Object(O.jsxs)("div",{style:{height:"88vh",overflow:"auto"},className:"row mx-auto ",children:[Object(O.jsxs)("h5",{className:"my-2 mb-3",style:{color:n?"gray":"white",fontWeight:600},children:["Pending Request's ( ",c.length," )"]}),Object(O.jsx)("div",{style:{height:"86vh",overflow:"auto"},className:"col-12 col-md-6 col-lg-3 pb-3 mb-5",children:Object(O.jsx)("div",{className:"d-flex flex-column gap-2",children:c.slice().reverse().map((e=>Object(O.jsx)("div",{className:"",children:Object(O.jsx)("div",{className:"card border-0 shadow-sm",onClick:()=>b(e),role:"button",style:{backgroundColor:(null===h||void 0===h?void 0:h._id)===e._id?n?"rgba(40, 67, 135, .3)":"rgba(1, 1, 122,.5)":n?"white":"black",color:n?"black":"white",color:n?"black":"white",color:n?"black":"white"},children:Object(O.jsx)("div",{className:"py-1 px-2",children:Object(O.jsxs)("div",{className:"d-flex flex-column gap-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("span",{className:"badge-primary",children:e.ticketID}),Object(O.jsx)("p",{className:"mb-1",children:Je(e.createdAt)})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("img",{className:"rounded-circle me-2",src:e.requestedBy.profilePhoto?e.requestedBy.profilePhoto:w,alt:"",style:{height:"30px",width:"30px"}}),Object(O.jsx)("span",{children:e.requestedBy.email})]}),Object(O.jsx)("h6",{className:"my-1 mb-2 ellipsis",children:e.subject}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2 my-1",children:[Object(O.jsx)("span",{className:""+("Pending"===e.status?"badge-success":"badge-danger"),children:e.status}),Object(O.jsx)("span",{className:"badge bg-danger",children:e.priority}),Object(O.jsx)("span",{className:"badge bg-warning text-dark",children:e.department})]})]})})})},e._id)))})}),Object(O.jsx)("div",{className:"col-12 col-md-6 col-lg-9 pb-3",children:Object(O.jsx)("div",{className:"d-flex flex-column gap-2",children:h&&Object(O.jsx)("div",{className:"rounded-3 shadow-sm p-3",style:{height:"85vh",overflow:"auto",backgroundColor:n?"white":"black",color:n?"black":"white"},children:Object(O.jsxs)("div",{className:"task-hover-effect p-2",children:[Object(O.jsx)("div",{className:"d-flex align-items-center justify-content-between",children:Object(O.jsx)("span",{className:"badge-primary",children:h.ticketID})}),Object(O.jsx)("h5",{className:"text-capitalize my-2",children:h.subject}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2 my-1",children:[Object(O.jsx)("span",{className:""+("Pending"===h.status?"badge-success":"badge-danger"),children:h.status}),Object(O.jsx)("span",{className:"badge bg-danger",children:h.priority}),Object(O.jsx)("span",{className:"badge bg-warning text-dark",children:h.department})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("img",{className:"rounded-circle me-2",src:h.requestedBy.profilePhoto?h.requestedBy.profilePhoto:w,alt:"",style:{height:"30px",width:"30px"}}),Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:h.requestedBy.email})," ",Object(O.jsx)("p",{className:" mb-1",children:Je(h.createdAt)})]})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-3 mt-2",children:[Object(O.jsx)("div",{style:{height:"1.8rem",width:"1.8rem"},className:"d-flex align-items-center justify-content-center rounded-3 shadow-sm",children:"To"}),Object(O.jsx)("p",{className:"m-0",children:h.to.email})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-3 mb-3",children:[Object(O.jsx)("div",{style:{height:"1.8rem",width:"1.8rem"},className:"d-flex align-items-center justify-content-center rounded-3 shadow-sm",children:"CC"}),Object(O.jsx)("p",{className:"m-0 ",children:null===(e=h.cc)||void 0===e?void 0:e.map((e=>e.email)).join(", ")})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{style:{fontWeight:600},children:"Request"}),Object(O.jsx)("p",{children:h.remark})]}),Object(O.jsx)("hr",{}),(null===(t=h.reOpen)||void 0===t?void 0:t.length)>0&&Object(O.jsxs)("div",{className:"mt-3",children:[Object(O.jsx)("h6",{style:{fontWeight:600},children:"Request Updates"}),h.reOpen.map(((e,t)=>Object(O.jsxs)("div",{className:""+(e.updatedBy===u?"mt-2 p-y-1 px-3 shadow-sm border rounded-3 ms-start":"mt-2 p-y-1 px-3 shadow-sm border rounded-3 ms-auto"),style:{width:"fit-content "},children:[Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{style:{fontWeight:600},children:"Message"})," ",e.remark]}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("img",{className:"rounded-circle me-2",src:y(e.updatedBy),alt:"",style:{height:"30px",width:"30px"}}),Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:e.updatedBy})," ",Object(O.jsx)("p",{className:" mb-1",children:Je(e.updatedAt)})]})]})]},t)))]}),Object(O.jsx)("div",{className:"text-start mt-3",children:"Pending"===h.status?Object(O.jsx)(xt.a,{variant:"primary",onClick:()=>v(h),children:"Close"}):"Close"===h.status?Object(O.jsx)(xt.a,{variant:"secondary",onClick:()=>v(h),disabled:(e=>{if(e){const t=is()(e.updatedAt);return is()().diff(t,"hours")>72}})(h.reOpen[h.reOpen.length-1]),children:"Reopen"}):null})]})},h._id)})})]}):Object(O.jsxs)("div",{className:"d-flex flex-column gap-3 align-items-center justify-content-center",style:{height:"80vh"},children:[Object(O.jsx)("img",{style:{width:"20rem",height:"auto"},src:_s,alt:"No Request found"}),Object(O.jsx)("p",{style:{color:n?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:"There is no request found at this moment."})]}),Object(O.jsxs)(Bs.a,{show:o,onHide:x,children:[Object(O.jsx)(Bs.a.Header,{closeButton:!0,children:Object(O.jsx)(Bs.a.Title,{children:"Add Remark"})}),Object(O.jsx)(Bs.a.Body,{children:Object(O.jsx)(M.a,{children:Object(O.jsxs)(M.a.Group,{controlId:"remark",children:[Object(O.jsx)(M.a.Label,{children:"Remark"}),Object(O.jsx)(M.a.Control,{as:"textarea",rows:3,value:j.remark,onChange:e=>m((t=>({...t,remark:e.target.value})))})]})})}),Object(O.jsxs)(Bs.a.Footer,{children:[Object(O.jsx)(xt.a,{variant:"secondary",onClick:x,children:"Close"}),Object(O.jsx)(xt.a,{variant:"primary",onClick:()=>{d.a.post(`${E}/api/updateRequest`,j,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{c.forEach((e=>{e._id===j.id&&(e.status=j.status,e.reOpen.push({remark:j.remark,updatedBy:l,updatedAt:new Date}))})),m({id:"",remark:"",updatedBy:l,status:""}),S.a.success(`Request is ${j.status}`),p()})).catch((e=>{S.a.error("Error updating request data"),console.error("Error updating request data",e)})),x()},children:"Save Changes"})]})]})]})};var Ws=()=>{var e,t;const{userData:a}=Object(P.c)((e=>e.user)),l=null===a||void 0===a?void 0:a.Email,[c,r]=Object(s.useState)([]),[n,o]=Object(s.useState)(!0),[i,j]=Object(s.useState)(null),{darkMode:m}=g(),[h,b]=Object(s.useState)(!1),[u,p]=Object(s.useState)({id:"",remark:"",updatedBy:l,status:""}),[x,v]=Object(s.useState)(null),y=null===a||void 0===a?void 0:a.Email,f=async()=>{o(!0);try{const e=(await d.a.post(`${E}/api/requestList`,{email:l},{headers:{authorization:localStorage.getItem("token")||""}})).data;console.log(e),r(e);const t=e.filter((e=>"Pending"===e.status));t.length>0&&v(t[t.length-1])}catch(i){j("Error loading request data")}finally{o(!1)}};Object(s.useEffect)((()=>{f()}),[l]);const N=()=>b(!1),D=e=>{var t,a,s,l,c,r,n;if(!x)return null;if(e===(null===x||void 0===x||null===(t=x.to)||void 0===t?void 0:t.email))return null!==(l=x.to)&&void 0!==l&&l.profilePhoto?null===(c=x.to)||void 0===c?void 0:c.profilePhoto:w;if(e===(null===x||void 0===x||null===(a=x.requestedBy)||void 0===a?void 0:a.email))return null!==(r=x.requestedBy)&&void 0!==r&&r.profilePhoto?null===(n=x.requestedBy)||void 0===n?void 0:n.profilePhoto:w;const o=null===x||void 0===x||null===(s=x.cc)||void 0===s?void 0:s.find((t=>t.email===e));return o&&o.profilePhoto?o.profilePhoto:w},k=c.filter((e=>"Pending"===e.status));return Object(O.jsxs)("div",{style:{height:"90vh",overflow:"hidden"},className:"container-fluid py-2",children:[k.length>0?Object(O.jsxs)("div",{style:{height:"88vh",overflow:"auto"},className:"row mx-auto",children:[Object(O.jsxs)("div",{style:{maxHeight:"86vh",overflow:"auto"},className:"col-12 col-md-6 col-lg-3 pb-3 mb-5",children:[Object(O.jsxs)("h5",{className:"my-2 mb-3",style:{color:m?"gray":"white"},children:["Open Requests (",k.length,")"]}),Object(O.jsx)("div",{className:"d-flex  flex-column gap-2",children:k.slice().reverse().map((e=>{var t,a;return Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"card task-hover-effect border-0 shadow-sm",onClick:()=>v(e),role:"button",style:{backgroundColor:(null===x||void 0===x?void 0:x._id)===e._id?m?"rgba(40, 67, 135, .3)":"rgba(1, 1, 122,.5)":m?"white":"black",color:m?"black":"white",color:m?"black":"white",color:m?"black":"white"},children:Object(O.jsxs)("div",{className:"py-1 px-2",children:[Object(O.jsx)("div",{className:"d-flex justify-content-between align-items-center"}),Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsxs)("div",{className:"d-flex flex-column gap-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("span",{className:"badge-primary",children:e.ticketID}),Object(O.jsx)("p",{className:"mb-1",children:Je(e.createdAt)})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("img",{className:"rounded-circle me-2",src:null===e||void 0===e||null===(t=e.requestedBy)||void 0===t?void 0:t.profilePhoto,alt:"",style:{height:"30px",width:"30px"}}),Object(O.jsx)("span",{children:null===e||void 0===e||null===(a=e.requestedBy)||void 0===a?void 0:a.email})]})]}),Object(O.jsx)("h6",{className:"my-1 mb-2 ellipsis",children:e.subject}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2 my-1",children:[Object(O.jsx)("span",{className:""+("Pending"===e.status?"badge-success":"badge-danger"),children:e.status}),Object(O.jsx)("span",{className:"badge bg-danger",children:e.priority}),Object(O.jsx)("span",{className:"badge bg-warning text-dark",children:e.department})]})]})]})})},e._id)}))})]}),Object(O.jsx)("div",{className:"col-12 col-md-6 col-lg-9 p-3 pb-3",children:x&&Object(O.jsxs)("div",{className:"border rounded-3 shadow-sm p-3",style:{height:"85vh",overflow:"auto",backgroundColor:m?"white":"black",color:m?"black":"white"},children:[Object(O.jsx)("div",{className:"d-flex align-items-center justify-content-between",children:Object(O.jsx)("span",{className:"badge-primary",children:x.ticketID})}),Object(O.jsx)("h5",{className:"text-capitalize my-2",children:x.subject}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2 my-1",children:[Object(O.jsx)("span",{className:""+("Pending"===x.status?"badge-success":"badge-danger"),children:x.status}),Object(O.jsx)("span",{className:"badge bg-danger",children:x.priority}),Object(O.jsx)("span",{className:"badge bg-warning text-dark",children:x.department})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("img",{className:"rounded-circle me-2",src:x.requestedBy.profilePhoto,alt:"",style:{height:"30px",width:"30px"}}),Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:x.requestedBy.email})," ",Object(O.jsx)("p",{className:"mb-1",children:Je(x.createdAt)})]})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-3 mt-2",children:[Object(O.jsx)("div",{style:{height:"1.8rem",width:"1.8rem"},className:"d-flex align-items-center justify-content-center rounded-3 shadow-sm",children:"To"}),Object(O.jsx)("p",{className:"m-0",children:x.to.email})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-3 mb-3",children:[Object(O.jsx)("div",{style:{height:"1.8rem",width:"1.8rem"},className:"d-flex align-items-center justify-content-center rounded-3 shadow-sm",children:"CC"}),Object(O.jsx)("p",{className:"m-0 ",children:null===x||void 0===x||null===(e=x.cc)||void 0===e?void 0:e.map((e=>e.email)).join(", ")})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{style:{fontWeight:600},children:"Request"}),Object(O.jsx)("p",{children:x.remark})]}),Object(O.jsx)("hr",{}),(null===(t=x.reOpen)||void 0===t?void 0:t.length)>0&&Object(O.jsxs)("div",{className:"mt-3",children:[Object(O.jsx)("h6",{style:{fontWeight:600},children:"Request Updates"}),x.reOpen.map(((e,t)=>Object(O.jsxs)("div",{className:""+(e.updatedBy===y?"mt-2 p-y-1 px-3 shadow-sm border rounded-3 ms-start":"mt-2 p-y-1 px-3 shadow-sm border rounded-3 ms-auto"),style:{width:"fit-content "},children:[Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{style:{fontWeight:600},children:"Message"})," ",e.remark]}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("img",{className:"rounded-circle me-2",src:D(e.updatedBy),alt:"",style:{height:"30px",width:"30px"}}),Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:e.updatedBy})," ",Object(O.jsx)("p",{className:"mb-1",children:Je(e.updatedAt)})]})]})]},t)))]}),Object(O.jsx)("div",{className:"text-start mt-3",children:Object(O.jsx)(xt.a,{variant:"primary",onClick:()=>{var e;"Pending"===(e=x).status&&(p((t=>({...t,id:e._id,status:"Pending"===e.status?"Close":"Pending"}))),b(!0))},disabled:"Close"===x.status,children:"Close"})})]})})]}):Object(O.jsxs)("div",{className:"d-flex flex-column gap-3 align-items-center justify-content-center",style:{height:"80vh"},children:[Object(O.jsx)("img",{style:{width:"20rem",height:"auto"},src:_s,alt:"No Request found"}),Object(O.jsx)("p",{style:{color:m?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:"There is no request found at this moment."})]}),Object(O.jsxs)(Bs.a,{show:h,onHide:N,children:[Object(O.jsx)(Bs.a.Header,{closeButton:!0,children:Object(O.jsx)(Bs.a.Title,{children:"Add Remark"})}),Object(O.jsx)(Bs.a.Body,{children:Object(O.jsx)(M.a,{children:Object(O.jsxs)(M.a.Group,{controlId:"remark",children:[Object(O.jsx)(M.a.Label,{children:"Remark"}),Object(O.jsx)(M.a.Control,{as:"textarea",rows:3,value:u.remark,onChange:e=>p((t=>({...t,remark:e.target.value})))})]})})}),Object(O.jsxs)(Bs.a.Footer,{children:[Object(O.jsx)(xt.a,{variant:"secondary",onClick:N,children:"Close"}),Object(O.jsx)(xt.a,{variant:"primary",onClick:()=>{d.a.post(`${E}/api/updateRequest`,u,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{r((e=>e.map((e=>e._id===u.id?{...e,status:u.status,reOpen:[...e.reOpen,{remark:u.remark,updatedBy:l}]}:e)))),p({id:"",remark:"",updatedBy:l,status:""}),S.a.success(`Request is ${u.status}`),f()})).catch((e=>{S.a.success("rror updating request data"),console.error("Error updating request data",e)})),N()},children:"Save Changes"})]})]})]})};var Gs=()=>{var e,t,a;const{userData:l}=Object(P.c)((e=>e.user)),c=null===l||void 0===l?void 0:l.Email,[r,n]=Object(s.useState)([]),[o,i]=Object(s.useState)(!0),[j,m]=Object(s.useState)(null),{darkMode:h}=g(),[b,u]=Object(s.useState)(!1),[p,x]=Object(s.useState)({id:"",remark:"",updatedBy:c,status:""}),[v,y]=Object(s.useState)(null),f=null===l||void 0===l?void 0:l.Email,N=async()=>{i(!0);try{const e=(await d.a.post(`${E}/api/requestList`,{email:c},{headers:{authorization:localStorage.getItem("token")||""}})).data;n(e);const t=e.filter((e=>"Close"===e.status));t.length>0&&y(t[t.length-1])}catch(j){m("Error loading request data")}finally{i(!1)}};Object(s.useEffect)((()=>{N()}),[c]);const D=()=>u(!1),k=e=>{var t,a,s,l,c,r,n;if(!v)return null;if(e===(null===v||void 0===v||null===(t=v.to)||void 0===t?void 0:t.email))return null!==(l=v.to)&&void 0!==l&&l.profilePhoto?null===(c=v.to)||void 0===c?void 0:c.profilePhoto:w;if(e===(null===v||void 0===v||null===(a=v.requestedBy)||void 0===a?void 0:a.email))return null!==(r=v.requestedBy)&&void 0!==r&&r.profilePhoto?null===(n=v.requestedBy)||void 0===n?void 0:n.profilePhoto:w;const o=null===v||void 0===v||null===(s=v.cc)||void 0===s?void 0:s.find((t=>t.email===e));return o&&o.profilePhoto?o.profilePhoto:w},C=r.filter((e=>"Close"===e.status));return Object(O.jsxs)("div",{style:{height:"90vh",overflow:"hidden"},className:"container-fluid py-2",children:[C.length>0?Object(O.jsxs)("div",{style:{height:"88vh",overflow:"auto"},className:"row mx-auto",children:[Object(O.jsxs)("div",{style:{height:"86vh",overflow:"auto"},className:"col-12 col-md-6 col-lg-3 pb-3 mb-5",children:[Object(O.jsxs)("h5",{className:"my-2 mb-3",style:{color:h?"gray":"white"},children:["Closed Request's (",C.length,")"]}),Object(O.jsx)("div",{className:"d-flex  flex-column gap-2",children:C.slice().reverse().map((e=>Object(O.jsx)("div",{className:"",children:Object(O.jsx)("div",{className:"card border-0 shadow-sm",onClick:()=>y(e),role:"button",style:{backgroundColor:(null===v||void 0===v?void 0:v._id)===e._id?h?"rgba(40, 67, 135, .3)":"rgba(1, 1, 122,.5)":h?"white":"black",color:h?"black":"white",color:h?"black":"white",color:h?"black":"white"},children:Object(O.jsxs)("div",{className:"py-1 px-2",children:[Object(O.jsx)("div",{className:"d-flex justify-content-between align-items-center"}),Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsxs)("div",{className:"d-flex flex-column gap-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("span",{className:"badge-primary",children:e.ticketID}),Object(O.jsx)("p",{className:"mb-1",children:Je(e.createdAt)})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("img",{className:"rounded-circle me-2",src:e.requestedBy.profilePhoto,alt:"",style:{height:"30px",width:"30px"}}),Object(O.jsx)("span",{children:e.requestedBy.email})]})]}),Object(O.jsx)("h6",{className:"my-1 mb-2 ellipsis",children:e.subject}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2 my-1",children:[Object(O.jsx)("span",{className:""+("Pending"===e.status?"badge-success":"badge-danger"),children:e.status}),Object(O.jsx)("span",{className:"badge bg-danger",children:e.priority}),Object(O.jsx)("span",{className:"badge bg-warning text-dark",children:e.department})]})]})]})})},e._id)))})]}),Object(O.jsx)("div",{className:"col-12 col-md-6 col-lg-9 p-3 pb-3",children:v&&Object(O.jsxs)("div",{className:"rounded-3 shadow-sm p-3",style:{height:"85vh",overflow:"auto",backgroundColor:h?"white":"black",color:h?"black":"white"},children:[Object(O.jsx)("div",{className:"d-flex align-items-center justify-content-between",children:Object(O.jsx)("span",{className:"badge-primary",children:v.ticketID})}),Object(O.jsx)("h5",{className:"text-capitalize my-2",children:v.subject}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2 my-1",children:[Object(O.jsx)("span",{className:""+("Pending"===v.status?"badge-success":"badge-danger"),children:v.status}),Object(O.jsx)("span",{className:"badge bg-danger",children:v.priority}),Object(O.jsx)("span",{className:"badge bg-warning text-dark",children:v.department})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("img",{className:"rounded-circle me-2",src:null===v||void 0===v||null===(e=v.requestedBy)||void 0===e?void 0:e.profilePhoto,alt:"",style:{height:"30px",width:"30px"}}),Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:v.requestedBy.email})," ",Object(O.jsx)("p",{className:" mb-1",children:Je(v.createdAt)})]})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-3 mt-2",children:[Object(O.jsx)("div",{style:{height:"1.8rem",width:"1.8rem"},className:"d-flex align-items-center justify-content-center rounded-3 shadow-sm",children:"To"}),Object(O.jsx)("p",{className:"m-0",children:v.to.email})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-3 mb-3",children:[Object(O.jsx)("div",{style:{height:"1.8rem",width:"1.8rem"},className:"d-flex align-items-center justify-content-center rounded-3 shadow-sm",children:"CC"}),Object(O.jsx)("p",{className:"m-0 ",children:null===(t=v.cc)||void 0===t?void 0:t.map((e=>e.email)).join(", ")})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{style:{fontWeight:600},children:"Request"}),Object(O.jsx)("p",{children:v.remark})]}),Object(O.jsx)("hr",{}),(null===(a=v.reOpen)||void 0===a?void 0:a.length)>0&&Object(O.jsxs)("div",{className:"mt-3",children:[Object(O.jsx)("h6",{style:{fontWeight:600},children:"Request Updates"}),v.reOpen.map(((e,t)=>Object(O.jsxs)("div",{className:""+(e.updatedBy===f?"mt-2 p-y-1 px-3 shadow-sm border rounded-3 ms-start":"mt-2 p-y-1 px-3 shadow-sm border rounded-3 ms-auto"),style:{width:"fit-content "},children:[Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{style:{fontWeight:600},children:"Message"})," ",e.remark]}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("img",{className:"rounded-circle me-2",src:k(e.updatedBy),alt:"",style:{height:"30px",width:"30px"}}),Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:e.updatedBy})," ",Object(O.jsx)("p",{className:" mb-1",children:Je(e.updatedAt)})]})]})]},t)))]}),Object(O.jsx)("div",{className:"text-start mt-3",children:Object(O.jsx)(xt.a,{variant:"primary",onClick:()=>{var e;"Close"===(e=v).status&&(x((t=>({...t,id:e._id,status:"Close"===e.status?"Pending":"Close"}))),u(!0))},disabled:"Close"===v.status,children:"Close"})})]})})]}):Object(O.jsxs)("div",{className:"d-flex flex-column gap-3 align-items-center justify-content-center",style:{height:"80vh"},children:[Object(O.jsx)("img",{style:{width:"20rem",height:"auto"},src:_s,alt:"No Request found"}),Object(O.jsx)("p",{style:{color:h?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:"There is no request found at this moment."})]}),Object(O.jsxs)(Bs.a,{show:b,onHide:D,children:[Object(O.jsx)(Bs.a.Header,{closeButton:!0,children:Object(O.jsx)(Bs.a.Title,{children:"Add Remark"})}),Object(O.jsx)(Bs.a.Body,{children:Object(O.jsx)(M.a,{children:Object(O.jsxs)(M.a.Group,{controlId:"remark",children:[Object(O.jsx)(M.a.Label,{children:"Remark"}),Object(O.jsx)(M.a.Control,{as:"textarea",rows:3,value:p.remark,onChange:e=>x((t=>({...t,remark:e.target.value})))})]})})}),Object(O.jsxs)(Bs.a.Footer,{children:[Object(O.jsx)(xt.a,{variant:"secondary",onClick:D,children:"Close"}),Object(O.jsx)(xt.a,{variant:"primary",onClick:()=>{d.a.post(`${E}/api/updateRequest`,p,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{n((e=>e.map((e=>e._id===p.id?{...e,status:p.status,reOpen:[...e.reOpen,{remark:p.remark,updatedBy:c}]}:e)))),x({id:"",remark:"",updatedBy:c,status:""}),S.a.success(`Request is ${p.status}`),N()})).catch((e=>{S.a.error("Error updating request data"),console.error("Error updating request data",e)})),D()},children:"Save Changes"})]})]})]})};var Ys=()=>{const[e,t]=Object(s.useState)([]),[a,l]=Object(s.useState)((new Date).getMonth()+1),[c,r]=Object(s.useState)((new Date).getFullYear()),[n,o]=Object(s.useState)({visible:!1,leaveDetails:[],type:""}),{darkMode:i}=g();Object(s.useEffect)((()=>{d.a.post(`${E}/api/leave-application-hr/`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{t(e.data)})).catch((e=>{console.log(e)}))}),[]);const j=(e,t)=>{if(!t||"Invalid Date"===t)return.5;const a=new Date(e),s=(new Date(t)-a)/864e5+1;return s>0?s:0};console.log(e);const m=(h=e,h.filter((e=>{const t=new Date(e.FromDate);return t.getMonth()+1===a&&t.getFullYear()===c}))).reduce(((e,t)=>{const{FirstName:a,LastName:s,Leavetype:l,FromDate:c,ToDate:r,empID:n}=t,o=`${n} - ${a} ${s}`,i=j(c,r);switch(e[o]||(e[o]={paidLeave:0,sickLeave:0,casualLeave:0,unpaidLeave:0,paternityLeave:0,maternityLeave:0,totalDeductable:0,totalNonDeductable:0,leaveDetails:{}}),e[o].leaveDetails[l]||(e[o].leaveDetails[l]=[]),e[o].leaveDetails[l].push({fromDate:c,toDate:r}),l.toLowerCase()){case"paid leave":e[o].paidLeave+=i,e[o].totalNonDeductable+=i;break;case"sick leave":e[o].sickLeave+=i,e[o].totalDeductable+=i;break;case"casual leave":e[o].casualLeave+=i,e[o].totalDeductable+=i;break;case"unpaid leave":e[o].unpaidLeave+=i,e[o].totalDeductable+=i;break;case"paternity leave":e[o].paternityLeave+=i,e[o].totalNonDeductable+=i;break;case"maternity leave":e[o].maternityLeave+=i,e[o].totalNonDeductable+=i}return e}),{});var h;const b=(e,t)=>{o({visible:!0,leaveDetails:e,type:t})},u=()=>{o({visible:!1,leaveDetails:[],type:""})};return Object(O.jsxs)("div",{className:"container-fluid py-2",children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between align-items-center flex-wrap gap-3 my-2 mb-3",children:[Object(O.jsx)(ma,{title:"Leave Register",message:"You can view employee's monthly leave here."}),Object(O.jsxs)("div",{className:"d-flex gap-2",children:[Object(O.jsx)("div",{className:"me-2 d-flex flex-column",children:Object(O.jsx)("select",{value:a,className:"form-select",onChange:e=>l(Number(e.target.value)),children:Array.from({length:(new Date).getMonth()+1},((e,t)=>Object(O.jsx)("option",{value:t+1,children:new Date(0,t).toLocaleString("default",{month:"long"})},t+1)))})}),Object(O.jsx)("div",{className:"me-2 d-flex flex-column",children:Object(O.jsx)("select",{value:c,className:"form-select",onChange:e=>r(Number(e.target.value)),children:Array.from({length:10},((e,t)=>(new Date).getFullYear()-t)).map((e=>Object(O.jsx)("option",{value:e,children:e},e)))})})]})]}),Object(O.jsx)("div",{style:{maxHeight:"55vh",overflow:"scroll"},children:Object(O.jsxs)("table",{className:"table position-relative",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:ut(i),children:"Employee Name"}),Object(O.jsx)("th",{className:"text-center",style:ut(i),children:"Paid Leave"}),Object(O.jsx)("th",{className:"text-center",style:ut(i),children:"Sick Leave"}),Object(O.jsx)("th",{className:"text-center",style:ut(i),children:"Casual Leave"}),Object(O.jsx)("th",{className:"text-center",style:ut(i),children:"Unpaid Leave"}),Object(O.jsx)("th",{className:"text-center",style:ut(i),children:"Paternity Leave"}),Object(O.jsx)("th",{className:"text-center",style:ut(i),children:"Maternity Leave"}),Object(O.jsx)("th",{className:"text-center",style:ut(i),children:"Non-Deductibles"}),Object(O.jsx)("th",{className:"text-center",style:ut(i),children:"Deductibles"})]})}),Object(O.jsx)("tbody",{children:Object.entries(m).length>0?Object.entries(m).map((e=>{var t,a,s,l,c,r;let[o,d]=e;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"text-capitalize",style:pt(i),children:o}),Object(O.jsxs)("td",{className:"text-center",style:pt(i),onMouseEnter:()=>{var e;null!==(e=d.leaveDetails["Paid Leave"])&&void 0!==e&&e.length&&b(d.leaveDetails["Paid Leave"],"Paid Leave")},onMouseLeave:u,children:[Object(O.jsx)("span",{style:{cursor:"pointer",width:"100%"},children:d.paidLeave}),n.visible&&"Paid Leave"===n.type&&(null===(t=d.leaveDetails["Paid Leave"])||void 0===t?void 0:t.length)>0&&Object(O.jsx)("div",{style:{background:i?"white":"black",color:i?"black":"white"},className:"popover border-0 shadow",children:n.leaveDetails.map(((e,t)=>{const a=new Date(e.fromDate),s=new Date(e.toDate),l=j(e.fromDate,e.toDate);return Object(O.jsx)("div",{children:`From: ${a.toLocaleDateString()} To: ${e.toDate&&s.getTime()!==new Date(0).getTime()?`${s.toLocaleDateString()} (${l} day${l>1?"s":""})`:"Half Day"}`},t)}))})]}),Object(O.jsxs)("td",{className:"text-center",style:pt(i),onMouseEnter:()=>{var e;null!==(e=d.leaveDetails["Sick Leave"])&&void 0!==e&&e.length&&b(d.leaveDetails["Sick Leave"],"Sick Leave")},onMouseLeave:u,children:[Object(O.jsx)("span",{style:{cursor:"pointer",width:"100%"},children:d.sickLeave}),n.visible&&"Sick Leave"===n.type&&(null===(a=d.leaveDetails["Sick Leave"])||void 0===a?void 0:a.length)>0&&Object(O.jsx)("div",{style:{background:i?"white":"black",color:i?"black":"white"},className:"popover border-0 shadow-sm",children:n.leaveDetails.map(((e,t)=>{const a=new Date(e.fromDate),s=new Date(e.toDate),l=j(e.fromDate,e.toDate);return Object(O.jsx)("div",{children:`From: ${a.toLocaleDateString()} To: ${e.toDate&&s.getTime()!==new Date(0).getTime()?`${s.toLocaleDateString()} (${l} day${l>1?"s":""})`:"Half Day"}`},t)}))})]}),Object(O.jsxs)("td",{className:"text-center",style:pt(i),onMouseEnter:()=>{var e;null!==(e=d.leaveDetails["Casual Leave"])&&void 0!==e&&e.length&&b(d.leaveDetails["Casual Leave"],"Casual Leave")},onMouseLeave:u,children:[Object(O.jsx)("span",{style:{cursor:"pointer",width:"100%"},children:d.casualLeave}),n.visible&&"Casual Leave"===n.type&&(null===(s=d.leaveDetails["Casual Leave"])||void 0===s?void 0:s.length)>0&&Object(O.jsx)("div",{style:{background:i?"white":"black",color:i?"black":"white"},className:"popover border-0 shadow-sm",children:n.leaveDetails.map(((e,t)=>{const a=new Date(e.fromDate),s=new Date(e.toDate),l=j(e.fromDate,e.toDate);return Object(O.jsx)("div",{children:`From: ${a.toLocaleDateString()} To: ${e.toDate&&s.getTime()!==new Date(0).getTime()?`${s.toLocaleDateString()} (${l} day${l>1?"s":""})`:"Half Day"}`},t)}))})]}),Object(O.jsxs)("td",{className:"text-center",style:pt(i),onMouseEnter:()=>{var e;null!==(e=d.leaveDetails["Unpaid Leave"])&&void 0!==e&&e.length&&b(d.leaveDetails["Unpaid Leave"],"Unpaid Leave")},onMouseLeave:u,children:[Object(O.jsx)("span",{style:{cursor:"pointer",width:"100%"},children:d.unpaidLeave}),n.visible&&"Unpaid Leave"===n.type&&(null===(l=d.leaveDetails["Unpaid Leave"])||void 0===l?void 0:l.length)>0&&Object(O.jsx)("div",{style:{background:i?"white":"black",color:i?"black":"white"},className:"popover border-0 shadow-sm",children:n.leaveDetails.map(((e,t)=>{const a=new Date(e.fromDate),s=new Date(e.toDate),l=j(e.fromDate,e.toDate);return Object(O.jsx)("div",{children:`From: ${a.toLocaleDateString()} To: ${e.toDate&&s.getTime()!==new Date(0).getTime()?`${s.toLocaleDateString()} (${l} day${l>1?"s":""})`:"Half Day"}`},t)}))})]}),Object(O.jsxs)("td",{className:"text-center",style:pt(i),onMouseEnter:()=>{var e;null!==(e=d.leaveDetails["Paternity Leave"])&&void 0!==e&&e.length&&b(d.leaveDetails["Paternity Leave"],"Paternity Leave")},onMouseLeave:u,children:[Object(O.jsx)("span",{style:{cursor:"pointer",width:"100%"},children:d.paternityLeave}),n.visible&&"Paternity Leave"===n.type&&(null===(c=d.leaveDetails["Paternity Leave"])||void 0===c?void 0:c.length)>0&&Object(O.jsx)("div",{style:{background:i?"white":"black",color:i?"black":"white"},className:"popover border-0 shadow-sm",children:n.leaveDetails.map(((e,t)=>{const a=new Date(e.fromDate),s=new Date(e.toDate),l=j(e.fromDate,e.toDate);return Object(O.jsx)("div",{children:`From: ${a.toLocaleDateString()} To: ${e.toDate&&s.getTime()!==new Date(0).getTime()?`${s.toLocaleDateString()} (${l} day${l>1?"s":""})`:"Half Day"}`},t)}))})]}),Object(O.jsxs)("td",{className:"text-center",style:pt(i),onMouseEnter:()=>{var e;null!==(e=d.leaveDetails["Maternity Leave"])&&void 0!==e&&e.length&&b(d.leaveDetails["Maternity Leave"],"Maternity Leave")},onMouseLeave:u,children:[Object(O.jsx)("span",{style:{cursor:"pointer",width:"100%"},children:d.maternityLeave}),n.visible&&"Maternity Leave"===n.type&&(null===(r=d.leaveDetails["Maternity Leave"])||void 0===r?void 0:r.length)>0&&Object(O.jsx)("div",{style:{background:i?"white":"black",color:i?"black":"white"},className:"popover border-0 shadow-sm",children:n.leaveDetails.map(((e,t)=>{const a=new Date(e.fromDate),s=new Date(e.toDate),l=j(e.fromDate,e.toDate);return Object(O.jsx)("div",{children:`From: ${a.toLocaleDateString()} To: ${e.toDate&&s.getTime()!==new Date(0).getTime()?`${s.toLocaleDateString()} (${l} day${l>1?"s":""})`:"Half Day"}`},t)}))})]}),Object(O.jsx)("td",{className:"text-center",style:pt(i),children:Object(O.jsx)("span",{style:{cursor:"pointer",width:"100%"},children:d.totalNonDeductable})}),Object(O.jsx)("td",{className:"text-center text-danger fw-bold",style:pt(i),children:Object(O.jsx)("span",{style:{cursor:"pointer",width:"100%"},children:d.totalDeductable})})]},o)})):Object(O.jsx)("tr",{children:Object(O.jsx)("td",{colSpan:9,className:"text-center py-3",style:pt(i),children:"No leave data available"})})})]})}),Object(O.jsxs)("div",{style:{color:i?"black":"white"},className:"notes-section my-4",children:[Object(O.jsx)("h5",{children:"Notes:"}),Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:["Paid Leave:",Object(O.jsx)(ct.a,{className:"mx-3"})," Non-deductible"]}),Object(O.jsxs)("li",{children:["Sick Leave:",Object(O.jsx)(ct.a,{className:"mx-3"})," Deductible"]}),Object(O.jsxs)("li",{children:["Casual Leave:",Object(O.jsx)(ct.a,{className:"mx-3"})," Non-deductible for the first leave; subsequent leaves are deductible."]}),Object(O.jsxs)("li",{children:["Unpaid Leave:",Object(O.jsx)(ct.a,{className:"mx-3"})," Deductible"]}),Object(O.jsxs)("li",{children:["Paternity Leave:",Object(O.jsx)(ct.a,{className:"mx-3"})," Non-deductible"]}),Object(O.jsxs)("li",{children:["Maternity Leave:",Object(O.jsx)(ct.a,{className:"mx-3"})," Non-deductible"]})]})]})]})},Vs=(a(618),a.p+"static/media/LoginPage.638639ae.jpeg");var Js=e=>{Object(Y.b)(pe);const{loginError:t}=Object(P.c)((e=>e.login)),{userData:a}=Object(P.c)((e=>e.user)),[l,c]=Object(s.useState)(""),[r,i]=Object(s.useState)(!1),[d,j]=Object(s.useState)(""),[m,h]=Object(s.useState)(!0),b=Object(o.p)(),u=localStorage.getItem("token"),p=e=>{if(3!==e.split(".").length)return localStorage.clear(),null;try{return Object(Oe.a)(e)}catch(t){return localStorage.clear(),null}};Object(s.useEffect)((()=>{if(!u)return void h(!1);if(!p(u))return localStorage.clear(),void h(!1);a&&u&&(3===a.Account?b("/employee/dashboard"):2===a.Account?b("/hr/dashboard"):1===a.Account?b("/admin/dashboard"):4===a.Account?b("/manager/dashboard"):b("/404")),h(!1)}),[a,b]),Object(s.useEffect)((()=>{if(!u)return;const e=p(u);let t=setTimeout((()=>{if(!e)return localStorage.clear(),void h(!1);a&&u&&(3===a.Account?b("/employee/dashboard"):2===a.Account?b("/hr/dashboard"):1===a.Account?b("/admin/dashboard"):4===a.Account?b("/manager/dashboard"):b("/404"))}),500);return()=>clearTimeout(t)}),[]);return m?Object(O.jsx)("div",{children:"Loading..."}):Object(O.jsx)("div",{style:{height:"100vh",width:"100%",overflow:"auto"},className:"m-0 p-0 bg-light",children:Object(O.jsxs)("div",{style:{height:"100%",width:"100%"},className:"row flex-row-reverse mx-auto bg-white",children:[Object(O.jsx)("div",{style:{height:"100%"},className:"col-12 col-md-4 position-relative px-0 p-md-5 d-flex bg-white flex-column justify-content-center align-center",children:Object(O.jsxs)("form",{style:{height:"fit-content",zIndex:"1"},onSubmit:e=>{e.preventDefault();const t={email:e.target[0].value,password:e.target[1].value};xe(je(t)).unwrap().then((e=>{console.log(e),3===e.Account?b("/employee/dashboard"):2===e.Account?b("/hr/dashboard"):1===e.Account?b("/admin/dashboard"):4===e.Account&&b("/manager/dashboard")})).catch((()=>{c("Login failed, please try again.")})),e.target.reset()},className:"form my-auto bg-white py-5 px-4 p-md-3 rounded text-black fw-bold d-flex flex-column justify-content-center",children:[Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(O.jsx)("img",{style:{width:"15rem",height:"auto"},src:Se,className:"mx-auto",alt:""})}),Object(O.jsx)("h4",{style:{color:"var(--primaryDashColorDark)"},className:"my-4 text-center text-md-start gap-2",children:"Sign In"}),Object(O.jsxs)("div",{className:"d-flex flex-column my-3",children:[Object(O.jsx)("label",{htmlFor:"email",className:"ps-2 fw-normal",children:"Account"}),Object(O.jsx)("input",{name:"email",placeholder:"Email Address, Phone or UserID",className:"login-input border my-0",type:"text"})]}),Object(O.jsxs)("div",{className:"d-flex position-relative flex-column my-3 mb-4 mb-md-3",children:[Object(O.jsx)("label",{htmlFor:"password",className:"ps-2 fw-normal",children:"Enter your password"}),Object(O.jsxs)("div",{className:"position-relative",children:[Object(O.jsx)("input",{name:"password",placeholder:"**********",className:"login-input border my-0",type:r?"text":"password",onChange:e=>j(e.target.value)}),Object(O.jsx)("span",{style:{position:"absolute",top:"50%",transform:"translateY(-55%)",right:"3%",cursor:"pointer"},className:"fs-5 text-muted my-0",onClick:e=>{e.preventDefault(),i(!r)},children:r?Object(O.jsx)(Ae.c,{}):Object(O.jsx)(na.c,{})})]}),""!==t&&Object(O.jsx)("p",{className:"alert m-0 fw-normal text-center p-0 text-danger",children:t})]}),Object(O.jsx)("p",{style:{display:l?"block":"none",fontWeight:"normal"},className:"text-danger text-center",children:l}),Object(O.jsxs)("div",{className:"row mx-auto w-100 justify-content-between my-3 row-gap-4",children:[Object(O.jsx)("input",{style:{background:"var(--primaryDashColorDark)",color:"var(--primaryDashMenuColor)"},type:"submit",className:"btn btn-primary",value:" Login"}),Object(O.jsx)(n.a,{to:"/forgetPassword",className:"fw-normal text-decoration-none",style:{cursor:"pointer"},children:"Forgot password?"})]}),Object(O.jsxs)("p",{style:{position:"absolute",bottom:"0",left:"50%",transform:"translate(-50%)",fontWeight:"normal",whiteSpace:"pre"},className:"d-block text-center text-muted",children:["Made with ",Object(O.jsx)("span",{className:"heart beat",children:"\u2764\ufe0f"})," by Kasper Infotech"]})]})}),Object(O.jsx)("div",{style:{height:"100%",zIndex:"0",backgroundImage:`url(${Vs})`,backgroundSize:"cover",backgroundRepeat:"no-repeat"},className:"imagePosition col-12 col-md-8 p-5 d-flex flex-column justify-content-center gap-4",children:Object(O.jsx)("p",{style:{position:"absolute",bottom:"10px"},className:"text-center pt-5 text-white",children:"www.kasperinfotech.org"})})]})})};a(619);const Zs=mt.a`
  display: block;
  margin: 0 auto;
  margin-top: 45px;
  border-color: red;
`;var Xs=e=>{const[t,a]=Object(s.useState)([]),[l,c]=Object(s.useState)(!0),[r,n]=Object(s.useState)([]),{darkMode:o}=(e.data&&e.data._id,g()),i=()=>{d.a.get(`${E}/api/leave-application-emp/${e.data._id}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((t=>{const s=t.data;a(t.data),c(!1);const l=s.leaveApplication.map((e=>({data:e,Leavetype:e.Leavetype,FromDate:e.FromDate.slice(0,10),ToDate:e.ToDate.slice(0,10),Reasonforleave:e.Reasonforleave,Status:e.Status,updatedBy:e.updatedBy,reasonOfRejection:e.reasonOfRejection})));n(l),e.updateTotalLeaves(l.length)})).catch((e=>{}))};Object(s.useEffect)((()=>{i()}),[e.leaveRequestDone]);const j={verticalAlign:"middle",whiteSpace:"pre",background:o?"var(--primaryDashMenuColor)":"var(--primaryDashColorDark)",color:o?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)",border:"none",position:"sticky",top:"0rem",zIndex:"1"},m={verticalAlign:"middle",whiteSpace:"pre",background:o?"var(--secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:o?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)",border:"none"};return Object(O.jsxs)("div",{className:"container-fluid py-2",children:[Object(O.jsx)(ys,{}),Object(O.jsxs)("div",{className:"container-fluid ",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[Object(O.jsx)(ma,{title:"Leave Application",message:"You can view all your leave request here"}),Object(O.jsxs)("button",{className:"btn btn-primary d-flex align-items-center justify-content-center gap-2",variant:"primary",id:"add-button",onClick:e.onAddLeaveApplicationEmp,children:[Object(O.jsx)(Ie.d,{}),Object(O.jsx)("span",{className:"d-none d-md-flex",children:"Add Leave Request"})]})]}),Object(O.jsx)("div",{id:"clear-both"}),l?Object(O.jsx)("div",{id:"loading-bar",children:Object(O.jsx)(jt.a,{css:Zs,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(O.jsx)("div",{style:{maxHeight:"76vh"},className:"border",children:r>0?Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:j,children:"Profile"}),Object(O.jsx)("th",{style:j,children:"Leave Type"}),Object(O.jsx)("th",{style:j,children:"Start Date"}),Object(O.jsx)("th",{style:j,children:"End Date"}),Object(O.jsx)("th",{style:j,children:"Remarks"}),Object(O.jsx)("th",{style:j,children:"Status"}),Object(O.jsx)("th",{style:j,children:"Updated By"}),Object(O.jsx)("th",{style:j,children:"Reason of Rejection"})]})}),Object(O.jsx)("tbody",{children:r.map(((e,t)=>{var a,s,l,c,r,n;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:m,className:"py-1",children:Object(O.jsx)("div",{className:"mx-auto d-flex align-items-center justify-content-center",style:{height:"30px",width:"30px",borderRadius:"50%",backgroundColor:"#ccc",color:"white",fontWeight:"bold",overflow:"hidden",objectFit:"cover"},children:null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&null!==(s=a.profile)&&void 0!==s&&s.image_url?Object(O.jsx)("img",{style:{height:"100%",width:"100%",borderRadius:"50%",objectFit:"cover"},src:null===e||void 0===e||null===(l=e.data)||void 0===l||null===(c=l.profile)||void 0===c?void 0:c.image_url,alt:""}):Object(O.jsx)("span",{children:null===e||void 0===e||null===(r=e.EmployeeName)||void 0===r?void 0:r.split(" ").map((e=>e[0])).join("").toUpperCase()})})}),Object(O.jsx)("td",{style:m,children:e.Leavetype}),Object(O.jsx)("td",{style:m,children:e.FromDate}),Object(O.jsx)("td",{style:m,children:e.ToDate}),Object(O.jsx)("td",{style:m,children:e.Reasonforleave}),Object(O.jsx)("td",{style:m,children:(n=e.Status,1==n?"Pending":2==n?"Approved":3==n?"Rejected":"Unknown Status")}),Object(O.jsx)("td",{style:m,children:e.updatedBy}),Object(O.jsx)("td",{style:m,children:e.reasonOfRejection})]},t)}))})]})}):Object(O.jsx)(O.Fragment,{children:"123"})})]})]})};var Qs=e=>{const[t,a]=Object(s.useState)(e.editData.FromDate.slice(0,10)),[l,c]=Object(s.useState)(e.editData.ToDate.slice(0,10)),[r,n]=Object(s.useState)(e.editData.Reasonforleave);return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{id:"role-form-title",children:"Edit LeaveApplicationEmp Details"}),Object(O.jsx)("div",{id:"role-form-outer-div",children:Object(O.jsxs)(M.a,{id:"form",onSubmit:t=>e.onLeaveApplicationEmpEditUpdate(e.editData,t),children:[Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"Leave Type"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsxs)(M.a.Control,{as:"select",required:!0,children:[Object(O.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select your option"}),Object(O.jsx)("option",{value:"Sick Leave",selected:"Sick Leave"===e.editData.Leavetype,children:"Sick Leave"}),Object(O.jsx)("option",{value:"Casual Leave",selected:"Casual Leave"===e.editData.Leavetype,children:"Casual Leave"}),Object(O.jsx)("option",{value:"Privilege Leave",selected:"Privilege Leave"===e.editData.Leavetype,children:"Privilege Leave"})]})})]}),Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"FromDate"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"date",required:!0,value:t,onChange:e=>(e=>{a(e.target.value)})(e)})})]}),Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"ToDate"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"date",required:!0,value:l,onChange:e=>(e=>{c(e.target.value)})(e)})})]}),Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"Reason for leave"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{type:"Text",placeholder:"Reason for leave",required:!0,value:r,onChange:e=>(e=>{n(e.target.value)})(e)})})]}),Object(O.jsxs)(M.a.Group,{as:pa.a,children:[Object(O.jsx)(M.a.Label,{column:!0,sm:2,children:"Leave Status"}),Object(O.jsx)(xa.a,{sm:10,className:"form-input",children:Object(O.jsx)(M.a.Control,{as:"select",required:!0,children:Object(O.jsx)("option",{value:"1",selected:!0,disabled:!0,children:"Pending"})})})]}),Object(O.jsx)(M.a.Group,{as:pa.a,id:"form-submit-button",children:Object(O.jsx)(xa.a,{sm:{span:10,offset:2},children:Object(O.jsx)(xt.a,{type:"submit",children:"Update"})})}),Object(O.jsx)(M.a.Group,{as:pa.a,id:"form-cancel-button",children:Object(O.jsx)(xa.a,{sm:{span:10,offset:2},id:"form-cancel-button-inner",children:Object(O.jsx)(xt.a,{type:"reset",onClick:e.onFormEditClose,children:"cancel"})})})]})})]})};var Ks=e=>{const[t,a]=Object(s.useState)(!0),[c,r]=Object(s.useState)(!1),[n,o]=Object(s.useState)({}),[i,j]=Object(s.useState)(!1),[m,h]=Object(s.useState)(null),{userData:u}=Object(P.c)((e=>e.user)),p=null===u||void 0===u?void 0:u.Email,x=`${null===u||void 0===u?void 0:u.FirstName} ${null===u||void 0===u?void 0:u.LastName}`,v=null===u||void 0===u?void 0:u._id,{socket:g}=Object(s.useContext)(b);Object(s.useEffect)((()=>{d.a.get(`${E}/api/particularEmployee/${v}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{h(e.data)})).catch((e=>{}))}),[]);return Object(O.jsx)(l.a.Fragment,{children:t?c?Object(O.jsx)(Qs,{onLeaveApplicationEmpEditUpdate:(e,t)=>{t.preventDefault();let s={Leavetype:t.target[0].value,FromDate:t.target[1].value,ToDate:t.target[2].value,Status:t.target[3].value,managerEmail:t.target[4].value,hrEmail:t.target[5].value,Reasonforleave:t.target[6].value};d.a.put(`${E}/api/leave-application-emp/`+e._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(!1),a(!0)})).catch((e=>{})),r(!1)},onFormEditClose:()=>{r(!1)},editData:n}):Object(O.jsx)(Xs,{onAddLeaveApplicationEmp:()=>{a(!1)},onEditLeaveApplicationEmp:e=>{r(!0),o(e)},data:e.data,leaveRequestDone:i}):Object(O.jsx)(Ds,{onLeaveApplicationEmpSubmit:t=>{t.preventDefault();let s={Leavetype:t.target[0].value,FromDate:t.target[2].value,ToDate:t.target[3].value,Status:1,managerEmail:t.target[4].value,hrEmail:t.target[5].value,aditionalManager:t.target[6].value,Reasonforleave:t.target[7].value,email:p};d.a.post(`${E}/api/leave-application-emp/`+e.data._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{a(!1),a(!0),j(!i);const t=Object(as.a)();if(m.profile){const e={taskId:t,managerEmail:s.managerEmail,hrEmail:s.hrEmail,message:"Leave request",messageBy:x,aditionalManager:s.aditionalManager,profile:m.profile.image_url,status:"unseen",path:"leaveApplication"};g.emit("leaveNotification",e)}else{const e={taskId:t,message:"Leave request",messageBy:x,aditionalManager:s.aditionalManager,managerEmail:s.managerEmail,hrEmail:s.hrEmail,profile:null,status:"unseen",path:"leaveApplication"};g.emit("leaveNotification",e)}})).catch((e=>{}))},onFormClose:()=>{a(!0)},onGenderChange:()=>{}})})};var el=e=>{let{images:t}=e;const{darkMode:a}=g(),[l,c]=Object(s.useState)(!1),r=l?t:t.slice(0,4);return Object(O.jsxs)("div",{className:"avatar-group my-3 w-100",style:{position:"relative",display:"flex",alignItems:"center"},children:[r.map(((e,t)=>Object(O.jsx)("img",{className:"avatar",src:e.employee.profile?e.employee.profile:w,style:{height:"30px",width:"30px",borderRadius:"50%",position:"absolute",left:3.5*t+"%",zIndex:4-t},alt:`Avatar ${t+1}`},t))),t.length>4&&Object(O.jsx)("div",{className:"more-avatars px-3 py-1",style:{marginLeft:"18%",color:a?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)",cursor:"pointer"},children:l?"View Less":`+${t.length-4} More`})]})};var tl=()=>{const[e,t]=Object(s.useState)([]),[a,l]=Object(s.useState)(!0),[c,r]=Object(s.useState)(null),[n,o]=Object(s.useState)(null),{userData:i}=Object(P.c)((e=>e.user)),j=null===i||void 0===i?void 0:i.Email,{darkMode:m}=g(),{socket:h}=Object(s.useContext)(b),[u,p]=Object(s.useState)(new Date),[v,y]=Object(s.useState)(null),[f,N]=Object(s.useState)(!1),[D,k]=Object(s.useState)(null),C=`${null===i||void 0===i?void 0:i.FirstName} ${null===i||void 0===i?void 0:i.LastName}`,S=null===i||void 0===i?void 0:i._id;Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get(`${E}/api/personal-info/`+S,{headers:{authorization:localStorage.getItem("token")||""}});y(e.data),o(e.data.Email)}catch(c){console.error("Error fetching employees:",c),r("Error fetching personal info. Please try again later.")}})()}),[S]);const M=e=>{const t=u;let a=new Date(e)-t;if(a<0)return{delay:!0,days:0,hours:0,minutes:0,seconds:0};return{delay:!1,days:Math.floor(a/864e5),hours:Math.floor(a%864e5/36e5),minutes:Math.floor(a%36e5/6e4),seconds:Math.floor(a%6e4/1e3)}},L=async()=>{try{const e=await d.a.get(`${E}/api/tasks`);t(e.data)}catch(c){console.error("Error fetching tasks:",c.message),r("Error fetching tasks. Please try again later.")}finally{l(!1)}};Object(s.useEffect)((()=>{L()}),[]);const T=e.filter((e=>"Pending"===e.status&&e.employees.some((e=>e.employee.Email===n)))).length,F=e=>{switch(e){case 1:return"Admin";case 2:return"Hr";case 3:return"Employee";case 4:return"Manager"}};return Object(O.jsxs)("div",{className:"container-fluid py-2 h-800px",children:[Object(O.jsx)(ma,{numbers:T,title:"New Task",message:"You can view all new task here."}),a&&Object(O.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex align-center gap-2",children:[Object(O.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(O.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),c&&Object(O.jsx)("p",{className:"text-danger",children:c}),!a&&!e.length&&Object(O.jsx)("p",{className:"text-danger",children:"Data not available."}),n&&e.filter((e=>"Pending"===e.status&&e.employees.some((e=>e.employee.Email===n)))).length>0?Object(O.jsx)("div",{className:"row mx-auto",children:n&&e.filter((e=>"Pending"===e.status&&e.employees.some((e=>e.employee.Email===n)))).reverse().map(((e,t)=>Object(O.jsx)("div",{style:{color:m?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"col-12 col-md-6 col-lg-4 p-2",children:Object(O.jsxs)("div",{style:{border:m?"1px solid var(--secondaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"task-hover-effect p-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("h5",{children:e.Taskname}),Object(O.jsx)("button",{className:"btn btn-primary",children:e.status})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:e.adminMail.profile?e.adminMail.profile.image_url:w,alt:""})," ",Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:e.adminMail.Email}),Object(O.jsx)("span",{children:F(e.adminMail.Account)})]})]}),Object(O.jsx)("span",{style:{border:m?"1px solid var(--primaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"px-2 py-1 text-center",children:e.department})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"my-3 d-flex flex-column gap-1",children:[Object(O.jsx)("h6",{children:"Task Description"}),Object(O.jsx)("span",{children:e.description})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{style:{width:"100%",overflow:"auto"},children:[Object(O.jsx)("h6",{children:"Task Details"}),Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:m?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:m?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"Task Durations"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:m?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:m?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"Manager Email"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:m?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:m?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"Start Date"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:m?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:m?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"End Date"})]})}),Object(O.jsx)("tbody",{children:Object(O.jsxs)("tr",{children:[Object(O.jsxs)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:m?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:m?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:[e.duration," days"]}),Object(O.jsxs)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:m?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:m?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:e.managerEmail.profile?e.managerEmail.profile.image_url:w,alt:""}),e.managerEmail.Email]}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:m?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:m?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:new Date(e.startDate).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}).replace(",","")}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:m?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:m?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:new Date(e.endDate).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}).replace(",","")})]})})]})})]}),Object(O.jsx)("div",{className:"mt-4",children:Object(O.jsx)("span",{style:{cursor:"pointer"},onMouseEnter:()=>N("name"),onMouseLeave:()=>N(!1),onClick:()=>{return t=e._id,void k((e=>e===t?null:t));var t},children:D===e._id?Object(O.jsxs)("span",{children:["View Less ",Object(O.jsx)(x.b,{className:"fs-4"})]}):Object(O.jsxs)("span",{children:[" ","View Details ",Object(O.jsx)(x.a,{className:"fs-4"})]})})}),D===e._id&&Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex flex-column my-2",children:[Object(O.jsx)("h6",{children:"Remarks"}),Object(O.jsx)("span",{children:e.comment})]}),Object(O.jsx)("div",{className:"d-flex align-items-center justify-content-between my-3",children:Object(O.jsx)(el,{images:e.employees})}),Object(O.jsxs)("div",{style:{width:"100%",overflow:"auto"},children:[Object(O.jsx)("h6",{className:"fw-bold",children:"Project Members"}),Object(O.jsxs)(Ct.a,{children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:m?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:m?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"Name"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:m?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:m?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"Email"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:m?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:m?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"Designation"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:m?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:m?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"Task Status"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:m?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:m?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"Remarks"})]})}),Object(O.jsx)("tbody",{children:n&&e.employees.map(((e,t)=>Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:m?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:m?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},className:"text-capitalize",children:`${e.employee.FirstName} ${e.employee.LastName}`}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:m?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:m?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:e.employee.Email}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:m?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:m?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:e.employee.position[0].PositionName}),Object(O.jsxs)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:m?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:m?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:[null===e||void 0===e?void 0:e.empTaskStatus," "]}),Object(O.jsx)("td",{style:{maxWidth:"10rem",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",verticalAlign:"middle",whiteSpace:"pre",background:m?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:m?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:null===e||void 0===e?void 0:e.empTaskComment})]},t)))})]})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("span",{className:"d-flex flex-column gap-1",children:[Object(O.jsx)("h6",{children:"Time Left"}),Object(O.jsx)("span",{children:Object(O.jsx)("div",{style:{display:D===e._id?"flex":"none"},children:Object(O.jsx)("div",{className:"d-flex gap-2 justify-content-between",children:M(e.endDate).delay?Object(O.jsx)("div",{className:"",children:Object(O.jsx)("span",{className:" rounded-5 border border-danger  my-auto  p-1 px-2",children:"Please finish the task as soon as you can, as it's running late."})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:M(e.endDate).days}),Object(O.jsx)("div",{children:"Day"})]}),Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:M(e.endDate).hours}),Object(O.jsx)("div",{children:"Hrs"})]}),Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:M(e.endDate).minutes}),Object(O.jsx)("div",{children:"Min"})]}),Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:M(e.endDate).seconds}),Object(O.jsx)("div",{children:"Sec"})]})]})})})})]}),Object(O.jsxs)("div",{className:"d-flex flex-column gap-2 my-2",children:["Action",n&&e.employees.filter((e=>e.employee.Email===n)).map(((t,a)=>Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("button",{className:"btn btn-primary py-1",onClick:()=>(async(e,t,a)=>{try{const s=prompt("Enter remarks for accepting the task:");if(null===s)return;await d.a.put(`${E}/api/tasks/${e}/employees/${t}`,{empTaskStatus:"Accepted",empTaskComment:s}),A.toast.success("Task accepted successfully!");const l=a.employees.map((e=>{if("Rejected"!==e.empTaskStatus&&e.employee.Email!==n)return e.employee.Email}));if(v.profile){const t={senderMail:j,employeesEmail:[...l,a.managerEmail.Email],taskId:e,status:"unseen",taskName:a.Taskname,message:"Task Accepted",messageBy:C,profile:v.profile.image_url,taskStatus:"Accepted",Account:3,path:"activeTask"};h.emit("employeeTaskUpdateNotification",t)}else{const t={senderMail:j,employeesEmail:[...l,a.managerEmail.Email],taskId:e,status:"unseen",taskName:a.Taskname,message:"Task Accepted",messageBy:C,profile:null,taskStatus:"Accepted",Account:3,path:"activeTask"};h.emit("employeeTaskUpdateNotification",t)}L()}catch(c){console.error("Error accepting task:",c.message),A.toast.error("Failed to accept task. Please try again.")}})(e._id,t.employee.Email,e),disabled:"Accepted"===t.empTaskStatus||"Rejected"===t.empTaskStatus||"Completed"===t.empTaskStatus,children:"Accept"}),Object(O.jsx)("button",{className:"btn  py-1 btn-danger",onClick:()=>(async(e,t,a)=>{try{const s=prompt("Enter remarks for rejecting the task:");if(null===s)return;if(await d.a.put(`${E}/api/tasks/${e}/employees/${t}`,{empTaskStatus:"Rejected",empTaskComment:s}),A.toast.success("Task rejected successfully!"),v.profile){const t={senderMail:j,employeesEmail:[a.managerEmail.Email],taskId:e,status:"unseen",taskName:a.Taskname,message:"Task Rejected",messageBy:C,profile:v.profile.image_url,taskStatus:"Rejected",Account:3,path:"activeTask"};h.emit("employeeTaskUpdateNotification",t)}else{const t={senderMail:j,employeesEmail:[a.managerEmail.Email],taskId:e,status:"unseen",taskName:a.Taskname,message:"Task Rejected",messageBy:C,profile:null,taskStatus:"Rejected",Account:3,path:"activeTask"};h.emit("employeeTaskUpdateNotification",t)}L()}catch(c){console.error("Error rejecting task:",c.message),A.toast.error("Failed to reject task. Please try again.")}})(e._id,t.employee.Email,e),disabled:"Accepted"===t.empTaskStatus||"Rejected"===t.empTaskStatus||"Completed"===t.empTaskStatus,children:"Reject"}),Object(O.jsx)("button",{className:"btn py-1 btn-success",onClick:()=>(async(e,t,a)=>{console.log(e,t,a);try{const s=prompt("Enter remarks for completing the task:");if(null===s)return;await d.a.put(`${E}/api/tasks/${e}/employees/${t}`,{empTaskStatus:"Completed",empTaskComment:s}),A.toast.success("Task completed successfully!");const l=a.employees.map((e=>{if("Rejected"!==e.empTaskStatus&&e.employee.Email!==n)return e.employee}));if(v.profile){const t={senderMail:j,employeesEmail:[...l,a.managerEmail.Email],taskId:e,status:"unseen",taskName:a.Taskname,taskStatus:"Completed",message:"Task Completed",messageBy:C,profile:v.profile.image_url,Account:3,path:"activeTask"};h.emit("employeeTaskUpdateNotification",t)}else{const t={senderMail:j,employeesEmail:[...l,a.managerEmail.Email],taskId:e,status:"unseen",taskName:a.Taskname,taskStatus:"Completed",message:"Task Completed",messageBy:C,profile:null,Account:3,path:"activeTask"};h.emit("employeeTaskUpdateNotification",t)}L()}catch(c){console.error("Error completing task:",c.message),A.toast.error("Failed to complete task. Please try again.")}})(e._id,t.employee.Email,e),disabled:"Completed"===t.empTaskStatus||"Rejected"===t.empTaskStatus,children:"Complete"})]})))]})]})]})]})},e._id)))}):Object(O.jsxs)("div",{className:"d-flex flex-column gap-3 align-items-center justify-content-center",style:{height:"80vh"},children:[Object(O.jsx)("img",{style:{width:"15rem",height:"auto"},src:_s,alt:"No task found"}),Object(O.jsx)("p",{style:{color:m?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:"There is no task found at this moment."})]})]})};var al=()=>{const{userData:e}=Object(P.c)((e=>e.user)),{setMessageData:t}=Object(s.useContext)(b),[a,l]=Object(s.useState)([]),[c,r]=Object(s.useState)(!0),[n,i]=Object(s.useState)(null),[j,m]=Object(s.useState)(!1),[h,u]=Object(s.useState)(!1),[p,v]=Object(s.useState)(!1),[y,f]=Object(s.useState)(!1),[N,D]=Object(s.useState)(null),[k,C]=Object(s.useState)(new Date),{darkMode:A}=g(),S=Object(o.p)(),M=null===e||void 0===e?void 0:e.Email,[L,T]=Object(s.useState)(!1),[F,I]=Object(s.useState)(null);Object(s.useEffect)((()=>{const e=setInterval((()=>{C(new Date)}),1e3);return()=>clearInterval(e)}),[]);const R=e=>{const t=k;let a=new Date(e)-t;if(a<0)return{delay:!0,days:0,hours:0,minutes:0,seconds:0};return{delay:!1,days:Math.floor(a/864e5),hours:Math.floor(a%864e5/36e5),minutes:Math.floor(a%36e5/6e4),seconds:Math.floor(a%6e4/1e3)}},$=async()=>{try{const e=await d.a.get(`${E}/api/tasks`);l(e.data);e.data.filter((e=>"Pending"===e.status&&e.employees.some((e=>e.empemail===M&&"Accepted"===e))))}catch(n){console.error("Error fetching tasks:",n.message),i("Error fetching tasks. Please try again later.")}finally{r(!1)}};Object(s.useEffect)((()=>{$()}),[]);return Object(O.jsxs)("div",{className:"container-fluid py-2",children:[Object(O.jsx)(ma,{numbers:a.filter((e=>"Pending"===e.status&&e.employees.some((e=>e.employee.Email===M&&"Accepted"===e.empTaskStatus)))).length,title:"Active Task",message:"You can view all your active task here."}),c&&Object(O.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(O.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(O.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),a.filter((e=>"Pending"===e.status&&e.employees.some((e=>e.employee.Email===M&&"Accepted"===e.empTaskStatus)))).length>0?Object(O.jsx)("div",{className:"row mx-auto",children:a.filter((e=>"Pending"===e.status&&e.employees.some((e=>e.employee.Email===M&&"Accepted"===e.empTaskStatus)))).map(((e,a)=>Object(O.jsx)("div",{style:{color:A?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"col-12 col-md-6 col-lg-4 p-2",children:Object(O.jsxs)("div",{style:{border:A?"1px solid var(--secondaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"task-hover-effect p-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("h5",{children:e.Taskname}),Object(O.jsx)("button",{className:"btn btn-primary",children:e.status})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:"https://www.portalcidade.news/wp-content/uploads/2021/11/email-logo.jpg",alt:""}),Object(O.jsx)("span",{children:e.adminMail.Email})]}),Object(O.jsx)("span",{style:{border:A?"1px solid var(--primaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"px-2 py-1 text-center",children:e.department})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"my-3 d-flex flex-column gap-1",children:[Object(O.jsx)("h6",{children:"Task Description"}),Object(O.jsx)("span",{children:e.description})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{style:{width:"100%",overflow:"auto"},children:[Object(O.jsx)("h6",{children:"Task Details"}),Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:A?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:A?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"Task Durations"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:A?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:A?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"Manager Email"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:A?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:A?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"Start Date"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:A?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:A?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"End Date"})]})}),Object(O.jsx)("tbody",{children:Object(O.jsxs)("tr",{children:[Object(O.jsxs)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:A?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:A?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:[e.duration," days"]}),Object(O.jsxs)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:A?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:A?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:e.managerEmail.profile?e.managerEmail.profile.image_url:w,alt:""}),e.managerEmail.Email]}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:A?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:A?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:new Date(e.startDate).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}).replace(",","")}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:A?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:A?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:new Date(e.endDate).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}).replace(",","")})]})})]})})]}),Object(O.jsx)("div",{className:"mt-4",children:Object(O.jsx)("span",{style:{cursor:"pointer"},onMouseEnter:()=>T("name"),onMouseLeave:()=>T(!1),onClick:()=>{return t=e._id,void I((e=>e===t?null:t));var t},children:F===e._id?Object(O.jsxs)("span",{children:["View Less ",Object(O.jsx)(x.b,{className:"fs-4"})]}):Object(O.jsxs)("span",{children:[" ","View Details ",Object(O.jsx)(x.a,{className:"fs-4"})]})})}),F===e._id&&Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex flex-column my-2",children:[Object(O.jsx)("h6",{children:"Remarks"}),Object(O.jsx)("span",{children:e.comment})]}),Object(O.jsx)("div",{className:"d-flex align-items-center justify-content-between my-3",children:Object(O.jsx)(el,{images:e.employees})}),Object(O.jsxs)("div",{style:{width:"100%",overflow:"auto"},children:[Object(O.jsx)("h6",{children:"Project Members"}),Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:A?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:A?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"S. No"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:A?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:A?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"Name"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:A?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:A?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"Email"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:A?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:A?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"Designation"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:A?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:A?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"Task Status"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:A?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:A?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"Remarks"})]})}),Object(O.jsx)("tbody",{children:e.employees.filter((e=>"Accepted"===e.empTaskStatus||"Completed"===e.empTaskStatus)).map(((e,t)=>Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{backgroundColor:"Completed"===e.empTaskStatus?"rgba(25, 201, 84, 0.436)":A?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:A?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:t+1}),Object(O.jsx)("td",{style:{backgroundColor:"Completed"===e.empTaskStatus?"rgba(25, 201, 84, 0.436)":A?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:A?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},className:"text-capitalize",children:`${e.employee.FirstName} ${e.employee.LastName}`}),Object(O.jsx)("td",{style:{backgroundColor:"Completed"===e.empTaskStatus?"rgba(25, 201, 84, 0.436)":A?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:A?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:e.employee.Email}),Object(O.jsx)("td",{style:{backgroundColor:"Completed"===e.empTaskStatus?"rgba(25, 201, 84, 0.436)":A?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:A?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:e.employee.position[0].PositionName}),Object(O.jsx)("td",{style:{backgroundColor:"Completed"===e.empTaskStatus?"rgba(25, 201, 84, 0.436)":A?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:A?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:e.empTaskStatus}),Object(O.jsx)("td",{style:{backgroundColor:"Completed"===e.empTaskStatus?"rgba(25, 201, 84, 0.436)":A?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:A?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:e.empTaskComment})]},t)))})]})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("span",{className:"d-flex flex-column gap-1",children:[Object(O.jsx)("h6",{children:"Time Left"}),Object(O.jsx)("span",{children:Object(O.jsx)("div",{style:{display:F===e._id?"flex":"none"},children:Object(O.jsx)("div",{className:"d-flex gap-2 justify-content-between",children:R(e.endDate).delay?Object(O.jsx)("div",{className:"",children:Object(O.jsx)("span",{className:" rounded-5 border border-danger  my-auto  p-1 px-2",children:"Please finish the task as soon as you can, as it's running late."})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:R(e.endDate).days}),Object(O.jsx)("div",{children:"Day"})]}),Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:R(e.endDate).hours}),Object(O.jsx)("div",{children:"Hrs"})]}),Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:R(e.endDate).minutes}),Object(O.jsx)("div",{children:"Min"})]}),Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:R(e.endDate).seconds}),Object(O.jsx)("div",{children:"Sec"})]})]})})})})]}),Object(O.jsxs)("div",{className:"d-flex flex-column gap-2 my-2",children:["Action",Object(O.jsx)("div",{className:"d-flex gap-3",children:Object(O.jsxs)("button",{className:"btn btn-success d-flex justify-center aline-center gap-2",onClick:()=>{(e=>{const a=e._id,s=e.managerEmail.Email;let l=e.employees.filter((e=>e.employee.Email!==M)).map((e=>e.employee.Email));l=[...l,s],l.length>0&&(t({taskId:a,to:l}),S.push("/employee/emp_manager"))})(e)},children:[Object(O.jsx)(Te.c,{})," ",Object(O.jsx)("span",{className:"d-none d-md-flex",children:"Chat"})]})})]})]})]})]})},e._id)))}):Object(O.jsxs)("div",{className:"d-flex flex-column gap-3 align-items-center justify-content-center",style:{height:"80vh"},children:[Object(O.jsx)("img",{style:{width:"15rem",height:"auto"},src:_s,alt:"No task found"}),Object(O.jsx)("p",{style:{color:A?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:"There is no task found at this moment."})]})]})};var sl=()=>{const[e,t]=Object(s.useState)([]),[a,l]=Object(s.useState)(!0),[c,r]=Object(s.useState)(null),{darkMode:n}=g(),[o,i]=Object(s.useState)(!1),[j,m]=Object(s.useState)(null),{userData:h}=Object(P.c)((e=>e.user)),b=null===h||void 0===h?void 0:h.Email;Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get(`${E}/api/tasks`,{params:{status:"Completed"}});t(e.data)}catch(c){console.error("Error fetching completed tasks:",c.message),r("Error fetching completed tasks. Please try again later.")}finally{l(!1)}})()}),[]);e.filter((e=>"Pending"===e.status&&e.employees.some((e=>"Completed"===e.empTaskStatus)))).length;const u=e=>{switch(e){case 1:return"Admin";case 2:return"Hr";case 3:return"Employee";case 4:return"Manager"}};return Object(O.jsxs)("div",{className:"container-fluid py-2",children:[Object(O.jsx)(ma,{title:"Completed Task",numbers:e.filter((e=>e.employees.some((e=>e.employee.Email===b&&"Completed"===e.empTaskStatus)))).length,message:"You can view all your Completed task here."}),a&&Object(O.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(O.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(O.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),e.filter((e=>e.employees.some((e=>e.employee.Email===b&&"Completed"===e.empTaskStatus)))).length>0?Object(O.jsx)("div",{className:"row mx-auto",children:e.filter((e=>e.employees.some((e=>e.employee.Email===b&&"Completed"===e.empTaskStatus)))).map(((e,t)=>Object(O.jsx)("div",{style:{color:n?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"col-12 col-md-6 col-lg-4 p-2",children:Object(O.jsxs)("div",{style:{border:n?"1px solid var(--secondaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"task-hover-effect p-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("h6",{children:e.Taskname}),Object(O.jsx)("button",{style:{cursor:"auto"},className:"btn btn-success",children:e.status})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:e.adminMail.profile?e.adminMail.profile.image_url:w,alt:""})," ",Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:e.adminMail.Email}),Object(O.jsx)("span",{children:u(e.adminMail.Account)})]})]}),Object(O.jsx)("span",{style:{border:n?"1px solid var(--primaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"px-2 py-1 text-center",children:e.department})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"my-3 d-flex flex-column gap-1",children:[Object(O.jsx)("h6",{children:"Task Description"}),Object(O.jsx)("span",{children:e.description})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{style:{width:"100%",overflow:"auto"},children:[Object(O.jsx)("h6",{children:"Task Details"}),Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:n?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:n?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"Task Durations"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:n?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:n?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"Manager Email"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:n?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:n?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"Start Date"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:n?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:n?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"End Date"})]})}),Object(O.jsx)("tbody",{children:Object(O.jsxs)("tr",{children:[Object(O.jsxs)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:n?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:n?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:[e.duration," days"]}),Object(O.jsxs)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:n?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:n?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:e.managerEmail.profile?e.managerEmail.profile.image_url:w,alt:""}),e.managerEmail.Email]}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:n?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:n?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:new Date(e.startDate).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}).replace(",","")}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:n?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:n?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:new Date(e.endDate).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}).replace(",","")})]})})]})})]}),Object(O.jsx)("div",{className:"mt-4",children:Object(O.jsx)("span",{style:{cursor:"pointer"},onMouseEnter:()=>i("name"),onMouseLeave:()=>i(!1),onClick:()=>{return t=e._id,void m((e=>e===t?null:t));var t},children:j===e._id?Object(O.jsxs)("span",{children:["View Less ",Object(O.jsx)(x.b,{className:"fs-4"})]}):Object(O.jsxs)("span",{children:[" ","View Details ",Object(O.jsx)(x.a,{className:"fs-4"})]})})}),j===e._id&&Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex flex-column my-2",children:[Object(O.jsx)("h6",{children:"Remarks"}),Object(O.jsx)("span",{children:e.comment})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"d-flex flex-column gap-2 my-2",children:["Completed"===e.status&&Object(O.jsxs)("span",{className:"border border-success px-2 py-1 text-center",children:[Object(O.jsx)("h6",{children:"Fully Completed"}),"This task is successfully completed and cannot be re-open for any query contact your admin."]}),"Pending"===e.status&&Object(O.jsxs)("span",{className:"border border-success px-2 py-1 text-center",children:[Object(O.jsx)("h6",{children:"Partial Completed"}),"This task is completed from your side but pending from others"]})]})]})]})]})},e._id)))}):Object(O.jsxs)("div",{className:"d-flex flex-column gap-3 align-items-center justify-content-center",style:{height:"80vh"},children:[Object(O.jsx)("img",{style:{width:"15rem",height:"auto"},src:_s,alt:"No task found"}),Object(O.jsx)("p",{style:{color:n?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:"There is no task found at this moment."})]})]})};var ll=()=>{const[e,t]=Object(s.useState)([]),[a,l]=Object(s.useState)(!0),[c,r]=Object(s.useState)(null),{userData:n}=Object(P.c)((e=>e.user)),o=null===n||void 0===n?void 0:n.Email,{darkMode:i}=g(),[j,m]=Object(s.useState)(!1),[h,b]=Object(s.useState)(null);Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get(`${E}/api/tasks`,{params:{status:"Completed"}});t(e.data)}catch(c){console.error("Error fetching completed tasks:",c.message),r("Error fetching completed tasks. Please try again later.")}finally{l(!1)}})()}),[]);const u=e.filter((e=>e.employees.some((e=>e.employee.Email===o&&"Rejected"===e.empTaskStatus)))).length,p=e=>{switch(e){case 1:return"Admin";case 2:return"Hr";case 3:return"Employee";case 4:return"Manager"}};return Object(O.jsxs)("div",{className:"p-4",children:[Object(O.jsx)(ma,{title:"Rejected Tasks",numbers:u,message:"You can view all your Rejected task here."}),a&&Object(O.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(O.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(O.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),e.filter((e=>e.employees.some((e=>e.employee.Email===o&&"Rejected"===e.empTaskStatus)))).length>0?Object(O.jsx)("div",{className:"row mx-auto",children:e.filter((e=>e.employees.some((e=>e.employee.Email===o&&"Rejected"===e.empTaskStatus)))).map(((e,t)=>Object(O.jsx)("div",{style:{color:i?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"col-12 col-md-6 col-lg-4 p-2",children:Object(O.jsxs)("div",{style:{border:i?"1px solid var(--secondaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"task-hover-effect p-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("h6",{children:e.Taskname}),Object(O.jsx)("button",{style:{cursor:"auto"},className:"btn btn-success",children:e.status})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:e.adminMail.profile?e.adminMail.profile.image_url:w,alt:""})," ",Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:e.adminMail.Email}),Object(O.jsx)("span",{children:p(e.adminMail.Account)})]})]}),Object(O.jsx)("span",{style:{border:i?"1px solid var(--primaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"px-2 py-1 text-center",children:e.department})]}),Object(O.jsxs)("div",{className:"my-3 d-flex flex-column gap-1",children:[Object(O.jsx)("h6",{children:"Task Description"}),Object(O.jsx)("span",{children:e.description})]}),Object(O.jsx)("div",{className:"d-flex align-items-center justify-content-between my-3",children:Object(O.jsx)(el,{images:e.employees})}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{style:{width:"100%",overflow:"auto"},children:[Object(O.jsx)("h6",{children:"Task Details"}),Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:i?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:i?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"Task Durations"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:i?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:i?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"Manager Email"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:i?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:i?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"Start Date"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:i?"var( --primaryDashMenuColor)":"var(--primaryDashColorDark)",color:i?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:"End Date"})]})}),Object(O.jsx)("tbody",{children:Object(O.jsxs)("tr",{children:[Object(O.jsxs)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:i?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:i?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:[e.duration," days"]}),Object(O.jsxs)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:i?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:i?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:e.managerEmail.profile?e.managerEmail.profile.image_url:w,alt:""}),e.managerEmail.Email]}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:i?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:i?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:new Date(e.startDate).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}).replace(",","")}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:i?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:i?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:new Date(e.endDate).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}).replace(",","")})]})})]})})]}),Object(O.jsx)("div",{className:"mt-4",children:Object(O.jsx)("span",{style:{cursor:"pointer"},onMouseEnter:()=>m("name"),onMouseLeave:()=>m(!1),onClick:()=>{return t=e._id,void b((e=>e===t?null:t));var t},children:h===e._id?Object(O.jsxs)("span",{children:["View Less ",Object(O.jsx)(x.b,{className:"fs-4"})]}):Object(O.jsxs)("span",{children:[" ","View Details ",Object(O.jsx)(x.a,{className:"fs-4"})]})})}),h===e._id&&Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex flex-column my-2",children:[Object(O.jsx)("h6",{children:"Remarks"}),Object(O.jsx)("span",{children:e.comment})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"d-flex flex-column gap-2 my-2",children:["Completed"===e.status&&Object(O.jsx)("span",{className:"border border-danger px-2 py-1 text-center",children:"This task is reject from your side but pending from others."}),"Rejected"===e.status||"Pending"===e.status&&Object(O.jsx)("span",{className:"border border-danger px-2 py-1 text-center",children:"This task is reject from your side but pending from others."})]})]})]})]})},e._id)))}):Object(O.jsxs)("div",{className:"d-flex flex-column gap-3 align-items-center justify-content-center",style:{height:"80vh"},children:[Object(O.jsx)("img",{style:{width:"15rem",height:"auto"},src:_s,alt:"No task found"}),Object(O.jsx)("p",{style:{color:i?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:"There is no task found at this moment."})]})]})};var cl=e=>{let{children:t}=e;return Object(O.jsx)("div",{style:{minHeight:"100dvh",maxHeight:"100dvh",width:"100%",overflow:"auto"},className:"p-0",children:t})};var rl=e=>{const[t,a]=Object(s.useState)([]),[l,c]=Object(s.useState)(null),[r,n]=Object(s.useState)((new Date).getFullYear()),[o,i]=Object(s.useState)((new Date).getMonth()+1),[j,m]=Object(s.useState)(null),[h,b]=Object(s.useState)(!1),{userData:u}=Object(P.c)((e=>e.user)),p=u._id,{darkMode:x}=g(),v=()=>{b(!0)},y=()=>{b(!1)};Object(s.useEffect)((()=>{f()}),[]);const f=async()=>{try{const t=await d.a.get(`${E}/api/employee/`+e.data._id,{headers:{authorization:localStorage.getItem("token")||""}});a(t.data)}catch(t){console.error("Error fetching employees:",t)}};Object(s.useEffect)((()=>{(async()=>{try{let e=(await d.a.get(`${E}/api/attendance/${p}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}})).data.filter((e=>e.employeeObjID&&e.employeeObjID._id===p));c(e.length>0?e[0]:null)}catch(e){console.error("Error fetching attendance data:",e)}})()}),[]);const N=e=>{switch(e){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December";default:return""}},D=()=>{if(l&&l.years){const e=(new Date).getFullYear();return l.years.filter((t=>t.year<=e))}return[]},k=e=>{const t=e&&e.loginTime[0];if(t){const[e,a]=t.split(":").map(Number);if(e>9||9===e&&a>45)return"H";if(e>9||9===e&&a>30)return"L"}return t?"P":"A"},C=e=>e.toString().padStart(2,"0");function w(e){return`${Math.floor(e/3600)}H: ${Math.floor(e%60)} M: ${e%60} S`}return Object(O.jsxs)("div",{style:{color:x?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",maxHeight:"80vh",overflow:"auto"},className:"d-flex flex-column pb-5 py-3 container-fluid gap-3",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("h6",{children:"View Monthly Attendance"}),l&&Object(O.jsxs)("div",{className:"d-flex gap-3",children:[Object(O.jsx)("div",{children:Object(O.jsx)("select",{className:"form-select shadow",id:"month",value:o,onChange:e=>i(parseInt(e.target.value)),children:(A=r,A===(new Date).getFullYear()?Array.from({length:(new Date).getMonth()+1},((e,t)=>t+1)):Array.from({length:12},((e,t)=>t+1))).map((e=>Object(O.jsx)("option",{value:e,children:N(e)},e)))})}),Object(O.jsx)("div",{children:Object(O.jsx)("select",{className:"form-select shadow",id:"year",value:r,onChange:e=>n(parseInt(e.target.value)),children:D().map((e=>Object(O.jsx)("option",{value:e.year,children:e.year},e.year)))})})]})]}),l&&Object(O.jsx)("div",{style:{overflow:"auto",height:"80vh",position:"relative"},children:Object(O.jsxs)("table",{className:"table",style:{fontSize:".9rem",position:"relative"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{className:"shadow-sm",children:[Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:x?"var( --secondaryDashMenuColor)":"var(--primaryDashColorDark)",color:x?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none",position:"sticky",top:"-5px"},children:"Date"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:x?"var( --secondaryDashMenuColor)":"var(--primaryDashColorDark)",color:x?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none",position:"sticky",top:"-5px"},children:"Status"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:x?"var( --secondaryDashMenuColor)":"var(--primaryDashColorDark)",color:x?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none",position:"sticky",top:"-5px"},children:"Login Time"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:x?"var( --secondaryDashMenuColor)":"var(--primaryDashColorDark)",color:x?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none",position:"sticky",top:"-5px"},children:"Logout Time"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:x?"var( --secondaryDashMenuColor)":"var(--primaryDashColorDark)",color:x?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none",position:"sticky",top:"-5px",zIndex:"10"},children:"Total Break"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:x?"var( --secondaryDashMenuColor)":"var(--primaryDashColorDark)",color:x?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none",position:"sticky",top:"-5px"},children:"Total Login"}),Object(O.jsx)("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:x?"var( --secondaryDashMenuColor)":"var(--primaryDashColorDark)",color:x?"var(--primaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none",position:"sticky",top:"-5px"},children:"Log"})]})}),Object(O.jsx)("tbody",{children:D().map((e=>e.months.filter((e=>e.month===o)).map((e=>e.dates.sort(((e,t)=>e.date-t.date)).map((e=>Object(O.jsxs)("tr",{className:"shadow-sm",id:`attendance-row-${e.date}`,onMouseEnter:()=>(e=>{m(e)})(e.date),onMouseLeave:()=>{m(null)},children:[Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:x?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:x?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:C(e.date)}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:x?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:x?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:k(e)}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:x?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:x?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:Object(O.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[Object(O.jsx)("div",{style:{height:"20px",width:"20px"},className:"rounded-0 btn btn-success d-flex align-items-center justify-content-center",children:e.loginTime.length})," ",e.loginTime[0]]})}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:x?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:x?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:e.logoutTime[e.logoutTime.length-1]}),Object(O.jsxs)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:x?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:x?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},className:"position-relative",children:[Object(O.jsxs)("div",{style:{display:"flex ",justifyContent:"start",alignItems:"center"},className:"fs-6 gap-2 ",onMouseEnter:v,onMouseLeave:y,children:["                            ",Object(O.jsx)("div",{style:{height:"20px",width:"20px"},className:"rounded-0 btn btn-warning d-flex align-items-center justify-content-center",children:e.breakTime.length}),Object(O.jsx)("p",{className:"p-0 m-0",children:w(e.totalBrake)})," ",Object(O.jsx)(Ie.a,{style:{fontSize:".9rem"},className:"text-info "})]}),Object(O.jsx)("div",{style:{zIndex:"5",right:"0%"},className:"position-absolute",children:h&&j===e.date&&Object(O.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{className:"shadow-sm p-0",children:[Object(O.jsx)("th",{className:"bg-info  py-0 text-white",children:"Break"}),Object(O.jsx)("th",{className:"bg-info  py-0 text-white",children:"Resume"}),Object(O.jsx)("th",{className:"text-end  py-0 bg-info text-white",style:{whiteSpace:"pre"},children:"Total Break"})]})}),Object(O.jsx)("tbody",{children:e.breakTime.map(((t,a)=>Object(O.jsxs)("tr",{className:"shadow-sm",children:[Object(O.jsx)("td",{className:"text-uppercase  py-1 text-center",style:{whiteSpace:"pre"},children:t}),Object(O.jsx)("td",{className:"text-uppercase  py-1 text-center",style:{whiteSpace:"pre"},children:e.ResumeTime[a]}),Object(O.jsx)("td",{className:"text-end py-1 ",style:{whiteSpace:"pre"},children:w(e.BreakData[a])})]},a)))})]})})]}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:x?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:x?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:w(e.totalLogAfterBreak)}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:x?"var( --secondaryDashMenuColor)":"var(--secondaryDashColorDark)",color:x?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)",border:"none"},children:e.status})]},e.date)))))))})]})}),null===l&&Object(O.jsxs)("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"1rem"},children:[Object(O.jsx)("div",{className:"fs-2 fw-bolder",children:Object(O.jsx)(ns.a,{className:"spinner-border text-info"})}),Object(O.jsx)("p",{className:"text-muted",children:"User not selected. To view data, please select a user."})]})]});var A};var nl=e=>{const[t,a]=Object(s.useState)(null),{darkMode:l}=g(),{employees:c,setEmployees:r,selectedEmployee:n,setSelectedEmployee:o,attencenceID:i,setAttencenceID:j,message:m,setMessage:h}=Object(s.useContext)(b);Object(s.useEffect)((()=>{u()}),[]),Object(s.useEffect)((()=>{p()}),[]);const u=async()=>{try{const t=await d.a.get(`${E}/api/employee/${e.data._id}`,{headers:{authorization:localStorage.getItem("token")||""}});r(t.data)}catch(t){console.error("Error fetching employees:",t)}},p=async()=>{try{const t=await d.a.get(`${E}/api/personal-info/${e.data._id}`,{headers:{authorization:localStorage.getItem("token")||""}});a(t.data.FirstName)}catch(t){console.error("Error fetching personal info:",t)}},v=async(e,a)=>{const s=c.find((e=>e.FirstName===t));if(!s)return void h("Please select a user");const{attendanceObjID:l,_id:r}=s,n=is()().format("HH:mm:ss");try{await d.a.post(`${E}/api/attendance/${l}`,{employeeId:r,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),[e]:[n],status:a}),h(`${a} time recorded successfully`),S.a.success(`${a} time recorded successfully`)}catch(o){h(`Error recording ${a} time`),S.a.error(`Error recording ${a} time`),console.error(`Error recording ${a} time:`,o)}};return Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between py-2",children:[Object(O.jsx)("div",{className:"d-flex justify-content-between align-items-center p-3 px-2",children:Object(O.jsx)("h5",{style:{color:l?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"fw-bold my-auto",children:"Attendance System"})}),Object(O.jsx)("div",{className:"d-flex gap-3 px-2",style:{height:"fit-content"},children:Object(O.jsxs)("div",{className:"d-flex gap-3",children:[Object(O.jsxs)("button",{title:"Break",className:"btn btn-warning d-flex align-items-center gap-2",onClick:()=>v("breakTime","break"),children:[Object(O.jsx)(x.f,{})," ",Object(O.jsx)("span",{className:"d-none d-md-flex",children:"Break"})]}),Object(O.jsxs)("button",{title:"Resume",className:"btn btn-primary d-flex align-items-center gap-2",onClick:()=>v("resumeTime","resume"),children:[Object(O.jsx)(x.o,{})," ",Object(O.jsx)("span",{className:"d-none d-md-flex",children:"Resume"})]})]})})]}),Object(O.jsx)(rl,{})]})},ol=a.p+"static/media/NoTeam.d6fbf420.svg";var il=()=>{const e=Object(P.b)(),{userData:t}=Object(P.c)((e=>e.user)),{attendanceData:a,status:l,error:c}=Object(P.c)((e=>e.attendance)),{darkMode:r}=g();Object(s.useEffect)((()=>{"idle"===l&&e(K())}),[l,e]);const n=e=>{if(!e)return Object(O.jsx)("span",{className:"text-danger py-1 px-2 rounded-2",style:{background:"#f33d3d22"},children:"Absent"});const t=new Date(`1970-01-01T${e}`),a=new Date("1970-01-01T09:30:00"),s=new Date("1970-01-01T09:45:00"),l=new Date("1970-01-01T15:00:00");return t<a?Object(O.jsx)("span",{className:"text-success py-1 px-2 rounded-2",style:{background:"#86ed1f3d"},children:"Present"}):t>=a&&t<=s?Object(O.jsx)("span",{className:"text-primary py-1 px-2 rounded-2",style:{background:"#1f71ed3d"},children:"Late"}):t>s&&t<=l?Object(O.jsx)("span",{className:"py-1 px-2 rounded-2",style:{background:"#f5550555",color:"#f55505"},children:"Half Day"}):Object(O.jsx)("span",{className:"text-danger py-1 px-2 rounded-2",style:{background:"#f33d3d22"},children:"Absent"})};if("loading"===l)return Object(O.jsx)("div",{children:"Loading..."});if("failed"===l)return Object(O.jsxs)("div",{children:["Error: ",c]});const o=null===t||void 0===t?void 0:t.Email,i=null===t||void 0===t?void 0:t.Account,d=null===t||void 0===t?void 0:t._id,j=a.filter((e=>e.userId===d)).map((e=>e.reportManager))[0];return Object(O.jsxs)("div",{style:{height:"17rem",overflow:"hidden",color:r?"black":"White",background:r?"#F5F5F6":"#161515f6"},className:"px-3 shadow-sm rounded-2 d-flex flex-column gap-2 justify-content-between pb-3 pt-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsxs)("h5",{className:"my-0 fw-normal d-flex align-items-center gap-2",children:[Object(O.jsx)(Ee.e,{}),"Team"]})," ",Object(O.jsxs)("span",{style:{minHeight:"1.6rem",minWidth:"1.6rem",borderRadius:"50%",background:r?"#ededf1d4":"#252424c3"},className:"d-flex align-items-center justify-content-center",children:[1==i&&a.filter((e=>1===e.Account)).length,2==i&&a.filter((e=>2===e.Account)).length,3==i&&a.filter((e=>3===e.Account)).length,4==i&&a.filter((e=>4===e.Account)).length]})]}),Object(O.jsxs)("div",{className:"p-1 px-3 rounded-3",style:{height:"14rem",overflow:"auto",background:r?"#ededf1f4":"#252424c3"},children:[1==i&&Object(O.jsx)("div",{children:a.filter((e=>2===e.Account)).length>0?a.filter((e=>2===e.Account)).map(((e,t)=>{var a,s,l,c,r,o,i,d,j,m;return Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between my-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[Object(O.jsx)("div",{style:{height:"30px",width:"30px",borderRadius:"50%",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#ccc",borderRadius:"50%",fontSize:"14px",fontWeight:"bold",color:"#fff"},children:null!==e&&void 0!==e&&null!==(a=e.profile)&&void 0!==a&&a.image_url?Object(O.jsx)("img",{style:{height:"100%",width:"100%",objectFit:"cover",overflow:"hidden",borderRadius:"50%"},src:e.profile.image_url,alt:`${null===e||void 0===e||null===(s=e.FirstName)||void 0===s?void 0:s.toUpperCase()} ${null===e||void 0===e||null===(l=e.LastName)||void 0===l?void 0:l.toUpperCase()}`}):`${null===e||void 0===e||null===(c=e.FirstName)||void 0===c||null===(r=c[0])||void 0===r?void 0:r.toUpperCase()}${null===e||void 0===e||null===(o=e.LastName)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.toUpperCase()}`}),Object(O.jsxs)("div",{className:"text-capitalize",children:[Object(O.jsx)("span",{className:"text-primary py-1 px-2 rounded-2",style:{background:"#2984da21",fontSize:".8rem"},children:e.position.PositionName}),Object(O.jsx)("br",{}),Object(O.jsxs)("span",{className:"mx-1",children:[e.FirstName," ",e.LastName]})]})]}),Object(O.jsx)("div",{className:"ms-auto mr-3",children:null!==e&&void 0!==e&&null!==(d=e.attendance)&&void 0!==d&&d.loginTime[0]?null===e||void 0===e||null===(j=e.attendance)||void 0===j?void 0:j.loginTime[0]:"--"}),Object(O.jsx)("div",{style:{fontSize:".8rem"},className:"text-capitalize",children:n(null===e||void 0===e||null===(m=e.attendance)||void 0===m?void 0:m.loginTime[0])})]},t)})):Object(O.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center gap-2",style:{height:"13rem",width:"100%"},children:[Object(O.jsx)("img",{style:{height:"100px",width:"130px",objectFit:"cover"},className:"mx-auto",src:ol,alt:"Happy Birthday"}),Object(O.jsx)("p",{style:{opacity:"60%",fontSize:".9rem"},className:"text-center w-75 mx-auto",children:"No Team Found"})]})}),2==i&&Object(O.jsx)("div",{children:a.filter((e=>2===e.Account)).length>0?a.filter((e=>2===e.Account)).map(((e,t)=>{var a,s,l,c,r,o,i,d,j,m;return Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between my-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[Object(O.jsx)("div",{style:{height:"30px",width:"30px",borderRadius:"50%",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#ccc",borderRadius:"50%",fontSize:"14px",fontWeight:"bold",color:"#fff"},children:null!==e&&void 0!==e&&null!==(a=e.profile)&&void 0!==a&&a.image_url?Object(O.jsx)("img",{style:{height:"100%",width:"100%",objectFit:"cover",overflow:"hidden",borderRadius:"50%"},src:e.profile.image_url,alt:`${null===e||void 0===e||null===(s=e.FirstName)||void 0===s?void 0:s.toUpperCase()} ${null===e||void 0===e||null===(l=e.LastName)||void 0===l?void 0:l.toUpperCase()}`}):`${null===e||void 0===e||null===(c=e.FirstName)||void 0===c||null===(r=c[0])||void 0===r?void 0:r.toUpperCase()}${null===e||void 0===e||null===(o=e.LastName)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.toUpperCase()}`}),Object(O.jsxs)("div",{className:"text-capitalize",children:[Object(O.jsxs)("span",{className:"mx-1",children:[e.FirstName," ",e.LastName]}),Object(O.jsx)("br",{}),Object(O.jsx)("span",{className:"text-primary py-1 px-2 rounded-2",style:{background:"#2984da21",fontSize:".8rem"},children:e.position.PositionName})]})]}),Object(O.jsx)("div",{className:"ms-auto mr-3",children:null!==e&&void 0!==e&&null!==(d=e.attendance)&&void 0!==d&&d.loginTime[0]?null===e||void 0===e||null===(j=e.attendance)||void 0===j?void 0:j.loginTime[0]:"--"}),Object(O.jsx)("div",{style:{fontSize:".8rem"},className:"text-capitalize",children:n(null===e||void 0===e||null===(m=e.attendance)||void 0===m?void 0:m.loginTime[0])})]},t)})):Object(O.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center gap-2",style:{height:"13rem",width:"100%"},children:[Object(O.jsx)("img",{style:{height:"100px",width:"130px",objectFit:"cover"},className:"mx-auto",src:ol,alt:"Happy Birthday"}),Object(O.jsx)("p",{style:{opacity:"60%",fontSize:".9rem"},className:"text-center w-75 mx-auto",children:"No Team Found"})]})}),3==i&&Object(O.jsx)("div",{children:a.filter((e=>e.reportManager===j)).length>0?a.filter((e=>e.reportManager===j)).map(((e,t)=>{var a,s,l,c,r,o,i,d,j,m;return Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between my-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[Object(O.jsx)("div",{style:{height:"30px",width:"30px",borderRadius:"50%",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#ccc",borderRadius:"50%",fontSize:"14px",fontWeight:"bold",color:"#fff"},children:null!==e&&void 0!==e&&null!==(a=e.profile)&&void 0!==a&&a.image_url?Object(O.jsx)("img",{style:{height:"100%",width:"100%",objectFit:"cover",overflow:"hidden",borderRadius:"50%"},src:e.profile.image_url,alt:`${null===e||void 0===e||null===(s=e.FirstName)||void 0===s?void 0:s.toUpperCase()} ${null===e||void 0===e||null===(l=e.LastName)||void 0===l?void 0:l.toUpperCase()}`}):`${null===e||void 0===e||null===(c=e.FirstName)||void 0===c||null===(r=c[0])||void 0===r?void 0:r.toUpperCase()}${null===e||void 0===e||null===(o=e.LastName)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.toUpperCase()}`}),Object(O.jsxs)("div",{className:"text-capitalize",children:[Object(O.jsxs)("span",{className:"mx-1",children:[e.FirstName," ",e.LastName]}),Object(O.jsx)("br",{}),Object(O.jsx)("span",{className:"text-primary py-1 px-2 rounded-2",style:{background:"#2984da21",fontSize:".8rem"},children:e.position.PositionName})]})]}),Object(O.jsx)("div",{className:"ms-auto mr-3",children:null!==e&&void 0!==e&&null!==(d=e.attendance)&&void 0!==d&&d.loginTime[0]?null===e||void 0===e||null===(j=e.attendance)||void 0===j?void 0:j.loginTime[0]:"--"}),Object(O.jsx)("div",{style:{fontSize:".8rem"},className:"text-capitalize",children:n(null===e||void 0===e||null===(m=e.attendance)||void 0===m?void 0:m.loginTime[0])})]},t)})):Object(O.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center gap-2",style:{height:"13rem",width:"100%"},children:[Object(O.jsx)("img",{style:{height:"100px",width:"130px",objectFit:"cover"},className:"mx-auto",src:ol,alt:"Happy Birthday"}),Object(O.jsx)("p",{style:{opacity:"60%",fontSize:".9rem"},className:"text-center w-75 mx-auto",children:"No Team Found"})]})}),4==i&&Object(O.jsx)("div",{children:a.filter((e=>e.reportManager===o)).length>0?a.filter((e=>e.reportManager===o)).map(((e,t)=>{var a,s,l,c,r,o,i,d,j,m;return Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between my-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[Object(O.jsx)("div",{style:{height:"30px",width:"30px",borderRadius:"50%",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#ccc",borderRadius:"50%",fontSize:"14px",fontWeight:"bold",color:"#fff"},children:null!==e&&void 0!==e&&null!==(a=e.profile)&&void 0!==a&&a.image_url?Object(O.jsx)("img",{style:{height:"100%",width:"100%",objectFit:"cover",overflow:"hidden",borderRadius:"50%"},src:e.profile.image_url,alt:`${null===e||void 0===e||null===(s=e.FirstName)||void 0===s?void 0:s.toUpperCase()} ${null===e||void 0===e||null===(l=e.LastName)||void 0===l?void 0:l.toUpperCase()}`}):`${null===e||void 0===e||null===(c=e.FirstName)||void 0===c||null===(r=c[0])||void 0===r?void 0:r.toUpperCase()}${null===e||void 0===e||null===(o=e.LastName)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.toUpperCase()}`}),Object(O.jsxs)("div",{className:"text-capitalize",children:[Object(O.jsxs)("span",{className:"mx-1",children:[e.FirstName," ",e.LastName]}),Object(O.jsx)("br",{}),Object(O.jsx)("span",{className:"text-primary py-1 px-2 rounded-2",style:{background:"#2984da21",fontSize:".8rem"},children:e.position.PositionName})]})]}),Object(O.jsx)("div",{className:"ms-auto mr-3",children:null!==e&&void 0!==e&&null!==(d=e.attendance)&&void 0!==d&&d.loginTime[0]?null===e||void 0===e||null===(j=e.attendance)||void 0===j?void 0:j.loginTime[0]:"--"}),Object(O.jsx)("div",{style:{fontSize:".8rem"},className:"text-capitalize",children:n(null===e||void 0===e||null===(m=e.attendance)||void 0===m?void 0:m.loginTime[0])})]},t)})):Object(O.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center gap-2",style:{height:"13rem",width:"100%"},children:[Object(O.jsx)("img",{style:{height:"100px",width:"130px",objectFit:"cover"},className:"mx-auto",src:ol,alt:"Happy Birthday"}),Object(O.jsx)("p",{style:{opacity:"60%",fontSize:".9rem"},className:"text-center w-75 mx-auto",children:"No Team Found"})]})})]})]})},dl=(a(296),a.p+"static/media/ActiveTask.ab711523.svg");var jl=()=>{const[e,t]=Object(s.useState)([]),[a,l]=Object(s.useState)(null),[c,r]=Object(s.useState)(!0),{darkMode:o}=g(),{userData:i}=Object(P.c)((e=>e.user)),j=null===i||void 0===i?void 0:i.Email;if(Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get(`${E}/api/tasks`);console.log(e.data),t(e.data)}catch(a){console.error("Error fetching tasks:",a.message),l("Error fetching tasks. Please try again later.")}finally{r(!1)}})()}),[]),c)return Object(O.jsx)("div",{children:"Loading..."});if(a)return Object(O.jsx)("div",{children:a});const m=e=>new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}),h=e=>{const t=e.employees.length-e.employees.filter((e=>"Rejected"===e.emptaskStatus)).length,a=e.employees.filter((e=>"Completed"===e.emptaskStatus)).length;return t>0?a/t*100:0},b=e=>{switch(e){case"Assigned":return Object(O.jsx)("span",{className:"p-1 px-2 d-flex align-items-center gap-1  rounded-2",style:{background:o?"#e1ea2f4b":"#131414f1",color:o?"#131414f1":"#f3ff14c4",fontSize:".8rem"},children:"Assigned"});case"Completed":return Object(O.jsx)("span",{className:"p-1 px-2 d-flex align-items-center gap-1  rounded-2",style:{background:o?"#3ee7284a":"#131414f1",color:o?"#131414f1":"#1cdf4dc4",fontSize:".8rem"},children:"Completed"});case"Cancelled":return Object(O.jsx)("span",{className:"p-1 px-2 d-flex align-items-center gap-1  rounded-2",style:{background:o?"#e1ea2f4b":"#131414f1",color:o?"#131414f1":"#f3ff14c4",fontSize:".8rem"},children:"Cancelled"});case"Rejected":return Object(O.jsx)("span",{className:"p-1 px-2 d-flex align-items-center gap-1  rounded-2",style:{background:o?"#e1ea2f4b":"#131414f1",color:o?"#131414f1":"#f3ff14c4",fontSize:".8rem"},children:"Rejected"});default:return Object(O.jsx)("span",{className:"p-1 px-2 d-flex align-items-center gap-1  rounded-2",style:{background:o?"#e1ea2f4b":"#131414f1",color:o?"#131414f1":"#f3ff14c4",fontSize:".8rem"},children:"Pending"})}};return Object(O.jsxs)("div",{style:{height:"17rem",overflow:"hidden",background:o?"#F5F5F6":"#161515f6"},className:"p-2 px-3 shadow-sm rounded-2 d-flex flex-column gap-2",onWheel:e=>{const t=e.currentTarget;0!==e.deltaY&&(t.scrollLeft+=e.deltaY,e.preventDefault())},children:[Object(O.jsxs)("div",{style:{height:"3vh"},className:"d-flex align-items-center justify-content-between",children:[Object(O.jsxs)("h5",{style:{color:o?"black":"white"},className:"my-1 fw-normal  d-flex align-items-center gap-2",children:[Object(O.jsx)(x.p,{})," Team Task"]}),Object(O.jsx)(n.a,{to:"/employee/task",className:"d-flex text-decoration-none text-black align-items-center justify-content-center bg-white px-2 rounded-5",children:"See All"})]}),Object(O.jsxs)("div",{children:[" ",e.filter((e=>e.employees.some((e=>e.employee.Email===j)))).length>0?Object(O.jsx)("div",{className:"d-flex w-100 align-items-center gap-3 py-2",style:{overflowX:"auto",overflowY:"hidden",whiteSpace:"nowrap",height:"calc(100% - 1.5vh)"},children:e.filter((e=>e.employees.some((e=>e.employee.Email===j)))).reverse().map(((e,t)=>{return Object(O.jsxs)("div",{style:{height:"100%",minHeight:"13rem",width:"45%",minWidth:"25rem",overflow:"hidden",background:o?"#ffffffbc":"#252424c3",border:o?"1px solid #2524245a":"1px solid #f2f2f26c"},className:"shadow-sm rounded-3 d-flex flex-column justify-content-between p-2 ",children:[Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("h6",{style:{color:o?"black":"white"},className:"m-0 text-capitalize",children:e.Taskname}),b(e.status)]}),Object(O.jsxs)("div",{style:{fontSize:".8rem"},className:"d-flex align-items-center gap-3",children:[Object(O.jsx)("div",{className:"my-1",children:Object(O.jsxs)("span",{style:{width:"fit-content",background:o?"#a2f6804a":"#a6f4963c",color:o?"#20680dc4":"#3ddc11c4"},className:"p-1 px-2 d-flex align-items-center gap-1  rounded-2",children:[Object(O.jsx)(Fe.d,{})," ",m(e.startDate)]})}),Object(O.jsx)(Fe.a,{style:{color:o?"black":"white"}}),Object(O.jsx)("div",{children:Object(O.jsxs)("span",{style:{width:"fit-content",background:o?"#f6a18049":"#f4a4963b",color:o?"#681f0dc4":"#ff6131ef"},className:"p-1 px-2 d-flex align-items-center gap-1  rounded-2",children:[Object(O.jsx)(Fe.d,{})," ",m(e.endDate)]})})]}),Object(O.jsx)("p",{style:{whiteSpace:"wrap",color:o?"black":"white",minHeight:"4rem",maxHeight:"4rem"},children:(a=e.description,a.length>150?a.toString().slice(0,150)+"...":a)})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex align-items-center  gap-3 justify-content-between p-1",children:[Object(O.jsx)("div",{style:{minHeight:".3rem",height:".3rem",maxHeight:".3rem",width:"100%",background:"#78788054"},className:"rounded-5 ",children:Object(O.jsx)("div",{style:{height:"100%",width:`${h(e)}%`,background:"#007AFF"},className:"rounded-5"})}),Object(O.jsxs)("span",{style:{fontSize:".8rem",color:o?"black":"white"},children:[h(e).toFixed(2),"%"]})]}),Object(O.jsxs)("p",{style:{fontSize:".8rem",color:o?"black":"white"},children:["Last Update : ",Je(e.updatedAt)]})]})]},t);var a}))}):Object(O.jsxs)("div",{className:"d-flex w-100 flex-column align-items-center justify-content-center gap-3 py-2",style:{overflowX:"auto",overflowY:"hidden",whiteSpace:"nowrap",height:"14rem"},children:[Object(O.jsx)("img",{style:{height:"120px",width:"120px"},className:"mx-auto",src:dl,alt:"Task Not Found"}),Object(O.jsx)("p",{style:{opacity:"60%",fontSize:"13px"},className:"text-center w-75 mx-auto",children:"Task Not Found"})]})]})]})};var ml=()=>{const e=[{component:Object(O.jsx)(Ue,{}),display:"col-12 col-md-6 col-lg-4 p-2"},{component:Object(O.jsx)(nt,{}),display:"col-12 col-md-6 col-lg-4 p-2"},{component:Object(O.jsx)(Ze,{}),display:"col-12 col-md-6 col-lg-4 p-2"},{component:Object(O.jsx)(ot,{}),display:"col-12 col-md-6 col-lg-4 p-2"},{component:Object(O.jsx)(jl,{}),display:"col-12 col-md-6 col-lg-4 p-2"},{component:Object(O.jsx)(Ke,{}),display:"col-12 col-md-4 col-md-3 p-2"},{component:Object(O.jsx)(tt,{}),display:"col-12 col-md-6 col-lg-4 p-2"},{component:Object(O.jsx)(il,{}),display:"col-12 col-md-6 col-lg-4 p-2"}];return Object(O.jsx)("div",{className:"container-fluid pb-5",children:Object(O.jsx)("div",{className:"row align-items-center",children:e.map(((e,t)=>{let{component:a,display:s}=e;return Object(O.jsx)("div",{className:s,children:a},t)}))})})},hl=a(316),bl=a.n(hl);a(621);var ul=e=>{const[t,a]=Object(s.useState)([]),{userData:l}=Object(P.c)((e=>e.user)),c=null===l||void 0===l?void 0:l._id,{darkMode:r}=g(),[n,o]=Object(s.useState)({options:{labels:[],plotOptions:{pie:{donut:{labels:{show:!0,total:{show:!0}}}}}},series:[]});Object(s.useEffect)((()=>{d.a.get(`${E}/api/employee/`+c,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{Array.isArray(e.data)?a(e.data.map((e=>e.department[0]?e.department[0].DepartmentName:""))):console.error("Data received is not an array:",e.data)})).catch((e=>{}))}),[]);return Object(s.useEffect)((()=>{(()=>{const e={};t.forEach((t=>{e[t]=(e[t]||0)+1}));const a=Object.keys(e),s=a.map((t=>e[t]));o({options:{labels:a,legend:{position:"bottom",labels:{colors:["blue","green","orange","red","#775dd0"]}},plotOptions:{pie:{donut:{labels:{show:!0,total:{show:!0}}}}}},series:s})})()}),[t]),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{style:{height:"410px",background:r?"var(--primaryDashMenuColor)":"var(--primaryDashColorDark)",color:r?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"ChartCard shadow p-2 py-4 pb-0",children:[Object(O.jsx)("h6",{style:{width:"fit-content",boxShadow:`0 0 10px 1px ${r?"rgba(0,0,0,.2)":"rgba(201, 196, 196, 0.2)"} inset`,color:r?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"fw-bolder d-flex px-3 rounded-5 py-2",children:"Employee By Department"}),Object(O.jsx)(bl.a,{options:n.options,series:n.series,type:"donut",height:"340px"})]})})};a(622);var pl=()=>{const[e,t]=Object(s.useState)(!1),[a,l]=Object(s.useState)([]),[c,r]=Object(s.useState)(null),{socket:n}=Object(s.useContext)(b),{userData:o}=Object(P.c)((e=>e.user)),i=null===o||void 0===o?void 0:o._id,j=null===o||void 0===o?void 0:o.Email,m=()=>{d.a.get(`${E}/api/particularEmployee/${i}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{r(e.data.Notification)})).catch((e=>{}))};Object(s.useEffect)((()=>{m()}),[]),Object(s.useEffect)((()=>{n&&n.on("taskNotificationReceived",(()=>{m()}))}),[n]),Object(s.useEffect)((()=>{t(c&&c.length>0&&a.length===c.length)}),[a,c]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("form",{className:"d-flex col-8 flex-column gap-3",children:Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"p-2",children:[" ",Object(O.jsx)("input",{type:"checkbox",name:"",id:"",onChange:()=>{t(!e),l(e?[]:[...c])},checked:e})," ",Object(O.jsx)("span",{children:"Select All"})]}),Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{scope:"col",children:"Select"}),Object(O.jsx)("th",{scope:"col",children:"task Name"}),Object(O.jsx)("th",{scope:"col",children:"Sender"}),Object(O.jsx)("th",{scope:"col",children:"Status"}),Object(O.jsx)("th",{scope:"col",children:"Action"})]})}),Object(O.jsx)("tbody",{children:c&&c.map(((e,t)=>Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{scope:"row",children:Object(O.jsx)("input",{type:"checkbox",name:"",id:"",onChange:()=>(e=>{const t=a.some((t=>t.taskId===e.taskId));l(t?t=>t.filter((t=>t.taskId!==e.taskId)):[...a,e])})(e),checked:a.some((t=>t.taskId===e.taskId))})}),Object(O.jsx)("td",{children:e.taskName}),Object(O.jsx)("td",{children:e.senderMail}),"unseen"===e.status?Object(O.jsx)("td",{children:"Unread"}):Object(O.jsx)("td",{children:"read"}),Object(O.jsx)("td",{children:Object(O.jsx)(Re.a,{onClick:()=>(e=>{d.a.post(`${E}/api/notificationDeleteHandler/${e}`,{email:j},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{r(e.data.result.Notification),l([]),n.emit("notificationPageUpdate",!0)})).catch((e=>{}))})(e.taskId),className:"bin"})})]},t)))})]})})]})})}),Object(O.jsx)("button",{className:"Notification_delete",onClick:()=>{if(a.length>0){const t=a.map((e=>e.taskId)),s={employeeMail:j,tasks:t};e?c.length>0&&d.a.post(`${E}/api/selectedNotificationDelete`,{email:j},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{r(e.data.result.Notification),n.emit("notificationPageUpdate",!0)})).catch((e=>{})):d.a.post(`${E}/api/multiSelectedNotificationDelete`,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{r(e.data.result.Notification),l([]),n.emit("notificationPageUpdate",!0)})).catch((e=>{}))}},children:"Delete"})]})};var xl=e=>{let{data:t}=e;const[a,l]=Object(s.useState)(null),[c,r]=Object(s.useState)((new Date).getFullYear()),[n,o]=Object(s.useState)((new Date).getMonth()+1),[i,j]=Object(s.useState)("monthly");Date.prototype.getWeek=function(){const e=new Date(this.getFullYear(),0,1),t=(this-e)/864e5;return Math.ceil((t+e.getDay()+1)/7)};const[m,h]=Object(s.useState)((new Date).getWeek()),{userData:b}=Object(P.c)((e=>e.user)),u=b._id,{darkMode:p}=g();Object(s.useEffect)((()=>{x()}),[c,n,m,i]);const x=async()=>{try{const e=(await d.a.get(`${E}/api/attendance/${u}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}})).data.find((e=>{var t;return(null===(t=e.employeeObjID)||void 0===t?void 0:t._id)===u}));l(e||null)}catch(e){console.error("Error fetching attendance data:",e)}};function v(e){let t=60*e,a=Math.floor(t/3600),s=Math.floor(t%3600/60),l=t%60;return a=a<10?"0"+a:a,s=s<10?"0"+s:s,l=l<10?"0"+l:l,a+" : "+s+" : "+l}const y=(e,t)=>{if(!e)return null;const a=e.years.find((e=>e.year===c)),s="monthly"===t||"weekly"===t?null===a||void 0===a?void 0:a.months.find((e=>e.month===n)):null,l={totalWorkingHours:0,totalPresent:0,totalAbsent:0,totalHalfDays:0},r="monthly"===t?null===s||void 0===s?void 0:s.dates:"weekly"===t?null===s||void 0===s?void 0:s.dates.filter((e=>function(e){const t=new Date,a=new Date(t.setDate(t.getDate()-t.getDay()+1)),s=new Date(t.setDate(a.getDate()+6));a.setHours(0,0,0,0),s.setHours(23,59,59,999);const l=new Date(t.getFullYear(),t.getMonth()-1,e);return l>=a&&l<=s}(e.date))):null===a||void 0===a?void 0:a.months.flatMap((e=>e.dates));return r&&r.forEach((e=>{const t=(e=>{var t;const[a,s]=(null===e||void 0===e||null===(t=e.loginTime[0])||void 0===t?void 0:t.split(":").map(Number))||[0,0];return a>9||9===a&&s>45?"H":a?"P":"A"})(e);l.totalWorkingHours+=e.totalLogAfterBreak,l.totalPresent+="P"===t?1:0,l.totalAbsent+="A"===t?1:0,l.totalHalfDays+="H"===t?1:0})),l},f=y(a,"monthly"===i||"weekly"===i?i:"yearly"),N={height:"fit-content",background:p?"var(--primaryDashMenuColor)":"var(--primaryDashColorDark)",color:p?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)",maxHeight:"fit-content",overflow:"hidden"};return Object(O.jsx)("div",{style:N,className:"p-2 py-3 rounded-0 shadow",children:a&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"container-fluid d-flex align-items-center justify-content-between",children:[Object(O.jsx)("div",{className:"mb-3",children:Object(O.jsxs)("select",{className:""+(p?"form-select bg-white text-dark border-0 shadow":"form-select bg-dark text-white border-0 shadow"),id:"viewType",value:i,onChange:e=>j(e.target.value),children:[Object(O.jsx)("option",{value:"yearly",children:"View Yearly Logs"}),Object(O.jsx)("option",{value:"monthly",children:"View Monthly Logs"}),Object(O.jsx)("option",{value:"weekly",children:"View Weekly Logs"})]})}),Object(O.jsx)("h6",{style:{color:p?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)",fontWeight:"normal"},children:"monthly"===i?"Monthly Logs":"weekly"===i?"Weekly Logs":"Yearly Logs"})]}),f&&Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"row px-4 py-2 justify-content-between row-gap-4",children:Object.entries(f).map((e=>{let[t,a]=e;return Object(O.jsx)("div",{className:"align-items-center col-12 col-md-6 p-1",children:Object(O.jsxs)("div",{style:{background:p?"var(--basecolor)":"var(--basecolor4)"},className:"d-flex align-items-center py-3 rounded-2",children:[Object(O.jsxs)("div",{className:"col-8",children:[Object(O.jsx)("p",{className:"m-0",children:`${t.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase()))}`}),Object(O.jsx)("h6",{className:"m-0 fw-normal",children:"totalWorkingHours"===t?v(a)+" Hrs":`${a} Days`})]}),Object(O.jsxs)("div",{className:"col-4 d-flex justify-content-center align-items-center",children:["totalWorkingHours"===t&&Object(O.jsx)("span",{className:""+(p?"d-flex align-items-center  justify-content-center border-2  border border-black rounded-5":"d-flex align-items-center  justify-content-center border-2  border border-white text-white rounded-5"),style:{height:"2rem",width:"2rem"},children:"W"}),"totalPresent"===t&&Object(O.jsx)("span",{className:""+(p?"d-flex align-items-center  justify-content-center border-2  border border-black rounded-5":"d-flex align-items-center  justify-content-center border-2  border border-white text-white rounded-5"),style:{height:"2rem",width:"2rem"},children:"P"}),"totalAbsent"===t&&Object(O.jsx)("span",{className:""+(p?"d-flex align-items-center  justify-content-center border-2  border border-black rounded-5":"d-flex align-items-center  justify-content-center border-2  border border-white text-white rounded-5"),style:{height:"2rem",width:"2rem"},children:"A"}),"totalHalfDays"===t&&Object(O.jsx)("span",{className:""+(p?"d-flex align-items-center  justify-content-center border-2  border border-black rounded-5":"d-flex align-items-center  justify-content-center border-2  border border-white text-white rounded-5"),style:{height:"2rem",width:"2rem"},children:"H"})]})]})},t)}))})})]})})};var Ol=()=>{const{messageData:e,socket:t,setChat:a,chat:l,profile:c}=Object(s.useContext)(b),{userData:r}=Object(P.c)((e=>e.user)),n=null===r||void 0===r?void 0:r.Email,i=`${null===r||void 0===r?void 0:r.FirstName} ${null===r||void 0===r?void 0:r.LastName}`,[d,j]=Object(s.useState)(""),m=Object(s.useRef)(null),h=Object(o.n)().pathname.split("/")[2],{darkMode:u}=g(),p=Object(as.a)();Object(s.useEffect)((()=>{t.emit("getMessages",{from:n,to:e.to,taskId:e.taskId,bwt:"emp-manager"},(e=>{a(e)}))}),[t,n,e,a]);const x=()=>{d.trim()&&(t.emit("sendMessage",{from:n,to:e.to,taskId:e.taskId,name:i,notiId:p,profile:c?c.image_url:null,text:d,bwt:"emp-manager"}),a((e=>[...e,{text:d,from:n,fromName:i,createAt:(new Date).toISOString()}])),j(""))};Object(s.useEffect)((()=>(t.on("newMessage",(e=>{h===e.path&&a((t=>[...t,e]))})),()=>{t.off("newMessage")})),[t,h,a]),Object(s.useEffect)((()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)}),[l]);const v=e=>{try{if(!e)return"Invalid Date";const t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";const a=new Date;return t.toDateString()===a.toDateString()?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString(void 0,{month:"short",day:"numeric"})+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch(t){return console.error("Error parsing date:",t),"Invalid Date"}};return Object(O.jsxs)("div",{style:{color:u?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"container-fluid py-2",children:[Object(O.jsx)(ma,{title:"Chat",message:"You can chat with your team related with current Task"}),Object(O.jsxs)("div",{style:{border:"1px solid black",width:"100%",flexDirection:"column",display:"flex",flex:"1",minHeight:"80vh",justifyContent:"end",backgroundImage:u?"url(https://www.shutterstock.com/image-vector/social-media-doodle-seamless-pattern-600nw-1931497916.jpg)":"url(https://i.pinimg.com/originals/b9/1d/c2/b91dc2113881469c07ac99ad9a024a01.jpg)",backgroundPosition:"center",backgroundSize:"250px",backgroundRepeat:"repeat"},children:[Object(O.jsx)("div",{ref:m,style:{overflow:"auto",maxHeight:"77vh",padding:"16px",display:"flex",flexDirection:"column",gap:"8px",overflowY:"scroll"},children:l.map(((e,t)=>Object(O.jsxs)("div",{style:{alignSelf:e.from===n?"flex-end":"flex-start",backgroundColor:e.from===n?"#d1e7dd":"#f8d7da",padding:"10px",borderRadius:"5px"},children:[Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0px",gap:"20px"},children:[Object(O.jsx)("span",{style:{fontSize:"0.7em",color:"#6c757d",fontWeight:"bold"},children:e.from===n?"You":e.fromName}),Object(O.jsx)("span",{style:{fontSize:"0.6em",color:"#6c757d"},children:v(e.createAt)})]}),Object(O.jsx)("div",{className:"text-dark",children:e.text})]},t)))}),Object(O.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px",padding:"8px"},children:[Object(O.jsx)("input",{style:{flexGrow:"1",padding:"8px",borderRadius:"4px",border:"1px solid #ced4da"},type:"text",value:d,onChange:e=>j(e.target.value),onKeyDown:e=>{"Enter"===e.key&&x()},placeholder:"Type a message..."}),Object(O.jsx)("button",{style:{padding:"8px 16px",backgroundColor:"#0d6efd",border:"none",borderRadius:"4px",color:"white",cursor:"pointer"},onClick:x,children:"Send"})]})]})]})};var vl=()=>{const e=Object(P.b)(),{tasks:t,loading:a,error:l}=Object(P.c)((e=>e.tasks));Object(s.useEffect)((()=>{e(ne())}),[e]);const[c,r]=Object(s.useState)("newTask");return a?Object(O.jsx)("p",{children:"Loading..."}):l?Object(O.jsx)("p",{children:l}):Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2 justify-content-end",children:[Object(O.jsx)("button",{className:"btn shadow-sm ",style:{background:"newTask"===c?"#5d62e89a":"#F5F5F5",color:"newTask"===c?"#F5F5F5":"#1b20a4d3"},onClick:()=>r("newTask"),children:"New Task"}),Object(O.jsx)("button",{className:"btn shadow-sm border",style:{background:"activeTask"===c?"#5d62e89a":"#F5F5F5",color:"activeTask"===c?"#F5F5F5":"#1b20a4d3"},onClick:()=>r("activeTask"),children:"Active Task"}),Object(O.jsx)("button",{className:"btn shadow-sm ",style:{background:"taskComplete"===c?"#5d62e89a":"#F5F5F5",color:"taskComplete"===c?"#F5F5F5":"#1b20a4d3"},onClick:()=>r("taskComplete"),children:"Completed Task"}),Object(O.jsx)("button",{className:"btn shadow-sm ",style:{background:"taskReject"===c?"#5d62e89a":"#F5F5F5",color:"taskReject"===c?"#F5F5F5":"#1b20a4d3"},onClick:()=>r("taskReject"),children:"Rejected Task"})]}),Object(O.jsx)("div",{className:"",children:(()=>{switch(c){case"activeTask":return Object(O.jsx)(al,{});case"taskComplete":return Object(O.jsx)(sl,{});case"taskReject":return Object(O.jsx)(ll,{});default:return Object(O.jsx)(tl,{})}})()})]})};a(623);var gl=e=>{const[t,a]=Object(s.useState)(!0),{isOpen:l}=C(),{darkMode:c}=g();return Object(O.jsx)("div",{style:{backgroundColor:c?"var(--secondaryDashMenuColor)":"var(--secondaryDashColorDark)",maxHeight:"100vh",overflow:"hidden",position:"fixed",width:"100%",left:"0",top:"0"},children:Object(O.jsxs)("div",{className:"dashboard-grid-employee",children:[Object(O.jsx)("div",{style:{transform:l?"translateX(0%)":"translateX(-500%)",transition:"1s ease"},className:"sidebarsmall d-flex ",children:Object(O.jsx)(_e,{})}),Object(O.jsx)("div",{className:"employeenavbar-grid",children:Object(O.jsx)(ve,{checked:t,handleChange:()=>{t?document.getElementById("sidebar").setAttribute("class","display-none"):document.getElementById("sidebar").setAttribute("class","display-block"),a(!t)},onLogout:e.onLogout})}),Object(O.jsx)("div",{className:"employeesidebar-grid",children:Object(O.jsx)(qe,{})}),Object(O.jsxs)("div",{className:"employeemainbar-grid",children:[Object(O.jsx)(cl,{children:Object(O.jsx)("div",{style:{height:"82vh",width:"100%",overflow:"auto"},className:"empSidebar d-flex flex-column pb-3",children:Object(O.jsx)(o.a,{})})}),Object(O.jsx)("div",{style:{zIndex:"50",position:"absolute",bottom:"0"},className:"HrPannelFooter bg-dark w-100 text-white",children:Object(O.jsx)(we,{})})]})]})})};a(624);var yl=e=>{let{percentage:t,color:a,background:s}=e;const l=50,c=84*Math.PI,r=c-t/100*c;return Object(O.jsxs)("svg",{height:100,width:100,className:"circular-progress-bar",children:[Object(O.jsx)("defs",{children:Object(O.jsxs)("filter",{id:"inset-shadow",children:[Object(O.jsx)("feComponentTransfer",{in:"SourceAlpha",children:Object(O.jsx)("feFuncA",{type:"table",tableValues:"1 0"})}),Object(O.jsx)("feGaussianBlur",{stdDeviation:"3"}),Object(O.jsx)("feOffset",{dx:"2",dy:"2",result:"offsetblur"}),Object(O.jsx)("feFlood",{floodColor:"black",result:"color"}),Object(O.jsx)("feComposite",{in2:"offsetblur",operator:"in"}),Object(O.jsx)("feComposite",{in2:"SourceAlpha",operator:"in"}),Object(O.jsxs)("feMerge",{children:[Object(O.jsx)("feMergeNode",{}),Object(O.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})}),Object(O.jsx)("circle",{className:"background-circle",stroke:"rgba(255,255,255,.8)",fill:"transparent",strokeWidth:16,r:42,cx:l,cy:l}),Object(O.jsx)("circle",{className:"progress-circle",stroke:s,fill:"transparent",strokeWidth:16,strokeDasharray:`${c} ${c}`,style:{strokeDashoffset:r},strokeLinecap:"round",r:42,cx:l,cy:l,filter:"url(#inset-shadow)"}),Object(O.jsx)("text",{x:"50%",y:"50%",dy:".3em",textAnchor:"middle",fontSize:"20px",fill:a,className:"progress-text",children:`${t}%`})]})};var fl=()=>{const{darkMode:e}=g(),[t,a]=Object(s.useState)([]),[l,c]=Object(s.useState)(!0),[r,o]=Object(s.useState)(null),[i,j]=Object(s.useState)("All"),[m,h]=Object(s.useState)(0),[b,u]=Object(s.useState)(0);Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get(`${E}/api/tasks`);a(e.data)}catch(r){o("Error fetching tasks. Please try again later.")}finally{c(!1)}})()}),[]),Object(s.useEffect)((()=>{t.length>0&&(p(i),x(i))}),[t,i]);const p=e=>{const a="All"===e?t:t.filter((t=>t.department===e)),s=a.filter((e=>"Completed"===e.status)),l=a.length>0?Math.round(s.length/a.length*100):0;h(l)},x=e=>{const a="All"===e?t:t.filter((t=>t.department===e)),s=a.filter((e=>"Completed"===e.status)),l=a.length>0?`${s.length} / ${a.length}`:"0";u(l)},v=Object(s.useMemo)((()=>Array.from(new Set(t.map((e=>e.department))))),[t]);if(l)return Object(O.jsx)("p",{children:"Loading..."});if(r)return Object(O.jsx)("p",{children:r});const{label:y,icon:f,badgeClass:N}=m<15?{label:"Unsatisfy",icon:Object(O.jsx)(ct.c,{}),badgeClass:"badge-danger"}:m<30?{label:"Bad",icon:Object(O.jsx)(ct.d,{}),badgeClass:"badge-Semidanger"}:m<45?{label:"Neutral",icon:Object(O.jsx)(ct.f,{}),badgeClass:"badge-Semiwarning"}:m<60?{label:"Good",icon:Object(O.jsx)(ct.g,{}),badgeClass:"badge-warning"}:m<75?{label:"Satisfied",icon:Object(O.jsx)(ct.e,{}),badgeClass:"badge-success"}:{label:"Excellent",icon:Object(O.jsx)(ct.h,{}),badgeClass:"badge-success"};return Object(O.jsxs)("div",{style:{height:"17rem",overflow:"hidden",color:e?"black":"white",background:e?"#F5F5F6":"#161515f6"},className:"p-2 px-3 shadow-sm rounded-2 d-flex flex-column gap-2",children:[Object(O.jsxs)("h5",{className:"my-0 fw-normal d-flex align-items-center gap-2",children:[Object(O.jsx)(R.d,{})," Task Completion Rate"]}),Object(O.jsxs)("div",{style:{height:"13.5rem",overflow:"auto",background:e?"#ededf1d4":"#252424c3"},className:"rounded-3 p-2 py-2",children:[Object(O.jsxs)("div",{style:{height:"9rem"},className:"row w-100 mx-auto",children:[Object(O.jsxs)("div",{className:"col-6 p-2",children:[Object(O.jsx)("h6",{children:"Average submission"}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[Object(O.jsx)("h2",{className:"fw-bold",style:{color:m<25?"#C7253E":m<50?"#E85C0D":m<75?"#FABC3F":"#41B06E",fontSize:"1.8rem"},children:b}),Object(O.jsxs)("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0 .5rem"},className:""+(e?`${N} p-2`:`${N}-dark p-2`),children:[y," ",f]})]})]}),Object(O.jsx)("div",{className:"col-6 p-1",children:Object(O.jsx)(yl,{percentage:m,background:m<25?"#C7253E":m<50?"#E85C0D":m<75?"#FABC3F":"#41B06E",color:m<25?"#C7253E":m<50?"#E85C0D":m<75?"#FABC3F":"#41B06E"})})]}),Object(O.jsxs)("div",{style:{height:"4rem"},className:"row py-2  mx-auto w-100",children:[Object(O.jsx)("div",{className:"col-6 d-flex justify-content-center flex-column",children:Object(O.jsxs)("select",{id:"department-select",style:{padding:".4rem .6rem .4rem .8rem"},className:"form-select",onChange:e=>j(e.target.value),value:i,children:[Object(O.jsx)("option",{value:"All",children:"All Departments"}),v.map((e=>Object(O.jsx)("option",{value:e,children:e},e)))]})}),Object(O.jsx)("div",{className:"col-6 d-flex align-items-center justify-content-center",children:Object(O.jsxs)(n.a,{to:"/admin/task",style:{padding:".2rem .6rem .2rem .8rem"},className:"btn bg-light  shadow-sm d-flex gap-2 rounded-5 border-0",children:[Object(O.jsx)("h6",{className:"m-0 my-auto",children:"Add task"}),Object(O.jsx)("span",{style:{height:"30px",width:"30px",borderRadius:"50%"},className:"d-flex shadow align-items-center justify-content-center",children:"+"})]})})]})]})]})};a(625),a(626);const Nl=e=>{let{show:t,onClose:a,title:s,children:l,style:c}=e;if(!t)return null;return Object(O.jsx)("div",{onClick:a,className:"custom-modal-overlay",style:{border:"2px solid white"},children:Object(O.jsxs)("div",{onClick:e=>{e.stopPropagation()},style:c,className:"custom-modal",children:[Object(O.jsxs)("div",{className:"custom-modal-header",children:[Object(O.jsx)("h6",{className:"fs-5",children:s}),Object(O.jsx)("button",{onClick:a,className:"close-button",children:Object(O.jsx)(x.e,{})})]}),Object(O.jsx)("div",{className:"custom-modal-body",children:l})]})})};var Dl=()=>{var e;const t=Object(o.p)(),{setManagerMail:a}=Object(s.useContext)(b),[l,c]=Object(s.useState)(!1),[r,n]=Object(s.useState)(null),[i,j]=Object(s.useState)({}),{darkMode:m}=g();Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get(`${E}/api/employeeByDepartment`);j(e.data)}catch(e){console.error("Error fetching employee data:",e)}})()}),[]);return Object(O.jsxs)("div",{style:{height:"17rem",overflow:"hidden",color:m?"black":"white",background:m?"#F5F5F6":"#161515f6"},className:"px-3 shadow-sm rounded-2 d-flex flex-column gap-2 justify-content-between pb-3 pt-2",children:[Object(O.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[Object(O.jsx)("h5",{className:"mb-0",children:"Team"}),Object(O.jsx)("span",{style:{minHeight:"1.6rem",minWidth:"1.6rem",borderRadius:"50%",background:m?"#ededf1d4":"#252424c3"},className:"d-flex align-items-center justify-content-center",children:Object.keys(i).length})]}),Object(O.jsx)("div",{style:{height:"13.5rem",overflow:"auto",background:m?"#ededf1d4":"#252424c3"},className:"rounded-3 p-2 py-2",children:Object(O.jsx)("ul",{children:Object.keys(i).length>0&&Object.keys(i).map(((e,t)=>Object(O.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{className:"p-1 m-0",children:e}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[i[e].map(((e,t)=>Object(O.jsx)("img",{src:null===e.profile?w:e.profile.image_url,alt:e.name,className:"rounded-circle me-2",style:{width:"25px",height:"25px"}},t))),i[e].length>4?Object(O.jsxs)(O.Fragment,{children:["+",i[e].length-4]}):Object(O.jsx)(O.Fragment,{})]})]}),Object(O.jsxs)(xt.a,{className:"btn py-0 px-2 border rounded-5 text-decoration-none",variant:"link",onClick:()=>(e=>{n(e),c(!0)})(e),children:["View ",Object(O.jsx)(x.l,{})]})]},t)))})}),Object(O.jsx)(Nl,{style:{background:m?"white":"black"},show:l,onClose:()=>c(!1),title:`${r}`,children:r&&(null===(e=i[r])||void 0===e?void 0:e.length)>0?Object(O.jsx)("div",{style:{color:m?"black":"white"},className:"m-0 d-flex flex-column gap-2",children:i[r].map(((e,s)=>Object(O.jsxs)("li",{className:"list-group-item d-flex align-items-center justify-content-between",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("div",{style:{width:"25px",height:"25px"},children:Object(O.jsx)("img",{src:null===e.profile?w:e.profile.image_url,alt:e.name,className:"rounded-circle me-3",style:{width:"100%",height:"100%",objectFit:"cover"}})}),Object(O.jsx)("span",{children:`${e.FirstName} ${e.LastName}`})]}),Object(O.jsxs)(xt.a,{className:"btn py-0 shadow-sm px-2 border rounded-5 text-decoration-none",variant:"link",onClick:()=>(a(e.Email),void t.push("/admin/managerTeam")),children:["View Team ",Object(O.jsx)(x.l,{})]})]},s)))}):Object(O.jsx)("p",{children:"No members in this team."})})]})};var kl=()=>Object(O.jsxs)("div",{className:"d-flex flex-column row-gap-4 py-3 px-3  container-fluid",children:[Object(O.jsxs)("div",{className:"row row-gap-4",children:[Object(O.jsx)("div",{className:"col-12 colm-md-6 col-lg-4",children:Object(O.jsx)(fl,{})}),Object(O.jsx)("div",{className:"col-12 colm-md-6 col-lg-4",children:Object(O.jsx)(Dl,{})}),Object(O.jsx)("div",{className:"col-12 colm-md-6 col-lg-4",children:Object(O.jsx)(Ze,{})})]}),Object(O.jsxs)("div",{className:"row row-gap-4",children:[Object(O.jsxs)("div",{className:"col-12 col-md-8 col-lg-8 row row-gap-4",children:[Object(O.jsx)("div",{className:"col-12 col-md-6",children:Object(O.jsx)(ot,{})}),Object(O.jsx)("div",{className:"col-12 col-md-6",children:Object(O.jsx)(st,{})}),Object(O.jsx)("div",{className:"col-12 col-md-6",children:Object(O.jsx)(tt,{})}),Object(O.jsx)("div",{className:"col-12 col-md-6",children:Object(O.jsx)(Ke,{})})]}),Object(O.jsx)("div",{className:"col-12 col-md-4 col-lg-4",children:Object(O.jsx)("div",{children:Object(O.jsx)(it,{})})})]})]});a(627),a(628);const Cl=mt.a`
  display: block;
  margin: 0 auto;
  margin-top: 45px;
  border-color: red;
`;var wl=e=>{let{onAddPortal:t,onEditPortal:a}=e;const{darkMode:l}=g(),[c,r]=Object(s.useState)([]),[n,o]=Object(s.useState)(!0),[i,j]=Object(s.useState)(1),[m]=Object(s.useState)(10),h=()=>{d.a.get(`${E}/api/admin/portal`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data.map((e=>({...e,Status:1===e.Status?"enabled":"disabled"})));r(t),o(!1)})).catch((e=>{}))};Object(s.useEffect)((()=>{h()}),[]);const b=i*m,u=b-m,p=c.slice(u,b),x=[];for(let s=1;s<=Math.ceil(c.length/m);s++)x.push(s);return Object(O.jsxs)("div",{className:"container-fluid py-2",children:[Object(O.jsxs)("div",{className:"d-flex justify-between align-items-start ",children:[Object(O.jsx)(ma,{title:"Portal Details",numbers:c.length,message:"You can view all portals here."}),Object(O.jsxs)("button",{className:"btn btn-primary d-flex align-items-center  gap-2 justify-content-center",variant:"primary",id:"add-button",onClick:t,children:[Object(O.jsx)(Ie.d,{}),Object(O.jsx)("span",{className:"d-none d-md-flex",children:"Add new Details"})]})]}),Object(O.jsx)("div",{id:"clear-both"}),n?Object(O.jsx)("div",{id:"loading-bar",children:Object(O.jsx)(jt.a,{css:Cl,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}):Object(O.jsxs)("div",{children:[" ",c.length>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:ut(l),children:"S. No."}),Object(O.jsx)("th",{style:ut(l),children:"Portal"}),Object(O.jsx)("th",{style:ut(l),children:"Status"}),Object(O.jsx)("th",{className:"text-end",style:ut(l),children:"Action"})]})}),Object(O.jsx)("tbody",{children:p.map(((e,t)=>Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:pt(l),children:t+1}),Object(O.jsx)("td",{style:pt(l),children:e.PortalName}),Object(O.jsx)("td",{style:pt(l),children:Object(O.jsxs)("span",{className:"enabled"===e.Status?"border border-success px-1 rounded-5 text-capitalize":"border border-danger px-1 rounded-5 text-capitalize",children:[" ",e.Status]})}),Object(O.jsxs)("td",{className:"text-end",style:pt(l),children:[Object(O.jsx)(bt,{style:{color:l?"black":"white"},icon:Object(O.jsx)(De.b,{className:"text-primary"}),onClick:()=>a(e),tooltip:"Edit Role"}),Object(O.jsx)(bt,{style:{color:l?"black":"white"},icon:Object(O.jsx)(Ee.b,{className:"fs-5 text-danger"}),onClick:()=>{return t=e._id,void(window.confirm("Are you sure to delete this record? It will delete all projects related to this portal.")&&d.a.delete(`${E}/api/admin/portal/${t}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{h()})).catch((e=>{})));var t},tooltip:"Delete Role"})]})]},t)))})]})}),Object(O.jsx)(vt,{currentPage:i,pageNumbers:x,handlePaginationPrev:()=>{j((e=>e-1))},handlePaginationNext:()=>{j((e=>e+1))},setCurrentPage:j,filteredDataLength:c.length,itemsPerPage:m})]}):Object(O.jsxs)("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"2rem"},children:[Object(O.jsx)("img",{style:{height:"auto",width:"20%"},src:ja,alt:"img"}),Object(O.jsx)("p",{className:"text-center w-75 mx-auto",style:{color:l?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)"},children:'Portal not found. click on "+ add new details" to create new portal.'})]})]})]})};a(629);var Al=e=>{let{onPortalSubmit:t,onStatusChange:a,onFormClose:l}=e;const[c,r]=Object(s.useState)(""),{darkMode:n}=g();return Object(O.jsxs)("div",{className:"container-fluid py-3",children:[Object(O.jsxs)("div",{className:"my-auto",children:[Object(O.jsx)("h5",{style:{color:n?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)",fontWeight:"600"},children:"Add Portal Details"}),Object(O.jsx)("p",{style:{color:n?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:"You can add new portal here."})]}),Object(O.jsxs)("form",{style:{color:n?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"my-4 d-flex flex-column gap-3",onSubmit:t,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Portal"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"Please enter portal name",name:"Portal",required:!0})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Status"}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)(M.a.Check,{className:"d-flex align-items-center gap-2 text-capitalize",inline:!0,type:"radio",label:"enable",value:"1",name:"status",onChange:a,required:!0}),Object(O.jsx)(M.a.Check,{className:"d-flex align-items-center gap-2 text-capitalize",inline:!0,type:"radio",label:"disable",value:"0",name:"status",onChange:a,required:!0})]})]}),Object(O.jsxs)("div",{className:"d-flex  align-items-center gap-2",children:[Object(O.jsx)("button",{className:"btn-primary btn d-flex align-items-center justify-content-center gap-2",type:"submit",children:"Submit"}),Object(O.jsx)("button",{className:"btn-danger btn d-flex align-items-center justify-content-center gap-2",type:"reset",onClick:l,children:"Cancel"})]})]})]})};var Sl=e=>{let{editData:t,onPortalEditUpdate:a,onStatusChange:l,onFormEditClose:c}=e;const[r,n]=Object(s.useState)(t.PortalName||""),[o,i]=Object(s.useState)(t.Status||""),{darkMode:d}=g();Object(s.useEffect)((()=>{n(t.PortalName),i(t.Status)}),[t]);const j=e=>{i(e.target.value),l(e)};return Object(O.jsxs)("div",{className:"container-fluid py-3",children:[Object(O.jsxs)("div",{className:"my-auto",children:[Object(O.jsx)("h5",{style:{color:d?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)",fontWeight:"600"},children:"Edit Portal Details"}),Object(O.jsx)("p",{style:{color:d?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:"You can edit portal here."})]}),Object(O.jsxs)("form",{style:{color:d?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"my-4 d-flex flex-column gap-3",onSubmit:e=>{e.preventDefault(),a(t,e.target[0].value)},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Portal"}),Object(O.jsx)("div",{className:"form-input",children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"Portal",name:"PortalName",required:!0,value:r,onChange:e=>{n(e.target.value)}})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("lable",{children:"Status"}),Object(O.jsxs)("div",{className:"d-flex  align-items-center gap-3",children:[Object(O.jsx)(M.a.Check,{className:"d-flex align-items-center gap-2 text-capitalize",inline:!0,type:"radio",label:"enable",value:"1",name:"status",onChange:j,required:!0,checked:1===o}),Object(O.jsx)(M.a.Check,{className:"d-flex align-items-center gap-2 text-capitalize",inline:!0,type:"radio",label:"disable",value:"0",name:"status",onChange:j,required:!0,checked:0===o})]})]}),Object(O.jsxs)("div",{className:"d-flex  align-items-center gap-2",children:[Object(O.jsx)("button",{className:"btn-primary btn d-flex align-items-center justify-content-center gap-2",type:"submit",children:"Update"}),Object(O.jsx)("button",{className:"btn-danger btn d-flex align-items-center justify-content-center gap-2",type:"reset",onClick:c,children:"Cancel"})]})]})]})};var El=()=>{const[e,t]=Object(s.useState)(!0),[a,c]=Object(s.useState)(!1),[r,n]=Object(s.useState)({}),[o,i]=Object(s.useState)(""),[j,m]=Object(s.useState)("");return Object(O.jsx)(l.a.Fragment,{children:e?a?Object(O.jsx)(Sl,{onPortalEditUpdate:(e,a)=>{const s={_id:e._id,PortalName:a,Status:j,ID:e.ID};d.a.put(`${E}/api/admin/portal/${e.ID}`,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{t(!0)})).catch((e=>{})),c(!1)},onFormEditClose:()=>{c(!1)},editData:r,onStatusChange:e=>{m(e.currentTarget.value)}}):Object(O.jsx)(wl,{onAddPortal:()=>{t(!1)},onEditPortal:e=>{c(!0),n(e),m(e.Status)}}):Object(O.jsx)(Al,{onPortalSubmit:e=>{e.preventDefault();const a={PortalName:e.target[0].value,Status:o};d.a.post(`${E}/api/admin/portal`,a,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{t(!0)})).catch((e=>{}))},onFormClose:()=>{t(!0)},onStatusChange:e=>{i(e.currentTarget.value)}})})};a(630),a(631);const Ml=mt.a`
  display: block;
  margin: 0 auto;
  margin-top: 45px;
  border-color: red;
`;var Ll=e=>{const[t,a]=Object(s.useState)([]),[l,c]=Object(s.useState)(!0),[r,n]=Object(s.useState)([]),[o,i]=Object(s.useState)(null),[j,m]=Object(s.useState)("asc"),[h,b]=Object(s.useState)(null),{darkMode:u}=g(),[p,x]=Object(s.useState)(1),[v]=Object(s.useState)(10),y=()=>{d.a.get(`${E}/api/admin/project-bid`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;a(t),c(!1),b(null);const s=t.map((e=>({data:e,ProjectTitle:e.ProjectTitle,PortalName:e.portals[0].PortalName,ProjectURL:e.ProjectURL,EstimatedTime:e.EstimatedTime,EstimatedCost:e.EstimatedCost,Remark:e.Remark})));n(s)})).catch((e=>{console.error("Error loading data:",e),c(!1),b("Error loading data.")}))};Object(s.useEffect)((()=>{y()}),[]);const f=e=>o===e?"asc"===j?"\u25b4":"\u25be":null,N=e=>{let t="asc"===j?"desc":"asc";const a=[...r].sort(((a,s)=>{const l=String(a[e]).toLowerCase(),c=String(s[e]).toLowerCase();return"asc"===t?l.localeCompare(c):c.localeCompare(l)}));n(a),i(e),m(t)},D=p*v,k=D-v,C=t.slice(k,D),w=[];for(let s=1;s<=Math.ceil(t.length/v);s++)w.push(s);return Object(O.jsxs)("div",{className:"container-fluid py-3",children:[Object(O.jsxs)("div",{className:"d-flex justify-between align-items-start mb-3",children:[Object(O.jsx)(ma,{title:"Bidding Details",numbers:t.length,message:"You can view all bids here."}),Object(O.jsxs)("button",{className:"btn btn-primary gap-1 d-flex my-auto align-items-center justify-content-center",onClick:e.onAddProjectBid,children:[Object(O.jsx)(Ee.d,{className:"fs-4"}),Object(O.jsx)("span",{className:"d-none d-md-flex",children:"Add Bid"})]})]}),Object(O.jsx)("div",{id:"clear-both"}),l&&Object(O.jsx)("div",{id:"loading-bar",children:Object(O.jsx)(jt.a,{css:Ml,sizeUnit:"px",size:50,color:"#0000ff",loading:!0})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsxs)("th",{style:ut(u),onClick:()=>N("ProjectTitle"),children:["S. No ",f("ProjectTitle")]}),Object(O.jsxs)("th",{style:ut(u),onClick:()=>N("ProjectTitle"),children:["Project Title ",f("ProjectTitle")]}),Object(O.jsxs)("th",{style:ut(u),onClick:()=>N("PortalName"),children:["Portal ",f("PortalName")]}),Object(O.jsxs)("th",{style:ut(u),onClick:()=>N("ProjectURL"),children:["Project URL ",f("ProjectURL")]}),Object(O.jsxs)("th",{style:ut(u),onClick:()=>N("EstimatedTime"),children:["Estimated Time ",f("EstimatedTime")]}),Object(O.jsxs)("th",{style:ut(u),onClick:()=>N("EstimatedCost"),children:["Estimated Cost ",f("EstimatedCost")]}),Object(O.jsxs)("th",{style:ut(u),onClick:()=>N("Remark"),children:["Remark ",f("Remark")]}),Object(O.jsx)("th",{style:ut(u),className:"text-end",children:"Action"})]})}),Object(O.jsx)("tbody",{children:C.map(((t,a)=>Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:pt(u),children:a+1}),Object(O.jsx)("td",{style:pt(u),children:t.ProjectTitle}),Object(O.jsx)("td",{style:pt(u),children:t.portals[0].PortalName}),Object(O.jsx)("td",{style:pt(u),children:Object(O.jsx)("a",{href:t.ProjectURL,target:"_blank",rel:"noopener noreferrer",children:t.ProjectURL})}),Object(O.jsxs)("td",{style:pt(u),children:[t.EstimatedTime," ",t.TimePeriod]}),Object(O.jsxs)("td",{style:pt(u),children:[t.Currency,t.EstimatedCost]}),Object(O.jsx)("td",{style:pt(u),children:t.Remark}),Object(O.jsxs)("td",{className:"text-end",style:pt(u),children:[Object(O.jsx)(bt,{style:{color:u?"black":"white"},icon:Object(O.jsx)(De.b,{className:"text-primary"}),onClick:()=>e.onEditProjectBid(t),tooltip:"Edit Role"}),Object(O.jsx)(bt,{style:{color:u?"black":"white"},icon:Object(O.jsx)(Ee.b,{className:"fs-5 text-danger"}),onClick:()=>{return e=t._id,void(window.confirm("Are you sure to delete this record?")&&d.a.delete(`${E}/api/admin/project-bid/${e}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((()=>{y()})).catch((e=>{console.error("Error deleting record:",e)})));var e},tooltip:"Delete Role"})]})]},a)))})]})}),Object(O.jsx)(vt,{currentPage:p,pageNumbers:w,handlePaginationPrev:()=>{x((e=>e-1))},handlePaginationNext:()=>{x((e=>e+1))},setCurrentPage:x,filteredDataLength:t.length,itemsPerPage:v})]})]})};a(632);var Tl=e=>{let{onProjectBidSubmit:t,onFormClose:a}=e;const[l,c]=Object(s.useState)(""),[r,n]=Object(s.useState)([]),{darkMode:o}=g();let i=[];return Object(s.useEffect)((()=>{d.a.get(`${E}/api/admin/portal`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{i=e.data.filter((e=>1===e.Status)),n(i)})).catch((e=>{}))}),[]),Object(O.jsxs)("div",{className:"container-fluid py-3",children:[Object(O.jsxs)("div",{className:"my-auto",children:[Object(O.jsx)("h5",{style:{color:o?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)",fontWeight:"600"},className:"m-0",children:"Add Project Bid Details"}),Object(O.jsx)("p",{style:{color:o?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"m-0",children:"You can create new bid here."})]}),Object(O.jsxs)("form",{style:{color:o?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"my-4 d-flex flex-column gap-3",onSubmit:t,children:[Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col-12 col-md-6",children:[Object(O.jsx)("label",{children:"Project Title"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"Project Title",name:"ProjectTitle",required:!0})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6",children:[Object(O.jsx)("label",{children:"Project URL"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"Project URL",name:"ProjectURL",required:!0})})]})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Project Description"}),Object(O.jsx)("div",{children:Object(O.jsx)("textarea",{placeholder:"Please enter description of the project",className:"form-control rounded-0",rows:"3",required:!0})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Portals"}),Object(O.jsx)("div",{children:Object(O.jsx)("select",{className:"form-select rounded-0",name:"CompanyID",required:!0,children:r.map((e=>Object(O.jsx)("option",{value:e._id,children:e.PortalName},e._id)))})})]}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col-12 col-md-4",children:[Object(O.jsx)("label",{children:"Estimated Time"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"number",placeholder:"Estimated Time",name:"EstimatedTime",required:!0})})]}),Object(O.jsx)("div",{className:"col-12 col-md-2",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Time Period"}),Object(O.jsxs)("select",{className:"form-select rounded-0",required:!0,children:[Object(O.jsx)("option",{value:"",children:"Select Time Period"}),Object(O.jsx)("option",{value:"Days",children:"Days"}),Object(O.jsx)("option",{value:"Weeks",children:"Weeks"}),Object(O.jsx)("option",{value:"Months",children:"Months"}),Object(O.jsx)("option",{value:"Years",children:"Years"})]})]})}),Object(O.jsx)("div",{className:"col-12 col-md-2",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Currency"}),Object(O.jsxs)("select",{className:"form-control rounded-0",children:[Object(O.jsx)("option",{value:"",children:"Select Currency"}),Object(O.jsx)("option",{value:"\u20b9",children:"\u20b9 INR"}),Object(O.jsx)("option",{value:"$",children:"$ USD"}),Object(O.jsx)("option",{value:"\u20ac",children:"\u20ac EUR"}),Object(O.jsx)("option",{value:"\xa3",children:"\xa3 GBP"}),Object(O.jsx)("option",{value:"\xa5",children:"\xa5 JPY"}),Object(O.jsx)("option",{value:"\u20bd",children:"\u20bd RUB"}),Object(O.jsx)("option",{value:"\u20a3",children:"\u20a3 CHF"}),Object(O.jsx)("option",{value:"\u20a8",children:"\u20a8 PKR"}),Object(O.jsx)("option",{value:"$",children:"$ CAD"}),Object(O.jsx)("option",{value:"\u20a3",children:"\u20a3 SEK"})]})]})}),Object(O.jsxs)("div",{className:"col-12 col-md-4",children:[Object(O.jsx)("label",{children:"Estimated Cost"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"number",placeholder:"Estimated Cost",name:"EstimatedCost",required:!0})})]})]}),Object(O.jsxs)("div",{className:"row",children:[" ",Object(O.jsxs)("div",{className:"col-12 col-md-12",children:[Object(O.jsx)("label",{children:"Status"}),Object(O.jsx)("div",{children:Object(O.jsxs)("select",{className:"form-select rounded-0",required:!0,children:[Object(O.jsx)("option",{value:"1",children:"Open"}),Object(O.jsx)("option",{value:"2",children:"Close"}),Object(O.jsx)("option",{value:"3",children:"Cancel"}),Object(O.jsx)("option",{value:"4",children:"Award"})]})})]})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Remark"}),Object(O.jsx)("div",{children:Object(O.jsx)("textarea",{placeholder:"Please enter remarks, if any",className:"form-control rounded-0",rows:"3",required:!0})})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[Object(O.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"}),Object(O.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:a,children:"Cancel"})]})]})]})};a(633);var Fl=e=>{let{editData:t,onProjectBidEditUpdate:a,onFormEditClose:l}=e;const[c,r]=Object(s.useState)([]),{darkMode:n}=g(),[o,i]=Object(s.useState)(t.ProjectTitle),[j,m]=Object(s.useState)(t.ProjectURL),[h,b]=Object(s.useState)(t.ProjectDesc),[u,p]=Object(s.useState)(t.EstimatedTime),[x,v]=Object(s.useState)(t.EstimatedCost),[y,f]=Object(s.useState)(t.Remark),[N,D]=Object(s.useState)(t.TimePeriod),[k,C]=Object(s.useState)(t.Currency);Object(s.useEffect)((()=>{w()}),[]);const w=()=>{d.a.get(`${E}/api/admin/portal`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data.filter((e=>1==e.Status));r(t)})).catch((e=>{console.error(e)}))};return Object(O.jsxs)("div",{className:"container-fluid py-3",children:[Object(O.jsxs)("div",{className:"my-auto",children:[Object(O.jsx)("h5",{style:{color:n?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)",fontWeight:"600"},className:"m-0",children:"Edit Project Bid Details"}),Object(O.jsx)("p",{style:{color:n?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},children:"You can edit project bid details here."})]}),Object(O.jsxs)("form",{style:{color:n?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"my-4 d-flex flex-column gap-3",onSubmit:e=>a(t,e),children:[Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col-12 col-md-6",children:[Object(O.jsx)("label",{children:"Project Title"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{type:"text",className:"form-control rounded-0",placeholder:"Project Title",name:"ProjectTitle",required:!0,value:o,onChange:e=>i(e.target.value)})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6",children:[Object(O.jsx)("label",{children:"Project URL"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",placeholder:"Project URL",name:"ProjectURL",required:!0,value:j,onChange:e=>m(e.target.value)})})]})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Project Description"}),Object(O.jsx)("div",{children:Object(O.jsx)("textarea",{className:"form-control rounded-0",rows:"3",required:!0,value:h,onChange:e=>b(e.target.value)})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Portals"}),Object(O.jsx)("div",{children:Object(O.jsx)("select",{className:"form-select rounded-0",name:"CompanyID",required:!0,children:c.map(((e,a)=>Object(O.jsx)("option",{value:e._id,selected:t.portals[0].ID===e.ID,children:e.PortalName},a)))})})]}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col-12 col-md-4",children:[Object(O.jsx)("label",{children:"Estimated Time"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"number",placeholder:"Estimated Time",name:"EstimatedTime",required:!0,value:u,onChange:e=>p(e.target.value)})})]}),Object(O.jsx)("div",{className:"col-12 col-md-2",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Time Period"}),Object(O.jsxs)("select",{className:"form-select rounded-0",required:!0,value:N,onChange:e=>D(e.target.value),children:[Object(O.jsx)("option",{value:"Days",selected:1==t.TimePeriod,children:"Days"}),Object(O.jsx)("option",{value:"Weeks",selected:2==t.TimePeriod,children:"Weeks"}),Object(O.jsx)("option",{value:"Months",selected:3==t.TimePeriod,children:"Months"}),Object(O.jsx)("option",{value:"Years",selected:4==t.TimePeriod,children:"Years"})]})]})}),Object(O.jsx)("div",{className:"col-12 col-md-2",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Currency"}),Object(O.jsxs)("select",{className:"form-control rounded-0",value:k,onChange:e=>C(e.target.value),children:[Object(O.jsx)("option",{value:"\u20b9",selected:1==t.currency,children:"\u20b9 INR"}),Object(O.jsx)("option",{value:"$",selected:2==t.currency,children:"$ USD"}),Object(O.jsx)("option",{value:"\u20ac",selected:3==t.currency,children:"\u20ac EUR"}),Object(O.jsx)("option",{value:"\xa3",selected:4==t.currency,children:"\xa3 GBP"}),Object(O.jsx)("option",{value:"\xa5",selected:5==t.currency,children:"\xa5 JPY"}),Object(O.jsx)("option",{value:"\u20bd",selected:6==t.currency,children:"\u20bd RUB"}),Object(O.jsx)("option",{value:"\u20a3",selected:7==t.currency,children:"\u20a3 CHF"}),Object(O.jsx)("option",{value:"\u20a8",selected:8==t.currency,children:"\u20a8 PKR"}),Object(O.jsx)("option",{value:"$",selected:9==t.currency,children:"$ CAD"}),Object(O.jsx)("option",{value:"\u20a3",selected:10==t.currency,children:"\u20a3 SEK"})]})]})}),Object(O.jsxs)("div",{className:"col-12 col-md-4",children:[Object(O.jsx)("label",{children:"Estimated Cost"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control rounded-0",type:"number",placeholder:"Estimated Cost",name:"EstimatedCost",required:!0,value:x,onChange:e=>v(e.target.value)})})]})]}),Object(O.jsx)("div",{className:"row",children:Object(O.jsxs)("div",{className:"col-12 col-md-12",children:[Object(O.jsx)("label",{children:"Status"}),Object(O.jsx)("div",{children:Object(O.jsxs)("select",{className:"form-select rounded-0",required:!0,children:[Object(O.jsx)("option",{value:"1",selected:1==t.Status,children:"Open"}),Object(O.jsx)("option",{value:"2",selected:2==t.Status,children:"Close"}),Object(O.jsx)("option",{value:"3",selected:3==t.Status,children:"Cancel"}),Object(O.jsx)("option",{value:"4",selected:4==t.Status,children:"Award"})]})})]})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Remark"}),Object(O.jsx)("div",{children:Object(O.jsx)("textarea",{className:"form-control rounded-0",rows:"3",required:!0,value:y,onChange:e=>f(e.target.value)})})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[Object(O.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"}),Object(O.jsx)("button",{type:"button",className:"btn btn-danger",onClick:l,children:"Cancel"})]})]})]})};var Pl=()=>{const[e,t]=Object(s.useState)(!0),[a,c]=Object(s.useState)(!1),[r,n]=Object(s.useState)({});return Object(O.jsx)(l.a.Fragment,{children:e?a?Object(O.jsx)(Fl,{onProjectBidEditUpdate:(e,a)=>{let s={ProjectTitle:a.target[0].value,ProjectURL:a.target[1].value,ProjectDesc:a.target[2].value,Portal_ID:a.target[3].value,EstimatedTime:a.target[4].value,TimePeriod:a.target[5].value,Currency:a.target[6].value,EstimatedCost:a.target[7].value,Status:a.target[8].value,Remark:a.target[9].value};d.a.put(`${E}/api/admin/project-bid/`+e._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{S.a.success("Project Bid Updated successfully!"),t(!1),t(!0)})).catch((e=>{S.a.error(e.response.data)})),c(!1)},onFormEditClose:()=>{c(!1)},editData:r}):Object(O.jsx)(Ll,{onAddProjectBid:()=>{t(!1)},onEditProjectBid:e=>{c(!0),n(e)}}):Object(O.jsx)(Tl,{onProjectBidSubmit:e=>{e.preventDefault(),t(!0);let a={ProjectTitle:e.target[0].value,ProjectURL:e.target[1].value,ProjectDesc:e.target[2].value,Portal_ID:e.target[3].value,EstimatedTime:e.target[4].value,TimePeriod:e.target[5].value,Currency:e.target[6].value,EstimatedCost:e.target[7].value,Status:e.target[8].value,Remark:e.target[9].value};d.a.post(`${E}/api/admin/project-bid`,a,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{S.a.success("Project Bid created successfully!"),t(!1),t(!0)})).catch((e=>{S.a.error(e.response.data)}))},onFormClose:()=>{t(!0)}})})};a(195);mt.a`
  display: block;
  margin: 0 auto;
  margin-top: 45px;
  border-color: red;
`;var Il=e=>{const[t,a]=Object(s.useState)([]),{userData:l}=Object(P.c)((e=>e.user)),[c,r]=Object(s.useState)(!0),[n,o]=Object(s.useState)([]),[i,j]=Object(s.useState)(null),[m,h]=Object(s.useState)(""),[b,u]=Object(s.useState)("asc"),[p,x]=Object(s.useState)([]),{darkMode:v}=g(),y=null===l||void 0===l?void 0:l.Email,[f,D]=Object(s.useState)(1),[k]=Object(s.useState)(10),C=e=>{if(!e)return;const t=e.split("-");return`${t[2]}-${t[1]}-${t[0]}`},w=()=>{d.a.post(`${E}/api/leave-application-hr/`,{manager:y},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;function s(e){const t=new Date(e),a=t.toLocaleDateString("en-CA");let s=t.getHours();const l=s>=12?"PM":"AM";s=s%12||12;return`${a} ${`${s}:${t.getMinutes().toString().padStart(2,"0")} ${l}`}`}a(t),r(!1);const l=t.map((e=>{var t,a;return{data:e,empID:null===e||void 0===e?void 0:e.empID,FirstName:null===e||void 0===e?void 0:e.FirstName,LastName:null===e||void 0===e?void 0:e.LastName,Name:(null===e||void 0===e?void 0:e.FirstName)+" "+(null===e||void 0===e?void 0:e.LastName),Leavetype:null===e||void 0===e?void 0:e.Leavetype,CreatedOn:s(null===e||void 0===e?void 0:e.createdOn),FromDate:C(null===(t=e.FromDate)||void 0===t?void 0:t.slice(0,10)),ToDate:C(null===(a=e.ToDate)||void 0===a?void 0:a.slice(0,10)),Days:S(null===e||void 0===e?void 0:e.FromDate,null===e||void 0===e?void 0:e.ToDate),Reasonforleave:null===e||void 0===e?void 0:e.Reasonforleave,Status:M(null===e||void 0===e?void 0:e.Status),empObjID:null===e||void 0===e?void 0:e.empObjID,reportHr:null===e||void 0===e?void 0:e.reportHr,reportManager:null===e||void 0===e?void 0:e.reportManager}}));o(l.filter((e=>"Pending"===e.Status||1===e.Status))),x(l.filter((e=>"Pending"===e.Status||1===e.Status)))})).catch((e=>{}))};Object(s.useEffect)((()=>{w()}),[]),Object(s.useEffect)((()=>{A()}),[m]);const A=()=>{const e=n.filter((e=>e.Name.toLowerCase().includes(m.toLowerCase())));x(e)},S=(e,t)=>{if(!t)return.5;const a=new Date(e),s=new Date(t),l=Math.abs(s-a);return Math.ceil(l/864e5)+1},M=e=>1==e?"Pending":2==e?"Approved":3==e?"Rejected":void 0,L=(p.filter((e=>"Pending"===e.Status)).length,f*k),T=L-k,F=p.slice(T,L),I=[];for(let s=1;s<=Math.ceil(p.length/k);s++)I.push(s);return Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsx)("div",{className:"d-flex flex-column justify-between",children:Object(O.jsxs)("div",{className:"d-flex justify-content-between aline-items-center",children:[Object(O.jsxs)("div",{className:"my-auto",children:[Object(O.jsxs)("h5",{style:{color:v?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"m-0 p-0 ",children:["Leaves Request ( ",p.length," )"]}),Object(O.jsxs)("p",{style:{color:v?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"m-0 p-0 ",children:["You can see all new leave requests here"," "]})]}),Object(O.jsxs)("div",{className:"d-flex gap-2 justify-content-between py-3",children:[Object(O.jsxs)("button",{className:"btn btn-danger rounded-0 py-0 shadow-sm d-flex justify-center  aline-center gap-2",onClick:()=>{if(window.confirm("Are you sure to download Pending Leave record?")){const e=297,t=210,a=new sa.default({orientation:"landscape",unit:"mm",format:[e,t]});a.setFontSize(18),a.text("Employee Pending Leave Details",e/2,15,"center");const s=["Emp Id","Leave Type","Start Date","End Date","Days","CreatedOn","Remarks","Status"],l=p.filter((e=>"Pending"===e.Status)).map((e=>[e.empID,e.Leavetype,e.FromDate,e.ToDate,e.Days,e.CreatedOn,e.Reasonforleave,e.Status]));a.setFontSize(12),a.autoTable({head:[s],body:l,startY:25}),a.save("Pending_leaveApplication_data.pdf")}},children:[Object(O.jsx)(ct.j,{className:"fs-6"}),Object(O.jsx)("p",{className:"my-auto d-none d-md-flex fs-6",children:"PDF"})]}),Object(O.jsxs)("div",{className:"searchholder p-0 d-flex  position-relative",children:[Object(O.jsx)("input",{style:{height:"100%",width:"100%",paddingLeft:"15%"},className:"form-control border rounded-0",type:"text",placeholder:"Search by name",value:m,onChange:e=>h(e.target.value)}),Object(O.jsx)(N.e,{style:{position:"absolute",top:"30%",left:"5%"}})]})]})]})}),Object(O.jsx)("div",{id:"clear-both"}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{children:F.length>0?Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",style:{fontSize:".9rem"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{colSpan:2,style:ut(v),children:"Employee Name"}),Object(O.jsx)("th",{style:ut(v),children:"Emp ID"}),Object(O.jsx)("th",{style:ut(v),children:"Leave Type"}),Object(O.jsx)("th",{style:ut(v),children:"Start Date"}),Object(O.jsx)("th",{style:ut(v),children:"End Date"}),Object(O.jsx)("th",{style:ut(v),children:"Created at"}),Object(O.jsx)("th",{style:ut(v),children:"Days"}),Object(O.jsx)("th",{style:ut(v),children:"Status"}),Object(O.jsx)("th",{style:ut(v),children:"Remarks"}),Object(O.jsx)("th",{style:ut(v),children:"Actions"})]})}),Object(O.jsx)("tbody",{children:F.map(((t,a)=>{var s,l,c,r,n;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:pt(v),className:"py-1",children:Object(O.jsx)("div",{className:"mx-auto d-flex align-items-center justify-content-center",style:{height:"30px",width:"30px",borderRadius:"50%",backgroundColor:"#ccc",color:"white",fontWeight:"bold",overflow:"hidden",objectFit:"cover"},children:null!==t&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&null!==(l=s.profile)&&void 0!==l&&l.image_url?Object(O.jsx)("img",{style:{height:"100%",width:"100%",borderRadius:"50%",objectFit:"cover"},src:null===t||void 0===t||null===(c=t.data)||void 0===c||null===(r=c.profile)||void 0===r?void 0:r.image_url,alt:""}):Object(O.jsx)("span",{children:null===t||void 0===t||null===(n=t.Name)||void 0===n?void 0:n.split(" ").map((e=>e[0])).join("").toUpperCase()})})}),Object(O.jsx)("td",{className:"text-capitalize",style:pt(v),children:t.Name}),Object(O.jsx)("td",{style:pt(v),children:t.empID}),Object(O.jsx)("td",{style:pt(v),children:t.Leavetype}),Object(O.jsx)("td",{style:pt(v),children:t.FromDate}),Object(O.jsx)("td",{style:pt(v),children:t.ToDate}),Object(O.jsx)("td",{style:pt(v),children:Object(O.jsx)("span",{children:t.CreatedOn})}),Object(O.jsx)("td",{style:pt(v),children:Object(O.jsx)("span",{children:t.Days})}),Object(O.jsx)("td",{style:pt(v),children:Object(O.jsx)("span",{className:"border border-warning text-warning px-2 py-0 rounded-5",children:t.Status})}),Object(O.jsx)("td",{style:pt(v),children:t.Reasonforleave}),Object(O.jsxs)("td",{style:pt(v),children:[Object(O.jsx)(bt,{style:{color:v?"black":"white"},icon:Object(O.jsx)(De.b,{className:"text-primary"}),onClick:()=>e.onEditLeaveApplicationHR(t.data,t.Days),tooltip:"Edit Leave"}),Object(O.jsx)(bt,{style:{color:v?"black":"white"},icon:Object(O.jsx)(Ee.b,{className:"fs-5 text-danger"}),onClick:()=>{return e=t.empObjID,a=t.data._id,void(window.confirm("Are you sure to delete this record? ")&&d.a.delete(`${E}/api/leave-application-hr/`+e+"/"+a,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{w()})).catch((e=>{})));var e,a},tooltip:"Delete Leave"})]})]},a)}))})]})}),Object(O.jsx)(vt,{currentPage:f,pageNumbers:I,handlePaginationPrev:()=>{D((e=>e-1))},handlePaginationNext:()=>{D((e=>e+1))},setCurrentPage:D,filteredDataLength:p.length,itemsPerPage:k})]}):Object(O.jsxs)("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"2rem"},children:[Object(O.jsx)("img",{style:{height:"auto",width:"25%"},src:v?Qa:Xa,alt:"img"}),Object(O.jsx)("p",{style:{color:v?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)"},children:"No Leave requests found."})]})})})]})};var Rl=e=>{const[t,a]=Object(s.useState)(e.editData.FromDate.slice(0,10)),[l,c]=Object(s.useState)(null===e.editData.ToDate?"":e.editData.ToDate.slice(0,10)),[r,n]=Object(s.useState)(e.editData.Reasonforleave),{darkMode:o}=Object(es.g)();return Object(O.jsxs)("div",{style:{color:o?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"container-fluid py-2",children:[Object(O.jsx)("h5",{}),Object(O.jsx)(ma,{title:`Edit Leave Application ${e.editData.FirstName}  ${e.editData.LastName}`,message:"You can edit leave application here."}),Object(O.jsxs)("form",{className:"row w-100 my-2 row-gap-3",onSubmit:t=>{t.preventDefault(),e.onLeaveApplicationHREditUpdate(e.editData,t)},children:[Object(O.jsxs)("div",{className:"col-12 col-md-6",children:[Object(O.jsx)("label",{children:"Leave Type"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",as:"select",children:Object(O.jsx)("option",{value:"",disabled:!0,selected:!0,children:e.editData.Leavetype})})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6",children:[Object(O.jsx)("label",{children:"FromDate"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"date",required:!0,disabled:!0,value:t})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6",children:[Object(O.jsx)("label",{children:"ToDate"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",type:"date",required:!0,disabled:!0,value:l})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6",children:[Object(O.jsx)("label",{children:"Leave Status"}),Object(O.jsx)("div",{children:Object(O.jsxs)(M.a.Control,{className:"rounded-0",as:"select",required:!0,children:[Object(O.jsx)("option",{value:"Pending",selected:!0,disabled:!0,children:"Pending"}),Object(O.jsx)("option",{value:"2",selected:2==e.editData.Status,children:"Approve"}),Object(O.jsx)("option",{value:"3",selected:3==e.editData.Status,children:"Reject"})]})})]}),Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)("label",{children:"Reason for leave"}),Object(O.jsx)("div",{children:Object(O.jsx)(M.a.Control,{className:"rounded-0",as:"textarea",rows:3,placeholder:"Reason for leave",required:!0,disabled:!0,value:r})})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"}),Object(O.jsx)("button",{className:"btn btn-danger",type:"reset",onClick:e.onFormEditClose,children:"cancel"})]})]})]})};var $l=e=>{const[t,a]=Object(s.useState)(!0),{socket:c}=Object(s.useContext)(b),[r,n]=Object(s.useState)(!1),[o,i]=Object(s.useState)({}),[j,m]=Object(s.useState)(null),{userData:h}=Object(P.c)((e=>e.user)),u=null===h||void 0===h?void 0:h._id,p=null===h||void 0===h?void 0:h.Email,x=`${null===h||void 0===h?void 0:h.FirstName} ${null===h||void 0===h?void 0:h.LastName}`;Object(s.useEffect)((()=>{d.a.get(`${E}/api/particularEmployee/${u}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{m(e.data)})).catch((e=>{}))}),[]);return Object(O.jsx)(l.a.Fragment,{children:t?r?Object(O.jsx)(Rl,{onLeaveApplicationHREditUpdate:(e,t)=>{t.preventDefault();let s={Status:t.target[3].value,updatedBy:`${j.FirstName} ${j.LastName}`,totalLeaveRequired:e.Days,id:e.empObjID,leaveType:e.Leavetype};const l=Object(as.a)();let r="";if("2"===s.Status)r="Approved",d.a.put(`${E}/api/leave-application-hr/`+e._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((t=>{if(a(!1),a(!0),j.profile){const t={taskId:l,employeeEmail:e.Email,hrEmail:e.reportHr,reportManager:p===e.aditionalManager?e.reportManager:e.aditionalManager,message:`Leave ${r}`,messageBy:x,profile:j.profile.image_url,status:"unseen",path:1===j.Account?"createLeave":"leaveApplication"};c.emit("leaveManagerStatusNotification",t)}else{const t={taskId:l,employeeEmail:e.Email,hrEmail:e.reportHr,reportManager:p===e.aditionalManager?e.reportManager:e.aditionalManager,message:`Leave ${r}`,messageBy:x,profile:null,status:"unseen",path:1===j.Account?"createLeave":"leaveApplication"};c.emit("leaveManagerStatusNotification",t)}})).catch((e=>{}));else if("3"===s.Status){r="Rejected";let t=prompt("Please provide reason of rejection");s.reasonOfRejection=t,d.a.put(`${E}/api/leave-application-hr/`+e._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((t=>{if(a(!1),a(!0),j.profile){const t={taskId:l,employeeEmail:e.Email,hrEmail:e.reportHr,reportManager:p===e.aditionalManager?e.reportManager:e.aditionalManager,message:`Leave ${r}`,messageBy:x,profile:j.profile.image_url,status:"unseen",path:1===j.Account?"createLeave":"leaveApplication"};c.emit("leaveManagerStatusNotification",t)}else{const t={taskId:l,employeeEmail:e.Email,hrEmail:e.reportHr,reportManager:p===e.aditionalManager?e.reportManager:e.aditionalManager,message:`Leave ${r}`,messageBy:x,profile:null,status:"unseen",path:1===j.Account?"createLeave":"leaveApplication"};c.emit("leaveManagerStatusNotification",t)}})).catch((e=>{}))}n(!1)},onFormEditClose:()=>{n(!1)},editData:o}):Object(O.jsx)(Il,{onAddLeaveApplicationHR:()=>{a(!1)},onEditLeaveApplicationHR:(e,t)=>{e.Days=t,n(!0),i(e)},data:e.data}):Object(O.jsx)("div",{})})};var zl=()=>{const[e,t]=Object(s.useState)(!0),[a,l]=Object(s.useState)(!1),[c,r]=Object(s.useState)({}),[n,i]=Object(s.useState)(""),[j,m]=Object(s.useState)(""),[h,b]=Object(s.useState)(""),[u,p]=Object(s.useState)({}),[x,v]=Object(s.useState)(!1);return Object(O.jsxs)(o.d,{children:[Object(O.jsx)(o.b,{path:"/",element:e?a?Object(O.jsx)(ia,{onEmployeeEditUpdate:(e,a)=>{a.preventDefault(),a.target[9].value;const s=new FormData;s.append("Email",a.target[0].value),s.append("Account",a.target[1].value),s.append("RoleID",a.target[2].value),s.append("Gender",j),s.append("FirstName",a.target[5].value),s.append("LastName",a.target[6].value),s.append("DOB",a.target[7].value),s.append("ContactNo",a.target[8].value),s.append("DepartmentID",a.target[9].value),s.append("PositionID",a.target[10].value),s.append("DateOfJoining",a.target[11].value),s.append("profile",a.target[12].files[0]),s.append("reportManager","Select your option"===a.target[13].value?"":a.target[13].value),s.append("reportHr","Select your option"===a.target[14].value?"":a.target[14].value),s.append("status",h),d.a.put(`${E}/api/employee/${e._id}`,s,{headers:{authorization:localStorage.getItem("token")||"","Content-Type":"multipart/form-data"}}).then((e=>{t(!1),t(!0),l(!1)})).catch((e=>{400===e.response.status&&alert(e.response.data)}))},onFormEditClose:()=>{l(!1)},editData:c,onGenderChange:e=>{m(e.currentTarget.value)},onStatusChange:e=>{b(e.currentTarget.value)}}):Object(O.jsx)(O.Fragment,{children:x?Object(O.jsx)(Ua,{data:u,onBack:()=>{v(!1)}}):Object(O.jsx)(ca,{onAddEmployee:()=>{t(!1)},onEditEmployee:e=>{l(!0),r(e),m(e.Gender),b(e.status)},onEmpInfo:e=>{p(e),v(!0)}})}):Object(O.jsx)(oa,{onEmployeeSubmit:async e=>{e.preventDefault();const a=new FormData;a.append("Email",e.target[0].value),a.append("Password",e.target[1].value),a.append("Account",e.target[2].value),a.append("RoleID",e.target[3].value),a.append("Gender",n),a.append("FirstName",e.target[6].value),a.append("LastName",e.target[7].value),a.append("DOB",e.target[8].value),a.append("ContactNo",e.target[9].value),a.append("DepartmentID",e.target[10].value),a.append("PositionID",e.target[11].value),a.append("DateOfJoining",e.target[12].value),a.append("profile",e.target[13].files[0]),a.append("reportManager","Select your option"===e.target[14].value?"":e.target[14].value),a.append("reportHr","Select your option"===e.target[15].value?"":e.target[15].value),a.append("status","active"),a.append("loginStatus","loggedOut"),await d.a.post(`${E}/api/employee`,a,{headers:{"Content-Type":"multipart/form-data",authorization:localStorage.getItem("token")||""}}).then((e=>{t(!0)})).catch((e=>{400===e.response.status&&alert(e.response.data)}))},onFormClose:()=>{t(!0)},onGenderChange:e=>{i(e.currentTarget.value)}})}),Object(O.jsx)(o.b,{path:"info/personal-info",element:Object(O.jsx)(Ua,{data:u,back:!0})}),Object(O.jsx)(o.b,{path:"info/education",element:Object(O.jsx)(va,{data:u,back:!0})}),Object(O.jsx)(o.b,{path:"info/family-info",element:Object(O.jsx)(qa,{data:u,back:!0})}),Object(O.jsx)(o.b,{path:"info/work-experience",element:Object(O.jsx)(wa,{data:u,back:!0})})]})};var ql=()=>{const[e,t]=Object(s.useState)([]),{userData:a}=Object(P.c)((e=>e.user)),[l,c]=Object(s.useState)(!1),[r,n]=Object(s.useState)(null),[i,j]=Object(s.useState)(null),{socket:m}=Object(s.useContext)(b),h=null===a||void 0===a?void 0:a.Email,u=`${null===a||void 0===a?void 0:a.FirstName} ${null===a||void 0===a?void 0:a.LastName}`,p=null===a||void 0===a?void 0:a._id,x=Object(o.n)().pathname.split("/")[1],v=Object(o.p)(),y=Object(as.a)(),{darkMode:f}=g(),[N,D]=Object(s.useState)({Taskname:"",description:"",startDate:"",endDate:"",attachments:null,managerEmail:"",department:"",comment:""});Object(s.useEffect)((()=>{d.a.get(`${E}/api/particularEmployee/${p}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{j(e.data)})).catch((e=>{}))}),[]);Object(s.useEffect)((()=>{(async()=>{try{await d.a.get(`${E}/api/tasks`)}catch(e){console.error("Error fetching tasks:",e)}})()}),[]);return Object(s.useEffect)((()=>{d.a.get(`${E}/api/department`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{t(e.data)})).catch((e=>{}))}),[]),Object(O.jsxs)("div",{style:{color:f?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"container-fluid py-2",children:[Object(O.jsx)(ma,{title:"Create New Task",message:"You can Create New task and Assign to the manager for the process."}),Object(O.jsxs)("form",{className:"my-3",onSubmit:e=>(async e=>{e.preventDefault();let t=new FormData;t.append("Taskname",N.Taskname),t.append("description",N.description),t.append("startDate",N.startDate),t.append("endDate",N.endDate),t.append("file",N.attachments),t.append("managerEmail",N.managerEmail),t.append("department",N.department),t.append("comment",N.comment),t.append("adminMail",p),d.a.post(`${E}/api/tasks`,t).then((e=>{if(i.profile){const e={taskId:y,taskName:N.Taskname,senderMail:h,managerEmail:N.managerEmail,Account:4,message:"Task assigned",messageBy:u,profile:i.profile.image_url,status:"unseen",path:"newTask"};m.emit("managerTaskNotification",e)}else{const e={taskId:y,taskName:N.Taskname,senderMail:h,managerEmail:N.managerEmail,Account:4,message:"Task assigned",messageBy:u,profile:null,status:"unseen",path:"newTask"};m.emit("managerTaskNotification",e)}A.toast.success("Task added successfully!"),D({Taskname:"",description:"",startDate:"",endDate:"",attachments:null,managerEmail:"",department:"",comment:""}),v.push(`/${x}/taskassign`)})).catch((e=>{A.toast.error("Failed to add task. Please try again.")}))})(e),children:[Object(O.jsxs)("div",{className:"row row-gap-2",children:[Object(O.jsx)("div",{className:"col-12 d-flex flex-column",children:Object(O.jsxs)("div",{controlId:"Taskname",children:[Object(O.jsx)("label",{children:"Task Name"}),Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",required:!0,placeholder:"Enter task name",value:N.Taskname,onChange:e=>D({...N,Taskname:e.target.value})})]})}),Object(O.jsx)("div",{className:"col-12 mt-2 d-flex flex-column",children:Object(O.jsxs)("div",{controlId:"description",children:[Object(O.jsx)("label",{children:"Task Description"}),Object(O.jsx)("textarea",{className:"form-control rounded-0",required:!0,placeholder:"Enter task description",value:N.description,onChange:e=>D({...N,description:e.target.value})})]})}),Object(O.jsx)("div",{className:"col-12 col-md-6 mt-3 d-flex flex-column",children:Object(O.jsxs)("div",{controlId:"startDate",children:[Object(O.jsx)("label",{children:"Start Date"}),Object(O.jsx)("input",{className:"form-control rounded-0",type:"date",required:!0,value:N.startDate,onChange:e=>{D({...N,startDate:e.target.value}),c(!1)}})]})}),Object(O.jsx)("div",{className:"col-12 col-md-6 mt-3 d-flex flex-column",children:Object(O.jsxs)("div",{controlId:"endDate",children:[Object(O.jsx)("label",{children:"End Date"}),Object(O.jsx)("input",{className:"form-control rounded-0",type:"date",required:!0,value:N.endDate,onChange:e=>{const t=e.target.value;t<N.startDate?c(!0):(c(!1),D({...N,endDate:t}))}})]})}),Object(O.jsx)("div",{className:"col-12 col-md-3 mt-3 d-flex flex-column",children:Object(O.jsxs)("div",{controlId:"department",children:[Object(O.jsx)("label",{children:"Department"}),Object(O.jsxs)("select",{className:"form-select rounded-0",as:"select",name:"department",required:!0,value:N.department,onChange:e=>D({...N,department:e.target.value}),onBlur:()=>{""!==N.department&&d.a.get(`${E}/api/employee`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{let t=e.data.filter((e=>4===e.Account&&e.department[0].DepartmentName===N.department));n(t)})).catch((e=>console.log(e)))},children:[Object(O.jsx)("option",{value:"",children:"Select your option"}),e.map(((e,t)=>Object(O.jsx)("option",{value:e.DepartmentName,children:e.DepartmentName},t)))]})]})}),Object(O.jsx)("div",{className:"col-12 col-md-9 mt-3 d-flex flex-column",children:Object(O.jsxs)("div",{controlId:"department",children:[Object(O.jsx)("label",{children:"managerEmail"}),Object(O.jsxs)("select",{className:"form-select rounded-0",as:"select",name:"department",required:!0,value:N.managerEmail,onChange:e=>D({...N,managerEmail:e.target.value}),children:[Object(O.jsx)("option",{value:"",children:"Select your option"}),r&&r.map(((e,t)=>Object(O.jsx)("option",{value:e.Email,children:e.Email},t)))]})]})}),Object(O.jsx)("div",{children:Object(O.jsxs)("div",{controlId:"Attachments",children:[Object(O.jsx)("label",{className:" mt-3",children:"Attachments"}),Object(O.jsx)("input",{className:"form-control rounded-0",type:"file",multiple:!0,required:!0,onChange:e=>D({...N,attachments:e.target.files[0]})})]})})]}),Object(O.jsx)("button",{type:"submit",className:"btn btn-primary my-3",variant:"info",disabled:!(""!==N.Taskname.trim()&&""!==N.description.trim()&&""!==N.startDate.trim()&&""!==N.endDate.trim()&&""!==N.managerEmail.trim()&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N.managerEmail)&&""!==N.department.trim()),children:"Add Task"})]})]})};var Bl=()=>{const[e,t]=Object(s.useState)([]),[a,l]=Object(s.useState)(!1),{userData:c}=Object(P.c)((e=>e.user)),r=null===c||void 0===c?void 0:c.Email,[n,o]=Object(s.useState)(null),{socket:i}=Object(s.useContext)(b),{darkMode:j}=g(),m=Object(as.a)(),[h,u]=Object(s.useState)({Taskname:"",description:"",startDate:"",endDate:"",attachments:null,managerEmail:"",department:"",comment:""});Object(s.useEffect)((()=>{(async()=>{try{await d.a.get(`${E}/api/tasks`)}catch(e){console.error("Error fetching tasks:",e)}})()}),[]);return Object(s.useEffect)((()=>{d.a.get(`${E}/api/department`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{t(e.data)})).catch((e=>{}))}),[]),Object(O.jsxs)("div",{style:{color:j?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"container-fluid py-3",children:[Object(O.jsx)(ma,{title:"Create New Task",message:"You cn create new task here."}),Object(O.jsxs)("form",{className:"row mt-2 p-0 row-gap-3 p-md-3 w-100",children:[Object(O.jsxs)("div",{className:"col-12 col-md-6",children:[Object(O.jsx)("label",{children:"Task Name"}),Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",required:!0,placeholder:"Enter task name",value:h.Taskname,onChange:e=>u({...h,Taskname:e.target.value})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6",children:[Object(O.jsx)("label",{children:"Start Date"}),Object(O.jsx)("input",{className:"form-control rounded-0",type:"date",required:!0,value:h.startDate,onChange:e=>{u({...h,startDate:e.target.value}),l(!1)}})]}),Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)("label",{children:"Task Description"}),Object(O.jsx)("textarea",{className:"form-control rounded-0 ",required:!0,placeholder:"Enter task description",value:h.description,onChange:e=>u({...h,description:e.target.value})})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6",children:[Object(O.jsx)("label",{children:"End Date"}),Object(O.jsx)("input",{className:"form-control rounded-0",type:"date",required:!0,value:h.endDate,onChange:e=>{const t=e.target.value;t<h.startDate?l(!0):(l(!1),u({...h,endDate:t}))}})]}),Object(O.jsxs)("div",{className:"col-12 col-md-6",children:[Object(O.jsx)("label",{children:"Department"}),Object(O.jsxs)(M.a.Control,{className:"rounded-0",as:"select",name:"department",required:!0,value:h.department,onChange:e=>u({...h,department:e.target.value}),onBlur:()=>{""!==h.department&&d.a.get(`${E}/api/employee`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{let t=e.data.filter((e=>4===e.Account&&e.department[0].DepartmentName===h.department));o(t)})).catch((e=>console.log(e)))},children:[Object(O.jsx)("option",{value:"",children:"Select your option"}),e.map(((e,t)=>Object(O.jsx)("option",{value:e.DepartmentName,children:e.DepartmentName},t)))]})]}),Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)("label",{children:"managerEmail"}),Object(O.jsxs)(M.a.Control,{className:"rounded-0",as:"select",name:"department",required:!0,value:h.managerEmail,onChange:e=>u({...h,managerEmail:e.target.value}),children:[Object(O.jsx)("option",{value:"",children:"Select your option"}),n&&n.map(((e,t)=>Object(O.jsx)("option",{value:e.Email,children:e.Email},t)))]})]}),Object(O.jsxs)("div",{className:"col-12",children:[Object(O.jsx)("label",{className:"fw-bold mt-3",children:"Attachments"}),Object(O.jsx)("input",{className:"form-control rounded-0",type:"file",multiple:!0,required:!0,onChange:e=>u({...h,attachments:e.target.files[0]})})]}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[" ",Object(O.jsx)("button",{className:"btn btn-primary",variant:"info",onClick:async()=>{let e=new FormData;e.append("Taskname",h.Taskname),e.append("description",h.description),e.append("startDate",h.startDate),e.append("endDate",h.endDate),e.append("file",h.attachments),e.append("managerEmail",h.managerEmail),e.append("department",h.department),e.append("comment",h.comment),e.append("adminMail",r),d.a.post(`${E}/api/tasks`,e).then((e=>{const t={taskId:m,taskName:h.Taskname,senderMail:r,managerEmail:h.managerEmail,Account:4,message:`New task assigned by ${r}`,status:"unseen",path:"newTask"};i.emit("managerTaskNotification",t),A.toast.success("Task added successfully!"),u({Taskname:"",description:"",startDate:"",endDate:"",attachments:null,managerEmail:"",department:"",comment:""})})).catch((e=>{A.toast.error("Failed to add task. Please try again.")}))},disabled:!(""!==h.Taskname.trim()&&""!==h.description.trim()&&""!==h.startDate.trim()&&""!==h.endDate.trim()&&""!==h.managerEmail.trim()&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h.managerEmail)&&""!==h.department.trim()),children:"Add Task"})]})]})]})};var _l=()=>{const[e,t]=Object(s.useState)([]),[a,l]=Object(s.useState)(!0),[c,r]=Object(s.useState)(null),[n,o]=Object(s.useState)(!1),[i,j]=Object(s.useState)(null),{darkMode:m}=g();Object(s.useEffect)((()=>{(async()=>{await(async()=>{try{const e=await d.a.get(`${E}/api/tasks`,{params:{status:"Cancelled"}});t(e.data)}catch(c){console.error("Error fetching cancelled tasks:",c.message),r("Error fetching cancelled tasks. Please try again later.")}finally{l(!1)}})()})()}),[]);const h=e.filter((e=>"Cancelled"===e.status)).length,b=e=>{switch(e){case 1:return"Admin";case 2:return"Hr";case 3:return"Employee";case 4:return"Manager"}};return Object(O.jsxs)("div",{style:{color:m?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"container-fluid py-3",children:[Object(O.jsx)(ma,{title:"Cancelled Task",numbers:h,message:"You can view all Cancelled task status here."}),a&&Object(O.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(O.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(O.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),e.filter((e=>"Cancelled"===e.status)).length>0?Object(O.jsx)("div",{className:"row mx-auto",children:e.filter((e=>"Cancelled"===e.status)).map(((e,t)=>Object(O.jsx)("div",{style:{color:m?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"col-12 col-md-6 col-lg-4 p-2",children:Object(O.jsxs)("div",{style:{border:m?"1px solid var(--secondaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"task-hover-effect p-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("h6",{children:e.Taskname}),Object(O.jsx)("button",{style:{cursor:"auto"},className:"btn btn-danger",children:e.status})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:e.adminMail.profile?e.adminMail.profile.image_url:w,alt:""})," ",Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:e.adminMail.Email}),Object(O.jsx)("span",{children:b(e.adminMail.Account)})]})]}),Object(O.jsx)("span",{style:{border:m?"1px solid var(--primaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"px-2 py-1 text-center",children:e.department})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"my-3 d-flex flex-column gap-1",children:[Object(O.jsx)("h6",{children:"Task Description"}),Object(O.jsx)("span",{children:e.description})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between gap-3 my-2",children:[Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"Task Duration"}),Object(O.jsxs)("span",{style:{width:"fit-content"},children:[e.duration," days"]})]})," ",Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"Start Date"})," ",Object(O.jsx)("span",{style:{width:"fit-content"},children:Ye(e.startDate)})]}),Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"End Date"})," ",Object(O.jsx)("span",{style:{width:"fit-content"},children:Ye(e.endDate)})]})]}),Object(O.jsx)("div",{className:"mt-4",children:Object(O.jsx)("span",{style:{cursor:"pointer"},onMouseEnter:()=>o("name"),onMouseLeave:()=>o(!1),onClick:()=>{return t=e._id,void j((e=>e===t?null:t));var t},children:i===e._id?Object(O.jsxs)("span",{children:["View Less ",Object(O.jsx)(x.b,{className:"fs-4"})]}):Object(O.jsxs)("span",{children:[" ","View Details ",Object(O.jsx)(x.a,{className:"fs-4"})]})})}),i===e._id&&Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex flex-column my-2",children:[Object(O.jsx)("h6",{children:"Remarks"}),Object(O.jsx)("span",{children:e.comment})]}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"d-flex flex-column gap-2 my-2",children:"Cancelled"===e.status&&Object(O.jsx)("span",{className:"border border-danger px-2 py-1 text-center",children:"This task is cancelled and cannot be re-open for any query contact your admin."})})]})]})]})},e._id)))}):Object(O.jsxs)("div",{className:"d-flex flex-column gap-3 align-items-center justify-content-center",style:{height:"80vh"},children:[Object(O.jsx)("img",{style:{width:"15rem",height:"auto"},src:dl,alt:""}),Object(O.jsx)("p",{style:{color:m?"black":"white"},children:"Sorry, there are no tasks assigned yet."})]})]})};var Hl=()=>{const[e,t]=Object(s.useState)([]),[a,l]=Object(s.useState)(!0),[c,r]=Object(s.useState)(null),[n,o]=Object(s.useState)(!1),[i,j]=Object(s.useState)(null),{darkMode:m}=g();Object(s.useEffect)((()=>((async()=>{try{const e=await d.a.get(`${E}/api/tasks`,{params:{status:"Completed"}});t(e.data)}catch(c){console.error("Error fetching completed tasks:",c.message),r("Error fetching completed tasks. Please try again later.")}finally{l(!1)}})(),()=>clearTimeout())));const h=e=>{switch(e){case 1:return"Admin";case 2:return"Hr";case 3:return"Employee";case 4:return"Manager"}};return Object(O.jsxs)("div",{style:{color:m?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"container-fluid py-3",children:[Object(O.jsx)(ma,{title:"Completed Task",numbers:e.filter((e=>"Completed"===e.status)).length,message:"You can view all completed task status here."}),a&&Object(O.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(O.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(O.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),e.filter((e=>"Completed"===e.status)).length>0?Object(O.jsx)("div",{className:"row mx-auto",children:e.filter((e=>"Completed"===e.status)).map(((e,t)=>Object(O.jsx)("div",{style:{color:m?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"col-12 col-md-6 col-lg-4 p-2",children:Object(O.jsxs)("div",{style:{border:m?"1px solid var(--secondaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"task-hover-effect p-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("h6",{children:e.Taskname}),Object(O.jsx)("button",{style:{cursor:"auto"},className:"btn btn-success",children:e.status})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:e.adminMail.profile?e.adminMail.profile.image_url:w,alt:""})," ",Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:e.adminMail.Email}),Object(O.jsx)("span",{children:h(e.adminMail.Account)})]})]}),Object(O.jsx)("span",{style:{border:m?"1px solid var(--primaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"px-2 py-1 text-center",children:e.department})]}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"d-flex align-items-center justify-content-between gap-2",children:Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:e.managerEmail.profile?e.managerEmail.profile.image_url:w,alt:""})," ",Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:e.managerEmail.Email}),Object(O.jsx)("span",{children:h(e.managerEmail.Account)})]})]})}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"my-3 d-flex flex-column gap-1",children:[Object(O.jsx)("h6",{children:"Task Description"}),Object(O.jsx)("span",{children:e.description})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between gap-3 my-2",children:[Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"Task Duration"}),Object(O.jsxs)("span",{style:{width:"fit-content"},children:[e.duration," days"]})]})," ",Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"Start Date"})," ",Object(O.jsx)("span",{style:{width:"fit-content"},children:Ye(e.startDate)})]}),Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"End Date"})," ",Object(O.jsx)("span",{style:{width:"fit-content"},children:Ye(e.endDate)})]})]}),Object(O.jsx)("div",{className:"mt-4",children:Object(O.jsx)("span",{style:{cursor:"pointer"},onMouseEnter:()=>o("name"),onMouseLeave:()=>o(!1),onClick:()=>{return t=e._id,void j((e=>e===t?null:t));var t},children:i===e._id?Object(O.jsxs)("span",{children:["View Less ",Object(O.jsx)(x.b,{className:"fs-4"})]}):Object(O.jsxs)("span",{children:[" ","View Details ",Object(O.jsx)(x.a,{className:"fs-4"})]})})}),i===e._id&&Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex flex-column my-2",children:[Object(O.jsx)("h6",{children:"Remarks"}),Object(O.jsx)("span",{children:e.comment})]}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"d-flex flex-column gap-2 my-2",children:"Completed"===e.status&&Object(O.jsx)("span",{className:"border border-success px-2 py-1 text-center",children:"This task is successfully completed and cannot be re-open for any query contact your admin."})})]})]})]})},e._id)))}):Object(O.jsxs)("div",{className:"d-flex flex-column gap-3 align-items-center justify-content-center",style:{height:"80vh"},children:[Object(O.jsx)("img",{style:{width:"15rem",height:"auto"},src:dl,alt:""}),Object(O.jsx)("p",{style:{color:m?"black":"white"},children:"Sorry, there are no tasks assigned yet."})]})]})};var Ul=()=>{const[e,t]=Object(s.useState)([]),[a,l]=Object(s.useState)(!0),[c,r]=Object(s.useState)(null),[n,o]=Object(s.useState)(!1),[i,j]=Object(s.useState)(null),{darkMode:m}=g();Object(s.useEffect)((()=>((async()=>{try{const e=await d.a.get(`${E}/api/tasks`,{params:{status:"Completed"}});t(e.data)}catch(c){console.error("Error fetching completed tasks:",c.message),r("Error fetching completed tasks. Please try again later.")}finally{l(!1)}})(),()=>clearTimeout())),[]);const h=e=>{switch(e){case 1:return"Admin";case 2:return"Hr";case 3:return"Employee";case 4:return"Manager"}};return Object(O.jsxs)("div",{style:{color:m?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"container-fluid py-3",children:[Object(O.jsx)(ma,{title:"Rejected Task",numbers:e.filter((e=>"Rejected"===e.status)).length,message:"You can view all revoked task status here."}),a&&Object(O.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(O.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(O.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),e.filter((e=>"Rejected"===e.status)).length>0?Object(O.jsx)("div",{className:"row mx-auto",children:e.filter((e=>"Rejected"===e.status)).map(((e,t)=>Object(O.jsx)("div",{style:{color:m?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"col-12 col-md-6 col-lg-4 p-2",children:Object(O.jsxs)("div",{style:{border:m?"1px solid var(--secondaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"task-hover-effect p-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("h5",{children:e.Taskname}),Object(O.jsx)("button",{className:"btn btn-danger",children:e.status})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:e.adminMail.profile?e.adminMail.profile.image_url:w,alt:""})," ",Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:e.adminMail.Email}),Object(O.jsx)("span",{children:h(e.adminMail.Account)})]})]}),Object(O.jsx)("span",{style:{border:m?"1px solid var(--primaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"px-2 py-1 text-center",children:e.department})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"my-3 d-flex flex-column gap-1",children:[Object(O.jsx)("h6",{children:"Task Description"}),Object(O.jsx)("span",{children:e.description})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between gap-3 my-2",children:[Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"Task Duration"}),Object(O.jsxs)("span",{style:{width:"fit-content"},children:[e.duration," days"]})]})," ",Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"Start Date"})," ",Object(O.jsx)("span",{style:{width:"fit-content"},children:Ye(e.startDate)})]}),Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"End Date"})," ",Object(O.jsx)("span",{style:{width:"fit-content"},children:Ye(e.endDate)})]})]}),Object(O.jsx)("div",{className:"mt-4",children:Object(O.jsx)("span",{style:{cursor:"pointer"},onMouseEnter:()=>o("name"),onMouseLeave:()=>o(!1),onClick:()=>{return t=e._id,void j((e=>e===t?null:t));var t},children:i===e._id?Object(O.jsxs)("span",{children:["View Less ",Object(O.jsx)(x.b,{className:"fs-4"})]}):Object(O.jsxs)("span",{children:[" ","View Details ",Object(O.jsx)(x.a,{className:"fs-4"})]})})}),i===e._id&&Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex flex-column my-2",children:[Object(O.jsx)("h6",{children:"Remarks"}),Object(O.jsx)("span",{children:e.comment})]}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"d-flex flex-column gap-2 my-2",children:"Rejected"===e.status&&Object(O.jsxs)("span",{className:"border border-danger px-2 py-1 text-center",children:["The task has been rejected by"," ",Object(O.jsxs)("span",{className:"text-danger",children:[" ",e.managerEmail.Email]}),". Please communicate any discrepancies you encounter."]})})]})]})]})},e._id)))}):Object(O.jsxs)("div",{className:"d-flex flex-column gap-3 align-items-center justify-content-center",style:{height:"80vh"},children:[Object(O.jsx)("img",{style:{width:"15rem",height:"auto"},src:dl,alt:""}),Object(O.jsx)("p",{style:{color:m?"black":"white"},children:"Sorry, there are no tasks assigned yet."})]})]})};var Wl=()=>{const{userData:e}=Object(P.c)((e=>e.user)),[t,a]=Object(s.useState)([]),[l,c]=Object(s.useState)(!0),[r,n]=Object(s.useState)(null),[o,i]=Object(s.useState)(!1),[j,m]=Object(s.useState)(!1),[h,b]=Object(s.useState)(null),[u,p]=Object(s.useState)(!1),[v,y]=Object(s.useState)(null),[f,N]=Object(s.useState)(new Date),{darkMode:D}=g(),k=null===e||void 0===e?void 0:e.Email,[C,A]=Object(s.useState)({id:"",Taskname:"",description:"",startDate:"",endDate:"",managerEmail:"",duration:0,comment:""}),[L,T]=Object(s.useState)(0);Object(s.useEffect)((()=>{const e=setInterval((()=>{N(new Date)}),1e3);return()=>clearInterval(e)}),[]);const F=e=>{const t=f;let a=new Date(e)-t;if(a<0)return{delay:!0,days:0,hours:0,minutes:0,seconds:0};return{delay:!1,days:Math.floor(a/864e5),hours:Math.floor(a%864e5/36e5),minutes:Math.floor(a%36e5/6e4),seconds:Math.floor(a%6e4/1e3)}};Object(s.useEffect)((()=>{I()}),[]);const I=async()=>{const e=await d.a.get(`${E}/api/getTask`);b(e.data.data)},R=async()=>{try{const e=await d.a.get(`${E}/api/tasks`);a(e.data);const t=e.data.filter((e=>"Assigned"===e.status&&e.adminMail.Email===k)).length;T(t)}catch(r){console.error("Error fetching tasks:",r.message),n("Error fetching tasks. Please try again later.")}finally{c(!1)}};Object(s.useEffect)((()=>(R(),()=>clearTimeout())),[]);const $=()=>{m(!1)},z=e=>{switch(e){case 1:return"Admin";case 2:return"Hr";case 3:return"Employee";case 4:return"Manager"}};return Object(O.jsxs)("div",{className:"container-fluid py-2",children:[Object(O.jsx)(ma,{title:"Assigned",numbers:L,message:"You can view all assigned task status here."}),l&&Object(O.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(O.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(O.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),t.filter((e=>"Assigned"===e.status&&e.adminMail.Email===k)).length>0?Object(O.jsx)("div",{className:"row mx-auto",children:t.filter((e=>"Assigned"===e.status&&e.adminMail.Email===k)).reverse().map(((e,a)=>Object(O.jsx)("div",{style:{color:D?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"col-12 col-md-6 col-lg-4 p-2",children:Object(O.jsxs)("div",{style:{border:D?"1px solid var(--secondaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"task-hover-effect p-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("h5",{children:e.Taskname}),Object(O.jsx)("button",{className:"btn btn-primary",children:e.status})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:e.adminMail.profile?e.adminMail.profile.image_url:w,alt:""})," ",Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:e.adminMail.Email}),Object(O.jsx)("span",{children:z(e.adminMail.Account)})]})]}),Object(O.jsx)("span",{style:{border:D?"1px solid var(--primaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"px-2 py-1 text-center",children:e.department})]}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"d-flex align-items-center justify-content-between gap-2",children:Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:e.managerEmail.profile?e.managerEmail.profile.image_url:w,alt:""})," ",Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:e.managerEmail.Email}),Object(O.jsx)("span",{children:z(e.managerEmail.Account)})]})]})}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"my-3 d-flex flex-column gap-1",children:[Object(O.jsx)("h6",{children:"Task Description"}),Object(O.jsx)("span",{children:e.description})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between gap-3 my-2",children:[Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"Task Duration"}),Object(O.jsxs)("span",{style:{width:"fit-content"},children:[e.duration," days"]})]})," ",Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"Start Date"})," ",Object(O.jsx)("span",{style:{width:"fit-content"},children:Ye(e.startDate)})]}),Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"End Date"})," ",Object(O.jsx)("span",{style:{width:"fit-content"},children:Ye(e.endDate)})]})]}),Object(O.jsx)("div",{className:"mt-4",children:Object(O.jsx)("span",{style:{cursor:"pointer"},onMouseEnter:()=>p("name"),onMouseLeave:()=>p(!1),onClick:()=>{return t=e._id,void y((e=>e===t?null:t));var t},children:v===e._id?Object(O.jsxs)("span",{children:["View Less ",Object(O.jsx)(x.b,{className:"fs-4"})]}):Object(O.jsxs)("span",{children:[" ","View Details ",Object(O.jsx)(x.a,{className:"fs-4"})]})})}),v===e._id&&Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex flex-column my-2",children:[Object(O.jsx)("h6",{children:"Remarks"}),Object(O.jsx)("span",{children:e.comment})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("span",{className:"d-flex flex-column gap-1",children:[Object(O.jsx)("h6",{children:"Time Left"}),Object(O.jsx)("span",{children:Object(O.jsx)("div",{style:{display:v===e._id?"flex":"none"},children:Object(O.jsx)("div",{className:"d-flex gap-2 justify-content-between",children:F(e.endDate).delay?Object(O.jsx)("div",{className:"",children:Object(O.jsx)("span",{className:" rounded-5 border border-danger  my-auto  p-1 px-2",children:"Please finish the task as soon as you can, as it's running late."})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:F(e.endDate).days}),Object(O.jsx)("div",{children:"Day"})]}),Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:F(e.endDate).hours}),Object(O.jsx)("div",{children:"Hrs"})]}),Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:F(e.endDate).minutes}),Object(O.jsx)("div",{children:"Min"})]}),Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:F(e.endDate).seconds}),Object(O.jsx)("div",{children:"Sec"})]})]})})})})]}),Object(O.jsxs)("div",{className:"d-flex flex-column gap-2 my-2",children:["Action",Object(O.jsxs)("div",{style:{height:"fit-content"},className:"d-flex pt-3 gap-2",children:[Object(O.jsxs)("button",{className:"btn btn-danger d-flex justify-center aline-center gap-2",onClick:()=>(async e=>{try{i(!0);const t=prompt("Enter remarks for task cancellation:");if(null===t)return void i(!1);await d.a.put(`${E}/api/tasks/${e}`,{status:"Cancelled",comment:t}),S.a.success("Task canceled successfully!"),R()}catch(r){console.error("Error canceling task:",r.message),S.a.error("Failed to cancel task. Please try again.")}finally{i(!1)}})(e._id),children:[Object(O.jsx)(x.d,{}),"Cancel Task"]}),h&&h.length>0&&Object(O.jsxs)("button",{className:"btn btn-primary d-flex justify-center aline-center gap-2",onClick:()=>(e=>{let t=h&&h.filter((t=>t._id===e));window.open(`${E}/${t[0].pdf}`,"_blank","noreferrer")})(e._id),children:[Object(O.jsx)(ct.i,{}),"View Docs"]}),Object(O.jsxs)("button",{className:"btn btn-primary d-flex justify-center aline-center gap-2",onClick:()=>(e=>{const a=t.find((t=>t._id===e));a&&(A({id:a._id,Taskname:a.Taskname,description:a.description,startDate:a.startDate,endDate:a.endDate,managerEmail:a.managerEmail,duration:a.duration,comment:a.comment}),m(!0))})(e._id),children:[Object(O.jsx)(x.k,{}),"Update Task"]})]})]})]})]})]})},e._id)))}):Object(O.jsxs)("div",{className:"d-flex flex-column gap-3 align-items-center justify-content-center",style:{height:"80vh"},children:[Object(O.jsx)("img",{style:{width:"15rem",height:"auto"},src:dl,alt:""}),Object(O.jsx)("p",{style:{color:D?"black":"white"},children:"Sorry, there are no tasks assigned yet."})]}),Object(O.jsxs)(Bs.a,{show:j,fullscreen:!1,onHide:$,children:[Object(O.jsx)(Bs.a.Header,{closeButton:!0,children:Object(O.jsx)(Bs.a.Title,{className:"fw-bold text-uppercase",children:"Update Task"})}),Object(O.jsx)(Bs.a.Body,{children:Object(O.jsxs)(M.a,{className:"d-flex flex-column gap-3",children:[Object(O.jsxs)(M.a.Group,{controlId:"formTaskName",children:[Object(O.jsx)(M.a.Label,{children:"Task Name"}),Object(O.jsx)(M.a.Control,{type:"text",value:C.Taskname,onChange:e=>A({...C,Taskname:e.target.value})})]}),Object(O.jsxs)(M.a.Group,{controlId:"formDescription",children:[Object(O.jsx)(M.a.Label,{children:"Description"}),Object(O.jsx)(M.a.Control,{as:"textarea",value:C.description,onChange:e=>A({...C,description:e.target.value})})]}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)(M.a.Group,{className:"col-12 col-md-6",controlId:"startDate",children:[Object(O.jsx)(M.a.Label,{children:"Start Date "}),Object(O.jsx)(M.a.Control,{type:"date",value:C.startDate,onChange:e=>A({...C,startDate:e.target.value})})]}),Object(O.jsxs)(M.a.Group,{className:"col-12 col-md-6",controlId:"endDate",children:[Object(O.jsx)(M.a.Label,{children:"End Date"}),Object(O.jsx)(M.a.Control,{type:"date",value:C.endDate,onChange:e=>A({...C,endDate:e.target.value})})]}),Object(O.jsxs)(M.a.Group,{className:"col-12",controlId:"comment",children:[Object(O.jsx)(M.a.Label,{children:"Remarks"}),Object(O.jsx)(M.a.Control,{type:"text",value:C.comment,onChange:e=>A({...C,comment:e.target.value})})]})]}),Object(O.jsx)(xt.a,{variant:"primary",onClick:async()=>{try{await d.a.put(`${E}/api/tasks/${C.id}`,{Taskname:C.Taskname,description:C.description,startDate:C.startDate,endDate:C.endDate,managerEmail:C.managerEmail,duration:C.duration,comment:C.comment}),S.a.success("Task updated successfully!"),$(),R()}catch(r){console.error("Error updating task:",r.message),S.a.error("Failed to update task. Please try again.")}},children:"Update"})]})})]})]})},Gl=a(113);var Yl=()=>{const[e,t]=Object(s.useState)([]),{userData:a}=Object(P.c)((e=>e.user)),l=null===a||void 0===a?void 0:a.Email,[c,r]=Object(s.useState)(!0),[n,i]=Object(s.useState)(null),[j,m]=Object(s.useState)(!1),[h,u]=Object(s.useState)(!1),[p,v]=Object(s.useState)(null),[y,f]=Object(s.useState)(!1),[N,D]=Object(s.useState)(null),[k,C]=Object(s.useState)(new Date),{darkMode:A}=g(),[L,T]=Object(s.useState)(!1),{setMessageData:F}=Object(s.useContext)(b),I=Object(o.p)(),[R,$]=Object(s.useState)({id:"",Taskname:"",description:"",startDate:"",endDate:"",managerEmail:"",duration:0,comment:0}),[z,q]=Object(s.useState)(0),B=e=>{const t=k;let a=new Date(e)-t;if(a<0)return{delay:!0,days:0,hours:0,minutes:0,seconds:0};return{delay:!1,days:Math.floor(a/864e5),hours:Math.floor(a%864e5/36e5),minutes:Math.floor(a%36e5/6e4),seconds:Math.floor(a%6e4/1e3)}};Object(s.useEffect)((()=>{_()}),[]);const _=async()=>{const e=await d.a.get(`${E}/api/getTask`);v(e.data.data)},H=async()=>{try{const e=await d.a.get(`${E}/api/tasks`);t(e.data);const a=e.data.filter((e=>"Pending"===e.status&&e.adminMail.Email===l)).length;q(a)}catch(n){console.error("Error fetching tasks:",n.message),i("Error fetching tasks. Please try again later.")}finally{r(!1)}};Object(s.useEffect)((()=>(H(),()=>clearTimeout())),[]);const U=()=>{u(!1)},W=e=>{const t=e.employees.length-e.employees.filter((e=>"Rejected"===e.empTaskStatus)).length;return e.employees.filter((e=>"Completed"===e.empTaskStatus)).length/t*100},G={verticalAlign:"middle",whiteSpace:"pre",background:A?"var(--primaryDashMenuColor)":"var(--primaryDashColorDark)",color:A?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)",border:"none",position:"sticky",top:"0rem",zIndex:"100",padding:".5rem"},Y=e=>{switch(e){case 1:return"Admin";case 2:return"Hr";case 3:return"Employee";case 4:return"Manager"}};return Object(O.jsxs)("div",{className:"container-fluid py-2",children:[Object(O.jsx)(ma,{title:"Active Task",numbers:z,message:"You can view all assigned task status here."}),c&&Object(O.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(O.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(O.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),e.filter((e=>"Pending"===e.status&&e.adminMail.Email===l)).length>0?Object(O.jsx)("div",{className:"row mx-auto",children:e.filter((e=>"Pending"===e.status&&e.adminMail.Email===l)).reverse().map(((t,a)=>Object(O.jsx)("div",{style:{color:A?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"col-12 col-md-6 col-lg-4 p-2",children:Object(O.jsxs)("div",{style:{border:A?"1px solid var(--secondaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"task-hover-effect p-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("h5",{children:t.Taskname}),Object(O.jsx)("button",{className:"btn btn-primary",children:t.status})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:t.adminMail.profile?t.adminMail.profile.image_url:w,alt:""})," ",Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:t.adminMail.Email}),Object(O.jsx)("span",{children:Y(t.adminMail.Account)})]})]}),Object(O.jsx)("span",{style:{border:A?"1px solid var(--primaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"px-2 py-1 text-center",children:t.department})]}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"d-flex align-items-center justify-content-between gap-2",children:Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:t.managerEmail.profile?t.managerEmail.profile.image_url:w,alt:""})," ",Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:t.managerEmail.Email}),Object(O.jsx)("span",{children:Y(t.managerEmail.Account)})]})]})}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"my-3 d-flex flex-column gap-1",children:[Object(O.jsx)("h6",{children:"Task Description"}),Object(O.jsx)("span",{children:t.description})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between gap-3 my-2",children:[Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"Task Duration"}),Object(O.jsxs)("span",{style:{width:"fit-content"},children:[t.duration," days"]})]})," ",Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"Start Date"})," ",Object(O.jsx)("span",{style:{width:"fit-content"},children:Ye(t.startDate)})]}),Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"End Date"})," ",Object(O.jsx)("span",{style:{width:"fit-content"},children:Ye(t.endDate)})]})]}),Object(O.jsxs)("div",{style:{maxWidth:"100%"},children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between my-3",children:[Object(O.jsx)(el,{images:t.employees}),Object(O.jsx)("div",{className:"d-flex",style:{width:"4rem",height:"4rem",borderRadius:"50%"},children:Object(O.jsx)(Gl.a,{className:"fw-bold",value:W(t),text:`${W(t).toFixed(0)}%`,styles:Object(Gl.b)({pathColor:"#28a745",textColor:"#28a745"})})})]}),Object(O.jsx)("span",{style:{cursor:"pointer"},onMouseEnter:()=>f("name"),onMouseLeave:()=>f(!1),onClick:()=>{return e=t._id,void D((t=>t===e?null:e));var e},children:N===t._id?Object(O.jsxs)("span",{children:["View Less ",Object(O.jsx)(x.b,{className:"fs-4"})]}):Object(O.jsxs)("span",{children:[" ","View Details ",Object(O.jsx)(x.a,{className:"fs-4"})]})})]}),N===t._id&&Object(O.jsxs)(O.Fragment,{children:[" ",Object(O.jsx)("div",{style:{maxWidth:"100%",overflow:"auto"},children:Object(O.jsxs)("table",{striped:!0,bordered:!0,hover:!0,children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:G,children:"S. No "}),Object(O.jsx)("th",{style:G,children:" Name"}),Object(O.jsx)("th",{style:G,children:" Email"}),Object(O.jsx)("th",{style:G,children:" Designation"}),Object(O.jsx)("th",{style:G,children:" Task Status"}),Object(O.jsx)("th",{style:G,children:" Remarks"})]})}),Object(O.jsx)("tbody",{children:t.employees.map(((e,t)=>Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",backgroundColor:"Completed"===e.empTaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.empTaskStatus?"rgba(214, 92, 44, 0.636)":"inherit",color:A?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)",border:"none",padding:".5rem"},children:t+1}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",backgroundColor:"Completed"===e.empTaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.empTaskStatus?"rgba(214, 92, 44, 0.636)":"inherit",color:A?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)",border:"none",padding:".5rem"},children:`${e.employee.FirstName} ${e.employee.LastName}`}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",backgroundColor:"Completed"===e.empTaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.empTaskStatus?"rgba(214, 92, 44, 0.636)":"inherit",color:A?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)",border:"none",padding:".5rem"},children:e.employee.Email}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",backgroundColor:"Completed"===e.empTaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.empTaskStatus?"rgba(214, 92, 44, 0.636)":"inherit",color:A?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)",border:"none",padding:".5rem"},children:e.employee.position[0].PositionName}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",backgroundColor:"Completed"===e.empTaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.empTaskStatus?"rgba(214, 92, 44, 0.636)":"inherit",color:A?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)",border:"none",padding:".5rem"},children:e.empTaskStatus}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",backgroundColor:"Completed"===e.empTaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.empTaskStatus?"rgba(214, 92, 44, 0.636)":"inherit",color:A?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)",border:"none",padding:".5rem"},children:e.empTaskComment})]},t)))})]})}),Object(O.jsxs)("div",{className:"d-flex flex-column my-2",children:["Remarks",Object(O.jsx)("span",{children:t.comment})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"d-flex flex-column gap-2 my-2",children:["Action",Object(O.jsx)("div",{className:"d-flex gap-3  just"})]})]}),N===t._id&&Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex flex-column my-2",children:[Object(O.jsx)("h6",{children:"Remarks"}),Object(O.jsx)("span",{children:t.comment})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("span",{className:"d-flex flex-column gap-1",children:[Object(O.jsx)("h6",{children:"Time Left"}),Object(O.jsx)("span",{children:Object(O.jsx)("div",{style:{display:N===t._id?"flex":"none"},children:Object(O.jsx)("div",{className:"d-flex gap-2 justify-content-between",children:B(t.endDate).delay?Object(O.jsx)("div",{className:"",children:Object(O.jsx)("span",{className:" rounded-5 border border-danger  my-auto  p-1 px-2",children:"Please finish the task as soon as you can, as it's running late."})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:B(t.endDate).days}),Object(O.jsx)("div",{children:"Day"})]}),Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:B(t.endDate).hours}),Object(O.jsx)("div",{children:"Hrs"})]}),Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:B(t.endDate).minutes}),Object(O.jsx)("div",{children:"Min"})]}),Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:B(t.endDate).seconds}),Object(O.jsx)("div",{children:"Sec"})]})]})})})})]}),Object(O.jsxs)("div",{className:"d-flex flex-column gap-2 my-2",children:["Action",Object(O.jsxs)("div",{style:{height:"fit-content"},className:"d-flex pt-3 gap-2",children:[p&&p.length>0&&Object(O.jsxs)("button",{className:"btn btn-info d-flex justify-center aline-center gap-2",onClick:()=>(e=>{let t=p&&p.filter((t=>t._id===e));window.open(`${E}/${t[0].pdf}`,"_blank","noreferrer")})(t._id),children:[Object(O.jsx)(ct.i,{}),"View Docs"]}),Object(O.jsxs)("button",{className:"btn btn-primary d-flex justify-center aline-center gap-2",onClick:()=>(t=>{const a=e.find((e=>e._id===t));a&&($({id:a._id,Taskname:a.Taskname,description:a.description,startDate:a.startDate,endDate:a.endDate,managerEmail:a.managerEmail,duration:a.duration,comment:a.comment}),u(!0))})(t._id),children:[Object(O.jsx)(x.k,{}),"Update Task"]}),Object(O.jsxs)("button",{className:"btn btn-primary d-flex justify-center aline-center gap-2",onClick:()=>{return e=t._id,a=t.managerEmail,F({taskId:e,to:[a]}),void I.push("/admin/admin_manager");var e,a},children:[Object(O.jsx)(x.k,{}),"Ask Update"]})]})]})]})]})]})},t._id)))}):Object(O.jsxs)("div",{className:"d-flex flex-column gap-3 align-items-center justify-content-center",style:{height:"80vh"},children:[Object(O.jsx)("img",{style:{width:"15rem",height:"auto"},src:dl,alt:""}),Object(O.jsx)("p",{style:{color:A?"black":"white"},children:"Sorry, there are no tasks assigned yet."})]}),Object(O.jsxs)(Bs.a,{show:h,fullscreen:!1,onHide:U,children:[Object(O.jsx)(Bs.a.Header,{closeButton:!0,children:Object(O.jsx)("h6",{children:"Update Task"})}),Object(O.jsx)(Bs.a.Body,{children:Object(O.jsxs)(M.a,{className:"d-flex flex-column gap-3",children:[Object(O.jsxs)(M.a.Group,{controlId:"formTaskName",children:[Object(O.jsx)(M.a.Label,{children:"Task Name"}),Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",value:R.Taskname,onChange:e=>$({...R,Taskname:e.target.value})})]}),Object(O.jsxs)(M.a.Group,{controlId:"formDescription",children:[Object(O.jsx)(M.a.Label,{children:"Description"}),Object(O.jsx)("textarea",{className:"form-control rounded-0",as:"textarea",value:R.description,onChange:e=>$({...R,description:e.target.value})})]}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)(M.a.Group,{className:"col-12 col-md-6",controlId:"startDate",children:[Object(O.jsx)(M.a.Label,{children:"Start Date "}),Object(O.jsx)("input",{className:"form-control rounded-0",type:"date",value:R.startDate,onChange:e=>$({...R,startDate:e.target.value})})]}),Object(O.jsxs)(M.a.Group,{className:"col-12 col-md-6",controlId:"endDate",children:[Object(O.jsx)(M.a.Label,{children:"End Date"}),Object(O.jsx)("input",{className:"form-control rounded-0",type:"date",value:R.endDate,onChange:e=>$({...R,endDate:e.target.value})})]}),Object(O.jsxs)(M.a.Group,{className:"col-12",controlId:"comment",children:[Object(O.jsx)(M.a.Label,{children:"Remarks"}),Object(O.jsx)("input",{className:"form-control rounded-0",type:"text",value:R.comment,onChange:e=>$({...R,comment:e.target.value})})]})]}),Object(O.jsx)(xt.a,{variant:"primary",onClick:async()=>{try{await d.a.put(`${E}/api/tasks/${R.id}`,{Taskname:R.Taskname,description:R.description,startDate:R.startDate,endDate:R.endDate,managerEmail:R.managerEmail,duration:R.duration,comment:R.comment}),S.a.success("Task updated successfully!"),U(),H()}catch(n){console.error("Error updating task:",n.message),S.a.error("Failed to update task. Please try again.")}},children:"Update"})]})})]})]})};var Vl=e=>{const[t,a]=Object(s.useState)(null),{darkMode:l}=g(),{employees:c,setEmployees:r,selectedEmployee:n,setSelectedEmployee:o,attencenceID:i,setAttencenceID:j,message:m,setMessage:h}=Object(s.useContext)(b);Object(s.useEffect)((()=>{u()}),[]),Object(s.useEffect)((()=>{p()}),[]);const u=async()=>{try{const t=await d.a.get(`${E}/api/employee/${e.data._id}`,{headers:{authorization:localStorage.getItem("token")||""}});r(t.data)}catch(t){console.error("Error fetching employees:",t)}},p=async()=>{try{const t=await d.a.get(`${E}/api/personal-info/${e.data._id}`,{headers:{authorization:localStorage.getItem("token")||""}});a(t.data.FirstName)}catch(t){console.error("Error fetching personal info:",t)}},v=async(e,a)=>{const s=c.find((e=>e.FirstName===t));if(!s)return void h("Please select a user");const{attendanceObjID:l,_id:r}=s,n=is()().format("HH:mm:ss");try{await d.a.post(`${E}/api/attendance/${l}`,{employeeId:r,year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate(),[e]:[n],status:a}),h(`${a} time recorded successfully`),S.a.success(`${a} time recorded successfully`)}catch(o){h(`Error recording ${a} time`),S.a.error(`Error recording ${a} time`),console.error(`Error recording ${a} time:`,o)}};return Object(O.jsx)("div",{className:"container-fluid",children:Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between py-2",children:[Object(O.jsx)("div",{className:"d-flex justify-content-between align-items-center p-3 px-2",children:Object(O.jsx)("h5",{style:{color:l?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"fw-bold my-auto",children:"Attendance System"})}),Object(O.jsx)("div",{className:"d-flex gap-3 px-2",style:{height:"fit-content"},children:Object(O.jsxs)("div",{className:"d-flex gap-3",children:[Object(O.jsxs)("button",{title:"Break",className:"btn btn-warning d-flex align-items-center gap-2",onClick:()=>v("breakTime","break"),children:[Object(O.jsx)(x.f,{})," ",Object(O.jsx)("span",{className:"d-none d-md-flex",children:"Break"})]}),Object(O.jsxs)("button",{title:"Resume",className:"btn btn-primary d-flex align-items-center gap-2",onClick:()=>v("resumeTime","resume"),children:[Object(O.jsx)(x.o,{})," ",Object(O.jsx)("span",{className:"d-none d-md-flex",children:"Resume"})]})]})})]})})};a(634);var Jl=e=>{const[t,a]=Object(s.useState)(!0),[l,c]=Object(s.useState)(""),[r,n]=Object(s.useState)([]),[o,i]=Object(s.useState)([]),{darkMode:j}=g(),[m,h]=Object(s.useState)(1),[b]=Object(s.useState)(10);Object(s.useEffect)((()=>{d.a.get(`${E}/api/getAllLeave`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;a(!1);const s=t.map((e=>null!==e.profile?{empID:e.empID,Name:e.FirstName+" "+e.LastName,Leavetype:e.Leavetype,sickLeave:e.sickLeave,paidLeave:e.paidLeave,casualLeave:e.casualLeave,paternityLeave:e.paternityLeave,maternityLeave:e.maternityLeave,profilePic:e.profile.image_url}:{empID:e.empID,Name:e.FirstName+" "+e.LastName,Leavetype:e.Leavetype,sickLeave:e.sickLeave,paidLeave:e.paidLeave,casualLeave:e.casualLeave,paternityLeave:e.paternityLeave,maternityLeave:e.maternityLeave,profilePic:null}));n(s),i(s)})).catch((e=>{}))}),[]),Object(s.useEffect)((()=>{const e=r.filter((e=>e.Name.toLowerCase().includes(l.toLowerCase())));i(e)}),[l]);const u=m*b,p=u-b,x=o.slice(p,u),v=[];for(let s=1;s<=Math.ceil(o.length/b);s++)v.push(s);return Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between align-items-center py-3",children:[Object(O.jsx)(ma,{title:"Leaves Balance",message:"You can view consolidated leave balances of the employee here."}),Object(O.jsx)("div",{className:"searchholder p-0 d-flex position-relative",children:Object(O.jsx)("input",{style:{height:"100%",width:"100%",paddingLeft:"10%"},className:"form-control border rounded-0 py-2",type:"text",placeholder:"Search by name",value:l,onChange:e=>c(e.target.value)})})]}),Object(O.jsx)("div",{id:"clear-both"}),t?Object(O.jsx)("div",{id:"loading-bar",children:Object(O.jsx)(jt.a,{size:50,color:"#0000ff",loading:!0})}):Object(O.jsx)("div",{style:{minHeight:"80vh",maxHeight:"80vh",overflow:"auto",width:"100%"},className:"mb-2",children:o.length>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",style:{fontSize:".9rem"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:ut(j),children:"Profile"}),Object(O.jsx)("th",{style:ut(j),children:"Employee Name"}),Object(O.jsx)("th",{style:ut(j),children:"Emp ID"}),Object(O.jsx)("th",{style:ut(j),children:"Sick Leave"}),Object(O.jsx)("th",{style:ut(j),children:"Paid Leave"}),Object(O.jsx)("th",{style:ut(j),children:"Casual Leave"}),Object(O.jsx)("th",{style:ut(j),children:"Paternity Leave"}),Object(O.jsx)("th",{style:ut(j),children:"Maternity Leave"})]})}),Object(O.jsx)("tbody",{children:x.map(((e,t)=>Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:pt(j),children:Object(O.jsx)("img",{src:e.profilePic||w,alt:"Profile",style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"}})}),Object(O.jsx)("td",{style:pt(j),children:e.Name}),Object(O.jsx)("td",{style:pt(j),children:e.empID}),Object(O.jsx)("td",{style:pt(j),children:e.sickLeave}),Object(O.jsx)("td",{style:pt(j),children:e.paidLeave}),Object(O.jsx)("td",{style:pt(j),children:e.casualLeave}),Object(O.jsx)("td",{style:pt(j),children:e.paternityLeave}),Object(O.jsx)("td",{style:pt(j),children:e.maternityLeave})]},t)))})]})}),Object(O.jsx)(vt,{currentPage:m,pageNumbers:v,handlePaginationPrev:()=>{h((e=>e-1))},handlePaginationNext:()=>{h((e=>e+1))},setCurrentPage:h,filteredDataLength:o.length,itemsPerPage:b})]}):Object(O.jsxs)("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"2rem"},children:[Object(O.jsx)("img",{style:{height:"auto",width:"20%"},src:ja,alt:"img"}),Object(O.jsx)("p",{className:"text-center w-75 mx-auto",style:{color:j?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)"},children:"User not found."})]})})]})};var Zl=()=>{const{messageData:e,socket:t,setChat:a,chat:l,profile:c}=Object(s.useContext)(b),{userData:r}=Object(P.c)((e=>e.user)),n=null===r||void 0===r?void 0:r.Email,i=`${null===r||void 0===r?void 0:r.FirstName} ${null===r||void 0===r?void 0:r.LastName}`,[d,j]=Object(s.useState)(""),m=Object(s.useRef)(null),h=Object(s.useRef)(null),u=Object(o.n)().pathname.split("/")[2],p=Object(as.a)(),{darkMode:x}=g();Object(s.useEffect)((()=>{t.emit("getMessages",{from:n,to:e.to,taskId:e.taskId,bwt:"admin-manager"},(e=>{a(e)}))}),[t,n,e,a]);const v=()=>{if(!d.trim())return;const s=(new Date).toISOString();t.emit("sendMessage",{notiId:p,profile:c?c.image_url:null,from:n,to:e.to,taskId:e.taskId,text:d,name:i,createAt:s,bwt:"admin-manager"}),a((e=>[...e,{text:d,from:n,fromName:i,createAt:s}])),j("")};Object(s.useEffect)((()=>(t.on("newMessage",(e=>{u===e.path&&a((t=>[...t,e]))})),()=>{t.off("newMessage")})),[t,u,a]),Object(s.useEffect)((()=>{h.current&&(h.current.scrollTop=h.current.scrollHeight)}),[l]);const y=e=>{try{if(!e)return"Invalid Date";const t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";const a=new Date;return t.toDateString()===a.toDateString()?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString(void 0,{month:"short",day:"numeric"})+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch(t){return console.error("Error parsing date:",t),"Invalid Date"}};return Object(O.jsxs)("div",{style:{color:x?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"container-fluid py-2",children:[Object(O.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"16px"},children:Object(O.jsx)(ma,{title:"Chat"})}),Object(O.jsxs)("div",{style:{width:"100%",flexDirection:"column",display:"flex",flex:"1",minHeight:"80vh",justifyContent:"end",backgroundImage:x?"url(https://www.shutterstock.com/image-vector/social-media-doodle-seamless-pattern-600nw-1931497916.jpg)":"url(https://i.pinimg.com/originals/b9/1d/c2/b91dc2113881469c07ac99ad9a024a01.jpg)",backgroundPosition:"center",backgroundSize:"250px",backgroundRepeat:"repeat"},children:[l.length>0?Object(O.jsxs)("div",{ref:h,style:{overflow:"auto",maxHeight:"77vh",padding:"16px",display:"flex",flexDirection:"column",gap:"8px",overflowY:"scroll"},children:[l.map(((e,t)=>Object(O.jsxs)("div",{style:{alignSelf:e.from===n?"flex-end":"flex-start",backgroundColor:e.from===n?"#d1e7dd":"#f8d7da",padding:"10px",borderRadius:"5px",maxWidth:"80%",wordWrap:"break-word",position:"relative"},children:[Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0px",gap:"20px"},children:[Object(O.jsx)("span",{style:{fontSize:"0.7em",color:"#6c757d",fontWeight:"bold"},children:e.from===n?"You":e.fromName}),Object(O.jsx)("span",{style:{fontSize:"0.6em",color:"#6c757d"},children:y(e.createAt)})]}),Object(O.jsx)("div",{className:"text-dark",children:e.text})]},t))),Object(O.jsx)("div",{ref:m})]}):Object(O.jsx)("div",{className:"text-center py-3",children:"Start new conversation"}),Object(O.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px",padding:"8px"},children:[Object(O.jsx)("input",{style:{flexGrow:"1",padding:"8px",borderRadius:"4px",border:"1px solid #ced4da"},type:"text",value:d,onChange:e=>j(e.target.value),onKeyDown:e=>{"Enter"===e.key&&v()},placeholder:"Type a message..."}),Object(O.jsx)("button",{style:{padding:"8px 16px",backgroundColor:"#0d6efd",border:"none",borderRadius:"4px",color:"white",cursor:"pointer"},onClick:v,children:"Send"})]})]})]})};var Xl=()=>{const e=Object(o.p)(),{setManagerMail:t}=Object(s.useContext)(b),[a,l]=Object(s.useState)(!1),[c,r]=Object(s.useState)(null),[n,i]=Object(s.useState)({});Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get(`${E}/api/employeeByDepartment`);i(e.data)}catch(e){console.error("Error fetching employee data:",e)}})()}),[]);const j=()=>l(!1);return Object(O.jsxs)("div",{className:"card",children:[Object(O.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[Object(O.jsx)("h5",{className:"mb-0",children:"Team"}),Object(O.jsx)("span",{children:Object.keys(n).length})]}),Object(O.jsx)("ul",{className:"list-group list-group-flush",children:Object.keys(n).length>0&&Object.keys(n).map(((e,t)=>Object(O.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("strong",{children:e}),Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[n[e].map(((e,t)=>Object(O.jsx)("img",{src:null===e.profile?w:e.profile.image_url,alt:e.name,className:"rounded-circle me-2",style:{width:"30px",height:"30px"}},t))),n[e].length>4?Object(O.jsxs)(O.Fragment,{children:["+",n[e].length-4]}):Object(O.jsx)(O.Fragment,{})]})]}),Object(O.jsx)(xt.a,{variant:"link",onClick:()=>(e=>{r(e),l(!0)})(e),children:"View"})]},t)))}),Object(O.jsxs)(Bs.a,{show:a,onHide:j,children:[Object(O.jsx)(Bs.a.Header,{closeButton:!0,children:Object(O.jsxs)(Bs.a.Title,{children:[c," Team"]})}),Object(O.jsx)(Bs.a.Body,{children:c&&n[c].length>0?Object(O.jsx)("ul",{className:"list-group",children:n[c].map(((a,s)=>Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("li",{className:"list-group-item d-flex align-items-center justify-content-between",children:[Object(O.jsxs)("div",{className:" d-flex align-items-center ",children:[Object(O.jsx)("img",{src:null===a.profile?w:a.profile.image_url,alt:a.name,className:"rounded-circle me-3",style:{width:"40px",height:"40px"}}),Object(O.jsx)("span",{children:`${a.FirstName} ${a.LastName}`})]}),Object(O.jsx)(xt.a,{variant:"link",onClick:()=>(t(a.Email),void e.push("/admin/managerTeam")),children:"View Team"})]},s)})))}):Object(O.jsx)("p",{children:"No members in this team."})}),Object(O.jsx)(Bs.a.Footer,{children:Object(O.jsx)(xt.a,{variant:"secondary",onClick:j,children:"Close"})})]})]})};var Ql=()=>{const{managerMail:e}=Object(s.useContext)(b),{userData:t}=Object(P.c)((e=>e.user)),a=null===t||void 0===t?void 0:t.Email,[l,c]=Object(s.useState)([]),[r,n]=Object(s.useState)(!0),{darkMode:o}=g(),[i,j]=Object(s.useState)(1),[m]=Object(s.useState)(10),h=e=>{switch(e){case 1:return"Admin";case 2:return"Hr";case 3:return"Employee";default:return"Manager"}};Object(s.useEffect)((()=>{d.a.post(`${E}/api/employeeTeam`,{email:null===e?a:e},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{Array.isArray(e.data)?(c(e.data),n(!1)):console.error("Data received is not an array:",e.data)})).catch((e=>{console.error("Error fetching employee data:",e)}))}),[]);const u=i*m,p=u-m,x=l.slice(p,u),v=[];for(let s=1;s<=Math.ceil(l.length/m);s++)v.push(s);return Object(O.jsxs)("div",{className:"container-fluid ",children:[Object(O.jsx)("div",{className:"mb-2",children:Object(O.jsx)(ma,{title:"Employee List",numbers:l.length,message:`You can view all team member of List of : ( ${e} )`})}),r?Object(O.jsx)("p",{children:"Loading..."}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:ut(o),children:"Employee Name"}),Object(O.jsx)("th",{style:ut(o),children:"ID"}),Object(O.jsx)("th",{style:ut(o),children:"Position"}),Object(O.jsx)("th",{style:ut(o),children:"Account"}),Object(O.jsx)("th",{style:ut(o),children:"Status"}),Object(O.jsx)("th",{style:ut(o),children:"Email"}),Object(O.jsx)("th",{style:ut(o),children:"Contact No"}),Object(O.jsx)("th",{style:ut(o),children:"Login Status"})]})}),Object(O.jsx)("tbody",{children:x.map((e=>{var t,a,s,l,c,r,n,i;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:pt(o),children:Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("div",{className:"d-flex align-items-center",style:{height:"30px",width:"30px",borderRadius:"50%",backgroundColor:"#ccc",color:"white",fontWeight:"bold",overflow:"hidden",marginRight:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&null!==(a=t.profile)&&void 0!==a&&a.image_url?Object(O.jsx)("img",{style:{height:"100%",width:"100%",borderRadius:"50%",objectFit:"cover"},src:null===e||void 0===e||null===(s=e.data)||void 0===s||null===(l=s.profile)||void 0===l?void 0:l.image_url,alt:""}):Object(O.jsxs)("span",{className:"d-flex align-items-center justify-content-center",children:[null!==(c=null===e||void 0===e||null===(r=e.FirstName)||void 0===r?void 0:r.charAt(0).toUpperCase())&&void 0!==c?c:"",null!==(n=null===e||void 0===e||null===(i=e.LastName)||void 0===i?void 0:i.charAt(0).toUpperCase())&&void 0!==n?n:""]})}),Object(O.jsxs)("span",{className:"d-flex flex-column text-capitalize",children:[Object(O.jsx)("span",{style:{fontSize:".9rem"},children:e.empID}),`${e.FirstName} ${e.LastName}`]})]})}),Object(O.jsx)("td",{style:pt(o)}),Object(O.jsx)("td",{style:pt(o),children:e.position[0].PositionName}),Object(O.jsx)("td",{style:pt(o),children:h(e.Account)}),Object(O.jsx)("td",{style:pt(o),className:"active"===e.status?"text-success text-capitalize":"text-danger text-capitalize",children:e.status}),Object(O.jsx)("td",{style:pt(o),children:e.Email}),Object(O.jsx)("td",{style:pt(o),children:e.ContactNo}),Object(O.jsx)("td",{style:pt(o),children:e.loginStatus})]},e._id)}))})]})}),Object(O.jsx)(vt,{currentPage:i,pageNumbers:v,handlePaginationPrev:()=>{j((e=>e-1))},handlePaginationNext:()=>{j((e=>e+1))},setCurrentPage:j,filteredDataLength:l.length,itemsPerPage:m})]})]})};var Kl=()=>{const e=new Date,[t,a]=Object(s.useState)(e.getMonth()+1),[l,c]=Object(s.useState)(e.getFullYear()),[r,n]=Object(s.useState)([]),[o,i]=Object(s.useState)(""),{darkMode:j}=g();Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get(`${E}/api/leave-application-by-month-year?month=${t}&year=${l}`);n(e.data.filter((e=>"2"===e.Status))),i("")}catch(e){i("Error fetching leave applications"),console.error(e)}})()}),[t,l]);const m=(e,t)=>{const a=new Date(e),s=new Date(t),l=Math.abs(s-a);return Math.ceil(l/864e5)+1};return Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsx)("h5",{children:"Leave Application Monthly"}),Object(O.jsxs)("form",{className:"d-flex align-items-end gap-3 my-2",onSubmit:async e=>{e.preventDefault();try{const e=await d.a.get(`${E}/api/leave-application-by-month-year?month=${t}&year=${l}`);n(e.data.filter((e=>"2"===e.Status))),i("")}catch(a){i("Error fetching leave applications"),console.error(a)}},children:[Object(O.jsxs)("div",{className:"d-flex flex-column gap-0",children:[Object(O.jsx)("label",{htmlFor:"month",children:"Month:"}),Object(O.jsx)("input",{type:"number",className:"form-control",id:"month",value:t,onChange:e=>a(Number(e.target.value)),min:"1",max:"12",required:!0})]}),Object(O.jsxs)("div",{className:"d-flex flex-column gap-0",children:[Object(O.jsx)("label",{htmlFor:"year",children:"Year:"}),Object(O.jsx)("input",{type:"number",className:"form-control",id:"year",value:l,onChange:e=>c(Number(e.target.value)),min:"1900",max:(new Date).getFullYear(),required:!0})]}),Object(O.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Fetch Leave Applications"})]}),o&&Object(O.jsx)("p",{children:o}),r.length>0&&Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:ut(j),children:"Employee ID"}),Object(O.jsx)("th",{style:ut(j),children:"Employee Name"}),Object(O.jsx)("th",{style:ut(j),children:"Leave Type"}),Object(O.jsx)("th",{style:ut(j),children:"From Date"}),Object(O.jsx)("th",{style:ut(j),children:"To Date"}),Object(O.jsx)("th",{style:ut(j),children:"Total Days"}),Object(O.jsx)("th",{style:ut(j),children:"Status"}),Object(O.jsx)("th",{style:ut(j),children:"Additional Manager"})]})}),Object(O.jsx)("tbody",{children:r.map((e=>{var t,a,s;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:pt(j),children:(null===(t=e.employee[0])||void 0===t?void 0:t.empID)||"N/A"}),Object(O.jsx)("td",{className:"text-capitalize",style:pt(j),children:`${(null===(a=e.employee[0])||void 0===a?void 0:a.FirstName)||""} ${(null===(s=e.employee[0])||void 0===s?void 0:s.LastName)||""}`}),Object(O.jsx)("td",{className:"text-capitalize",style:pt(j),children:e.Leavetype}),Object(O.jsx)("td",{style:pt(j),children:new Date(e.FromDate).toLocaleDateString()}),Object(O.jsx)("td",{style:pt(j),children:new Date(e.ToDate).toLocaleDateString()}),Object(O.jsx)("td",{style:pt(j),children:m(e.FromDate,e.ToDate)}),Object(O.jsx)("td",{style:pt(j),children:e.Status}),Object(O.jsx)("td",{style:pt(j),children:e.aditionalManager})]},e._id)}))})]})]})};var ec=e=>{const[t,a]=Object(s.useState)(!0),{isOpen:l}=C(),{darkMode:c}=g();return Object(O.jsx)("div",{style:{backgroundColor:c?"var(--secondaryDashMenuColor)":"var(--secondaryDashColorDark)",maxHeight:"100vh",overflow:"hidden",position:"fixed",width:"100%",left:"0",top:"0"},children:Object(O.jsxs)("div",{className:"dashboard-grid",children:[Object(O.jsx)("div",{style:{transform:l?"translateX(0%)":"translateX(-500%)",transition:"1s ease"},className:"sidebarsmall d-flex ",children:Object(O.jsx)(_e,{})}),Object(O.jsx)("div",{className:"navbar-grid  shadow-sm",children:Object(O.jsx)(ve,{loginInfo:e.data,checked:t,handleChange:()=>{t?document.getElementById("sidebar").setAttribute("class","display-none"):document.getElementById("sidebar").setAttribute("class","display-block"),a(!t)},onLogout:e.onLogout})}),Object(O.jsx)("div",{className:"sidebar-grid",children:Object(O.jsx)(qe,{})}),Object(O.jsxs)("div",{className:"mainbar-grid",children:[Object(O.jsx)("div",{style:{maxHeight:"84vh",overflow:"auto"},className:"pb-4",children:Object(O.jsx)(o.a,{})}),Object(O.jsx)("div",{style:{zIndex:"50",position:"absolute",bottom:"0"},className:"HrPannelFooter bg-dark w-100 text-white",children:Object(O.jsx)(we,{})})]})]})})};a(635);var tc=e=>{const[t,a]=Object(s.useState)(!0),{isOpen:l}=C(),{darkMode:c}=g();return Object(O.jsx)("div",{style:{backgroundColor:c?"var(--secondaryDashMenuColor)":"var(--secondaryDashColorDark)",maxHeight:"100vh",overflow:"hidden",position:"fixed",width:"100%",left:"0",top:"0"},children:Object(O.jsx)("div",{style:{backgroundColor:c?"var(--secondaryDashMenuColor)":"var(--secondaryDashColorDark)",maxHeight:"100vh",overflow:"hidden",position:"fixed",width:"100%",left:"0",top:"0"},children:Object(O.jsxs)("div",{className:"dashboard-grid",children:[Object(O.jsx)("div",{style:{transform:l?"translateX(0%)":"translateX(-500%)",transition:"1s ease"},className:"sidebarsmall d-flex ",children:Object(O.jsx)(_e,{})}),Object(O.jsx)("div",{className:"navbar-grid  shadow-sm",children:Object(O.jsx)(ve,{loginInfo:e.data,checked:t,handleChange:()=>{t?document.getElementById("sidebar").setAttribute("class","display-none"):document.getElementById("sidebar").setAttribute("class","display-block"),a(!t)},onLogout:e.onLogout})}),Object(O.jsx)("div",{className:"sidebar-grid",children:Object(O.jsx)(qe,{})}),Object(O.jsxs)("div",{className:"mainbar-grid ",children:[Object(O.jsx)("div",{style:{maxHeight:"84vh",overflow:"auto"},className:"pb-4",children:Object(O.jsx)(o.a,{})}),Object(O.jsx)("div",{style:{zIndex:"50",position:"absolute",bottom:"0"},className:"HrPannelFooter bg-dark w-100 text-white",children:Object(O.jsx)(we,{})})]})]})})})};mt.a`
  display: block;
  margin: 0 auto;
  margin-top: 45px;
  border-color: red;
`;var ac=e=>{const[t,a]=Object(s.useState)([]),{userData:l}=Object(P.c)((e=>e.user)),[c,r]=Object(s.useState)(!0),[n,o]=Object(s.useState)([]),[i,j]=Object(s.useState)(""),[m,h]=Object(s.useState)([]),{darkMode:b}=g(),[u,p]=Object(s.useState)(1),[x]=Object(s.useState)(10),v=null===l||void 0===l?void 0:l.Email,y=e=>{if(!e)return;const t=e.split("-");return`${t[2]}-${t[1]}-${t[0]}`},f=()=>{d.a.post(`${E}/api/leave-application-hr/`,{manager:v},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;function s(e){const t=new Date(e),a=t.toLocaleDateString("en-CA");let s=t.getHours();const l=s>=12?"PM":"AM";s=s%12||12;return`${a} ${`${s}:${t.getMinutes().toString().padStart(2,"0")} ${l}`}`}a(t),r(!1);const l=t.map((e=>{var t,a;return{data:e,empID:null===e||void 0===e?void 0:e.empID,FirstName:null===e||void 0===e?void 0:e.FirstName,LastName:null===e||void 0===e?void 0:e.LastName,Name:(null===e||void 0===e?void 0:e.FirstName)+" "+(null===e||void 0===e?void 0:e.LastName),Leavetype:null===e||void 0===e?void 0:e.Leavetype,CreatedOn:s(null===e||void 0===e?void 0:e.createdOn),FromDate:y(null===(t=e.FromDate)||void 0===t?void 0:t.slice(0,10)),ToDate:y(null===(a=e.ToDate)||void 0===a?void 0:a.slice(0,10)),Days:k(null===e||void 0===e?void 0:e.FromDate,null===e||void 0===e?void 0:e.ToDate),Reasonforleave:null===e||void 0===e?void 0:e.Reasonforleave,Status:C(null===e||void 0===e?void 0:e.Status),empObjID:null===e||void 0===e?void 0:e.empObjID,reportHr:null===e||void 0===e?void 0:e.reportHr,reportManager:null===e||void 0===e?void 0:e.reportManager}}));o(l.filter((e=>"Approved"===e.Status||2===e.Status))),h(l.filter((e=>"Approved"===e.Status||2===e.Status)))})).catch((e=>{}))};Object(s.useEffect)((()=>{f()}),[]),Object(s.useEffect)((()=>{D()}),[i]);const D=()=>{const e=n.filter((e=>e.Name.toLowerCase().includes(i.toLowerCase())));h(e)},k=(e,t)=>{const a=new Date(e),s=new Date(t),l=Math.abs(s-a);return Math.ceil(l/864e5)+1},C=e=>1==e?"Pending":2==e?"Approved":3==e?"Rejected":void 0,w=m.filter((e=>"Approved"===e.Status)).length,A=u*x,S=A-x,M=m.slice(S,A),L=[];for(let s=1;s<=Math.ceil(m.length/x);s++)L.push(s);return Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsx)("div",{className:"d-flex flex-column justify-between m-0 mt-3",children:Object(O.jsxs)("div",{className:"d-flex justify-content-between aline-items-center",children:[Object(O.jsxs)("div",{className:"my-auto",children:[Object(O.jsxs)("h5",{style:{color:b?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"m-0 p-0 ",children:["Leaves Request ( ",w," )"]}),Object(O.jsxs)("p",{style:{color:b?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"m-0 p-0 ",children:["You can see all new leave requests here"," "]})]}),Object(O.jsxs)("div",{className:"d-flex gap-2 justify-content-between py-3",children:[Object(O.jsxs)("button",{className:"btn btn-danger rounded-0 py-0 shadow-sm d-flex justify-center  aline-center gap-2",onClick:()=>{if(window.confirm("Are you sure to download Approved Leave record?")){const e=297,t=210,a=new sa.default({orientation:"landscape",unit:"mm",format:[e,t]});a.setFontSize(18),a.text("Employee Approved Leave Details",e/2,15,"center");const s=["Emp Id","Leave Type","Start Date","End Date","Days","CreatedOn","Remarks","Status"],l=m.filter((e=>"Approved"===e.Status)).map((e=>[e.empID,e.Leavetype,e.FromDate,e.ToDate,e.Days,e.CreatedOn,e.Reasonforleave,e.Status]));a.setFontSize(12),a.autoTable({head:[s],body:l,startY:25}),a.save("Approved_leaveApplication_data.pdf")}},children:[Object(O.jsx)(ct.j,{className:"fs-6"}),Object(O.jsx)("p",{className:"my-auto d-none d-md-flex fs-6",children:"PDF"})]}),Object(O.jsxs)("div",{className:"searchholder p-0 d-flex  position-relative",children:[Object(O.jsx)("input",{style:{height:"100%",width:"100%",paddingLeft:"15%"},className:"form-control border rounded-0",type:"text",placeholder:"Search by name",value:i,onChange:e=>j(e.target.value)}),Object(O.jsx)(N.e,{style:{position:"absolute",top:"30%",left:"5%"}})]})]})]})}),Object(O.jsx)("div",{id:"clear-both"}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{children:m.length>0?Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",style:{fontSize:".9rem"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{className:"shadow",children:[Object(O.jsx)("th",{colSpan:2,style:ut(b),children:"Employee Name"}),Object(O.jsx)("th",{style:ut(b),children:"Emp ID"}),Object(O.jsx)("th",{style:ut(b),children:"Leave Type"}),Object(O.jsx)("th",{style:ut(b),children:"Start Date"}),Object(O.jsx)("th",{style:ut(b),children:"End Date"}),Object(O.jsx)("th",{style:ut(b),children:"CreatedOn"}),Object(O.jsx)("th",{style:ut(b),children:"Days"}),Object(O.jsx)("th",{style:ut(b),children:"Status"}),Object(O.jsx)("th",{style:ut(b),children:"Remarks"})]})}),Object(O.jsx)("tbody",{children:M.map(((e,t)=>{var a,s;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:pt(b),className:"py-1",children:Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-center",style:{height:"30px",width:"30px",borderRadius:"50%",backgroundColor:"#ccc",color:"white",fontWeight:"bold",overflow:"hidden",objectFit:"cover"},children:[null===e||void 0===e||null===(a=e.FirstName)||void 0===a?void 0:a[0],null===e||void 0===e||null===(s=e.LastName)||void 0===s?void 0:s[0]]})}),Object(O.jsx)("td",{className:"text-capitalize",style:pt(b),children:e.Name}),Object(O.jsx)("td",{style:pt(b),children:e.empID}),Object(O.jsx)("td",{style:pt(b),children:e.Leavetype}),Object(O.jsx)("td",{style:pt(b),children:e.FromDate}),Object(O.jsx)("td",{style:pt(b),children:e.ToDate}),Object(O.jsx)("td",{style:pt(b),children:Object(O.jsx)("span",{children:e.CreatedOn})}),Object(O.jsx)("td",{style:pt(b),children:Object(O.jsx)("span",{children:e.Days})}),Object(O.jsx)("td",{style:pt(b),children:Object(O.jsx)("span",{className:" text-success border border-success px-2 py-0 rounded-5",children:e.Status})}),Object(O.jsx)("td",{style:pt(b),children:e.Reasonforleave})]},t)}))})]})}),Object(O.jsx)(vt,{currentPage:u,pageNumbers:L,handlePaginationPrev:()=>{p((e=>e-1))},handlePaginationNext:()=>{p((e=>e+1))},setCurrentPage:p,filteredDataLength:m.length,itemsPerPage:x})]}):Object(O.jsxs)("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"2rem"},children:[Object(O.jsx)("img",{style:{height:"auto",width:"25%"},src:b?Qa:Xa,alt:"img"}),Object(O.jsx)("p",{style:{color:b?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)"},children:"No Leave requests found."})]})})})]})};var sc=e=>{const[t,a]=Object(s.useState)(!0),{socket:c}=Object(s.useContext)(b),[r,n]=Object(s.useState)(!1),[o,i]=Object(s.useState)({}),[j,m]=Object(s.useState)(null),{userData:h}=Object(P.c)((e=>e.user)),u=null===h||void 0===h?void 0:h._id,p=null===h||void 0===h?void 0:h.Email,x=`${null===h||void 0===h?void 0:h.FirstName} ${null===h||void 0===h?void 0:h.LastName}`;Object(s.useEffect)((()=>{d.a.get(`${E}/api/particularEmployee/${u}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{m(e.data)})).catch((e=>{}))}),[]);return Object(O.jsx)(l.a.Fragment,{children:t?r?Object(O.jsx)(Rl,{onLeaveApplicationHREditUpdate:(e,t)=>{t.preventDefault();let s={Status:t.target[3].value,updatedBy:`${j.FirstName} ${j.LastName}`};const l=Object(as.a)();let r="";if("2"===s.Status)r="Approved",d.a.put(`${E}/api/leave-application-hr/`+e._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((t=>{if(a(!1),a(!0),j.profile){const t={taskId:l,employeeEmail:e.Email,hrEmail:e.reportHr,reportManager:p===e.aditionalManager?e.reportManager:e.aditionalManager,message:`Leave ${r}`,messageBy:x,profile:j.profile.image_url,status:"unseen",path:1===j.Account?"createLeave":"leaveApplication"};c.emit("leaveManagerStatusNotification",t)}else{const t={taskId:l,employeeEmail:e.Email,hrEmail:e.reportHr,reportManager:p===e.aditionalManager?e.reportManager:e.aditionalManager,message:`Leave ${r}`,messageBy:x,profile:null,status:"unseen",path:1===j.Account?"createLeave":"leaveApplication"};c.emit("leaveManagerStatusNotification",t)}})).catch((e=>{}));else if("3"===s.Status){r="Rejected";let t=prompt("Please provide reason of rejection");s.reasonOfRejection=t,d.a.put(`${E}/api/leave-application-hr/`+e._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((t=>{a(!1),a(!0);let s=function(e,t){const a=new Date(e),s=(new Date(t).getTime()-a.getTime())/864e5;return Math.abs(s)}(e.FromDate,e.ToDate)+1;if(((e,t,a,s)=>{d.a.post(`${E}/api/rejectedLeave`,{id:e,email:t,leaveType:a,totalLeaveRequired:s},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{})).catch((e=>{}))})(e.empObjID,e.Email,e.Leavetype,s),j.profile){const t={taskId:l,employeeEmail:e.Email,hrEmail:e.reportHr,reportManager:p===e.aditionalManager?e.reportManager:e.aditionalManager,message:`Leave ${r}`,messageBy:x,profile:j.profile.image_url,status:"unseen",path:1===j.Account?"createLeave":"leaveApplication"};c.emit("leaveManagerStatusNotification",t)}else{const t={taskId:l,employeeEmail:e.Email,hrEmail:e.reportHr,reportManager:p===e.aditionalManager?e.reportManager:e.aditionalManager,message:`Leave ${r}`,messageBy:x,profile:null,status:"unseen",path:1===j.Account?"createLeave":"leaveApplication"};c.emit("leaveManagerStatusNotification",t)}})).catch((e=>{}))}n(!1)},onFormEditClose:()=>{n(!1)},editData:o}):Object(O.jsx)(ac,{onAddLeaveApplicationHR:()=>{a(!1)},onEditLeaveApplicationHR:e=>{n(!0),i(e)},data:e.data}):Object(O.jsx)("div",{})})};mt.a`
  display: block;
  margin: 0 auto;
  margin-top: 45px;
  border-color: red;
`;var lc=e=>{const[t,a]=Object(s.useState)([]),{userData:l}=Object(P.c)((e=>e.user)),[c,r]=Object(s.useState)(!0),[n,o]=Object(s.useState)([]),[i,j]=Object(s.useState)(null),[m,h]=Object(s.useState)(""),[b,u]=Object(s.useState)("asc"),[p,x]=Object(s.useState)([]),{darkMode:v}=g(),[y,f]=Object(s.useState)(1),[D]=Object(s.useState)(10),k=null===l||void 0===l?void 0:l.Email,C=e=>{if(!e)return;const t=e.split("-");return`${t[2]}-${t[1]}-${t[0]}`},w=()=>{d.a.post(`${E}/api/leave-application-hr/`,{manager:k},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data;function s(e){const t=new Date(e),a=t.toLocaleDateString("en-CA");let s=t.getHours();const l=s>=12?"PM":"AM";s=s%12||12;return`${a} ${`${s}:${t.getMinutes().toString().padStart(2,"0")} ${l}`}`}a(t),r(!1);const l=t.map((e=>{var t,a;return{data:e,empID:null===e||void 0===e?void 0:e.empID,FirstName:null===e||void 0===e?void 0:e.FirstName,LastName:null===e||void 0===e?void 0:e.LastName,Name:(null===e||void 0===e?void 0:e.FirstName)+" "+(null===e||void 0===e?void 0:e.LastName),Leavetype:null===e||void 0===e?void 0:e.Leavetype,CreatedOn:s(null===e||void 0===e?void 0:e.createdOn),FromDate:C(null===(t=e.FromDate)||void 0===t?void 0:t.slice(0,10)),ToDate:C(null===(a=e.ToDate)||void 0===a?void 0:a.slice(0,10)),Days:S(null===e||void 0===e?void 0:e.FromDate,null===e||void 0===e?void 0:e.ToDate),Reasonforleave:null===e||void 0===e?void 0:e.Reasonforleave,Status:M(null===e||void 0===e?void 0:e.Status),empObjID:null===e||void 0===e?void 0:e.empObjID,reportHr:null===e||void 0===e?void 0:e.reportHr,reportManager:null===e||void 0===e?void 0:e.reportManager}}));o(l.filter((e=>"Rejected"===e.Status||3===e.Status))),x(l.filter((e=>"Rejected"===e.Status||3===e.Status)))})).catch((e=>{}))};Object(s.useEffect)((()=>{w()}),[]),Object(s.useEffect)((()=>{A()}),[m]);const A=()=>{const e=n.filter((e=>e.Name.toLowerCase().includes(m.toLowerCase())));x(e)},S=(e,t)=>{const a=new Date(e),s=new Date(t),l=Math.abs(s-a);return Math.ceil(l/864e5)+1},M=e=>1==e?"Pending":2==e?"Approved":3==e?"Rejected":void 0,L=p.filter((e=>"Rejected"===e.Status)).length,T=y*D,F=T-D,I=p.slice(F,T),R=[];for(let s=1;s<=Math.ceil(p.length/D);s++)R.push(s);return Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsx)("div",{className:"d-flex flex-column justify-between m-0 mt-3",children:Object(O.jsxs)("div",{className:"d-flex justify-content-between aline-items-center",children:[Object(O.jsxs)("div",{className:"my-auto",children:[Object(O.jsxs)("h5",{style:{color:v?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"m-0 p-0 ",children:["Leaves Request ( ",L," )"]}),Object(O.jsxs)("p",{style:{color:v?"var(--secondaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"m-0 p-0 ",children:["You can see all rejected leave requests here"," "]})]}),Object(O.jsxs)("div",{className:"d-flex gap-2 justify-content-between py-3",children:[Object(O.jsxs)("button",{className:"btn btn-danger rounded-0 py-0 shadow-sm d-flex justify-center  aline-center gap-2",onClick:()=>{if(window.confirm("Are you sure to download Rejected Leave record?")){const e=297,t=210,a=new sa.default({orientation:"landscape",unit:"mm",format:[e,t]});a.setFontSize(18),a.text("Employee Rejected Leave Details",e/2,15,"center");const s=["Emp Id","Leave Type","Start Date","End Date","Days","CreatedOn","Remarks","Status"],l=p.filter((e=>"Rejected"===e.Status)).map((e=>[e.empID,e.Leavetype,e.FromDate,e.ToDate,e.Days,e.CreatedOn,e.Reasonforleave,e.Status]));a.setFontSize(12),a.autoTable({head:[s],body:l,startY:25}),a.save("rejected_leaveApplication_data.pdf")}},children:[Object(O.jsx)(ct.j,{className:"fs-6"}),Object(O.jsx)("p",{className:"my-auto d-none d-md-flex fs-6",children:"PDF"})]}),Object(O.jsxs)("div",{className:"searchholder p-0 d-flex  position-relative",children:[Object(O.jsx)("input",{style:{height:"100%",width:"100%",paddingLeft:"15%"},className:"form-control border rounded-0",type:"text",placeholder:"Search by name",value:m,onChange:e=>h(e.target.value)}),Object(O.jsx)(N.e,{style:{position:"absolute",top:"30%",left:"5%"}})]})]})]})}),Object(O.jsx)("div",{id:"clear-both"}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{style:{maxHeight:"76vh",overflow:"auto",position:"relative"},className:"table-responsive",children:p.length>0?Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:["            ",Object(O.jsxs)("table",{className:"table",style:{fontSize:".9rem"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{className:"shadow",children:[Object(O.jsx)("th",{style:ut(v),children:"Profile"}),Object(O.jsx)("th",{style:ut(v),children:"Employee Name"}),Object(O.jsx)("th",{style:ut(v),children:"Emp ID"}),Object(O.jsx)("th",{style:ut(v),children:"Leave Type"}),Object(O.jsx)("th",{style:ut(v),children:"Start Date"}),Object(O.jsx)("th",{style:ut(v),children:"End Date"}),Object(O.jsx)("th",{style:ut(v),children:"CreatedOn"}),Object(O.jsx)("th",{style:ut(v),children:"Days"}),Object(O.jsx)("th",{style:ut(v),children:"Status"}),Object(O.jsx)("th",{style:ut(v),children:"Remarks"}),Object(O.jsx)("th",{style:ut(v),children:"Rejected by"}),Object(O.jsx)("th",{style:ut(v),children:"Reject Reasion"})]})}),Object(O.jsx)("tbody",{children:I.filter((e=>"Rejected"==e.Status)).map(((e,t)=>{var a,s;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:pt(v),className:"py-1",children:Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-center",style:{height:"30px",width:"30px",borderRadius:"50%",backgroundColor:"#ccc",color:"white",fontWeight:"bold",overflow:"hidden",objectFit:"cover"},children:[null===e||void 0===e||null===(a=e.FirstName)||void 0===a?void 0:a[0],null===e||void 0===e||null===(s=e.LastName)||void 0===s?void 0:s[0]]})}),Object(O.jsx)("td",{className:"text-capitalize",style:pt(v),children:e.Name}),Object(O.jsx)("td",{style:pt(v),children:e.empID}),Object(O.jsx)("td",{style:pt(v),children:e.Leavetype}),Object(O.jsx)("td",{style:pt(v),children:e.FromDate}),Object(O.jsx)("td",{style:pt(v),children:e.ToDate}),Object(O.jsx)("td",{style:pt(v),children:Object(O.jsx)("span",{children:e.timestamps})}),Object(O.jsx)("td",{style:pt(v),children:Object(O.jsx)("span",{children:e.Days})}),Object(O.jsx)("td",{style:pt(v),children:Object(O.jsx)("span",{className:" text-danger border border-danger px-2 py-0 rounded-5",children:e.Status})}),Object(O.jsx)("td",{style:pt(v),children:e.Reasonforleave}),Object(O.jsx)("td",{style:pt(v),children:e.updatedBy}),Object(O.jsx)("td",{style:pt(v),children:e.reasonOfRejection})]},t)}))})]})]}),Object(O.jsx)(vt,{currentPage:y,pageNumbers:R,handlePaginationPrev:()=>{f((e=>e-1))},handlePaginationNext:()=>{f((e=>e+1))},setCurrentPage:f,filteredDataLength:p.length,itemsPerPage:D})]}):Object(O.jsxs)("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"2rem"},children:[Object(O.jsx)("img",{style:{height:"auto",width:"25%"},src:v?Qa:Xa,alt:"img"}),Object(O.jsx)("p",{style:{color:v?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)"},children:"No Leave requests found."})]})})})]})};var cc=e=>{const[t,a]=Object(s.useState)(!0),{socket:c}=Object(s.useContext)(b),[r,n]=Object(s.useState)(!1),[o,i]=Object(s.useState)({}),[j,m]=Object(s.useState)(null),{userData:h}=Object(P.c)((e=>e.user)),u=null===h||void 0===h?void 0:h._id,p=null===h||void 0===h?void 0:h.Email,x=`${null===h||void 0===h?void 0:h.FirstName} ${null===h||void 0===h?void 0:h.LastName}`;Object(s.useEffect)((()=>{d.a.get(`${E}/api/particularEmployee/${u}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{m(e.data)})).catch((e=>{}))}),[]);return Object(O.jsx)(l.a.Fragment,{children:t?r?Object(O.jsx)(Rl,{onLeaveApplicationHREditUpdate:(e,t)=>{t.preventDefault();let s={Status:t.target[3].value,updatedBy:`${j.FirstName} ${j.LastName}`};const l=Object(as.a)();let r="";if("2"===s.Status)r="Approved",d.a.put(`${E}/api/leave-application-hr/`+e._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((t=>{if(a(!1),a(!0),j.profile){const t={taskId:l,employeeEmail:e.Email,hrEmail:e.reportHr,reportManager:p===e.aditionalManager?e.reportManager:e.aditionalManager,message:`Leave ${r}`,messageBy:x,profile:j.profile.image_url,status:"unseen",path:1===j.Account?"createLeave":"leaveApplication"};c.emit("leaveManagerStatusNotification",t)}else{const t={taskId:l,employeeEmail:e.Email,hrEmail:e.reportHr,reportManager:p===e.aditionalManager?e.reportManager:e.aditionalManager,message:`Leave ${r}`,messageBy:x,profile:null,status:"unseen",path:1===j.Account?"createLeave":"leaveApplication"};c.emit("leaveManagerStatusNotification",t)}})).catch((e=>{}));else if("3"===s.Status){r="Rejected";let t=prompt("Please provide reason of rejection");s.reasonOfRejection=t,d.a.put(`${E}/api/leave-application-hr/`+e._id,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((t=>{a(!1),a(!0);let s=function(e,t){const a=new Date(e),s=(new Date(t).getTime()-a.getTime())/864e5;return Math.abs(s)}(e.FromDate,e.ToDate)+1;if(((e,t,a,s)=>{d.a.post(`${E}/api/rejectedLeave`,{id:e,email:t,leaveType:a,totalLeaveRequired:s},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{})).catch((e=>{}))})(e.empObjID,e.Email,e.Leavetype,s),j.profile){const t={taskId:l,employeeEmail:e.Email,hrEmail:e.reportHr,reportManager:p===e.aditionalManager?e.reportManager:e.aditionalManager,message:`Leave ${r}`,messageBy:x,profile:j.profile.image_url,status:"unseen",path:1===j.Account?"createLeave":"leaveApplication"};c.emit("leaveManagerStatusNotification",t)}else{const t={taskId:l,employeeEmail:e.Email,hrEmail:e.reportHr,reportManager:p===e.aditionalManager?e.reportManager:e.aditionalManager,message:`Leave ${r}`,messageBy:x,profile:null,status:"unseen",path:1===j.Account?"createLeave":"leaveApplication"};c.emit("leaveManagerStatusNotification",t)}})).catch((e=>{}))}n(!1)},onFormEditClose:()=>{n(!1)},editData:o}):Object(O.jsx)(lc,{onAddLeaveApplicationHR:()=>{a(!1)},onEditLeaveApplicationHR:e=>{n(!0),i(e)},data:e.data}):Object(O.jsx)("div",{})})};var rc=()=>{const[e,t]=Object(s.useState)([]),[a,l]=Object(s.useState)(null),[c,r]=Object(s.useState)(!0),{darkMode:o}=g(),{userData:i}=Object(P.c)((e=>e.user)),j=null===i||void 0===i?void 0:i.Email;if(Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get(`${E}/api/tasks`);t(e.data)}catch(a){console.error("Error fetching tasks:",a.message),l("Error fetching tasks. Please try again later.")}finally{r(!1)}})()}),[]),c)return Object(O.jsx)("div",{children:"Loading..."});if(a)return Object(O.jsx)("div",{children:a});const m=e=>new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}),h=e=>{const t=e.employees.length-e.employees.filter((e=>"Rejected"===e.emptaskStatus)).length,a=e.employees.filter((e=>"Completed"===e.emptaskStatus)).length;return t>0?a/t*100:0},b=e=>{switch(e){case"Assigned":return Object(O.jsx)("span",{className:"p-1 px-2 d-flex align-items-center gap-1  rounded-2",style:{background:o?"#e1ea2f4b":"#131414f1",color:o?"#131414f1":"#f3ff14c4",fontSize:".8rem"},children:"Assigned"});case"Completed":return Object(O.jsx)("span",{className:"p-1 px-2 d-flex align-items-center gap-1  rounded-2",style:{background:o?"#3ee7284a":"#131414f1",color:o?"#131414f1":"#1cdf4dc4",fontSize:".8rem"},children:"Completed"});case"Cancelled":return Object(O.jsx)("span",{className:"p-1 px-2 d-flex align-items-center gap-1  rounded-2",style:{background:o?"#e1ea2f4b":"#131414f1",color:o?"#131414f1":"#f3ff14c4",fontSize:".8rem"},children:"Cancelled"});case"Rejected":return Object(O.jsx)("span",{className:"p-1 px-2 d-flex align-items-center gap-1  rounded-2",style:{background:o?"#e1ea2f4b":"#131414f1",color:o?"#131414f1":"#f3ff14c4",fontSize:".8rem"},children:"Rejected"});default:return Object(O.jsx)("span",{className:"p-1 px-2 d-flex align-items-center gap-1  rounded-2",style:{background:o?"#e1ea2f4b":"#131414f1",color:o?"#131414f1":"#f3ff14c4",fontSize:".8rem"},children:"Pending"})}};return Object(O.jsxs)("div",{style:{height:"17rem",overflow:"hidden",background:o?"#F5F5F6":"#161515f6"},className:"p-2 px-3 shadow-sm rounded-2 d-flex flex-column gap-2",onWheel:e=>{const t=e.currentTarget;0!==e.deltaY&&(t.scrollLeft+=e.deltaY,e.preventDefault())},children:[Object(O.jsxs)("div",{style:{height:"3vh"},className:"d-flex align-items-center justify-content-between",children:[Object(O.jsxs)("h5",{style:{color:o?"black":"white"},className:"my-1 fw-normal  d-flex align-items-center gap-2",children:[Object(O.jsx)(x.p,{})," Team Task"]}),Object(O.jsx)(n.a,{to:"/employee/activeTask",className:"d-flex text-decoration-none text-black align-items-center justify-content-center bg-white px-2 rounded-5",children:"See All"})]}),Object(O.jsx)("div",{children:e.slice(-10).filter((e=>e.managerEmail===j)).length>0?Object(O.jsx)("div",{className:"d-flex w-100 align-items-center gap-3 py-2",style:{overflowX:"auto",overflowY:"hidden",whiteSpace:"nowrap",height:"calc(100% - 3vh)"},children:e.filter((e=>e.managerEmail===j)).reverse().map(((e,t)=>{return Object(O.jsxs)("div",{style:{height:"100%",minHeight:"13rem",width:"45%",minWidth:"25rem",overflow:"hidden",background:o?"#ffffffbc":"#252424c3",border:o?"1px solid #2524245a":"1px solid #f2f2f26c"},className:"shadow-sm rounded-3 d-flex flex-column justify-content-between p-2 ",children:[Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("h6",{style:{color:o?"black":"white"},className:"m-0",children:e.Taskname}),b(e.status)]}),Object(O.jsxs)("div",{style:{fontSize:".8rem"},className:"d-flex align-items-center gap-3",children:[Object(O.jsx)("div",{className:"my-1",children:Object(O.jsxs)("span",{style:{width:"fit-content",background:o?"#a2f6804a":"#a6f4963c",color:o?"#20680dc4":"#3ddc11c4"},className:"p-1 px-2 d-flex align-items-center gap-1  rounded-2",children:[Object(O.jsx)(Fe.d,{})," ",m(e.startDate)]})}),Object(O.jsx)(Fe.a,{}),Object(O.jsx)("div",{children:Object(O.jsxs)("span",{style:{width:"fit-content",background:o?"#f6a18049":"#f4a4963b",color:o?"#681f0dc4":"#ff6131ef"},className:"p-1 px-2 d-flex align-items-center gap-1  rounded-2",children:[Object(O.jsx)(Fe.d,{})," ",m(e.endDate)]})})]}),Object(O.jsx)("p",{style:{color:o?"black":"white",whiteSpace:"wrap"},children:(s=e.description,s.length>130?s.toString().slice(0,130)+"...":s)})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex align-items-center  gap-3 justify-content-between p-1",children:[Object(O.jsx)("div",{style:{minHeight:".3rem",height:".3rem",maxHeight:".3rem",width:"100%",background:"#78788054"},className:"rounded-5 ",children:Object(O.jsx)("div",{style:{height:"100%",width:`${h(e)}%`,background:"#007AFF"},className:"rounded-5"})}),Object(O.jsxs)("span",{style:{fontSize:".8rem",color:o?"black":"white"},children:[h(e).toFixed(2),"%"]})]}),Object(O.jsxs)("p",{style:{color:o?"black":"white",fontSize:".8rem"},children:["Last Update : ",(a=e.updatedAt,new Date(a).toLocaleString("en-GB",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}))]})]})]},t);var a,s}))}):Object(O.jsxs)("div",{className:"d-flex w-100 flex-column align-items-center justify-content-center gap-3 py-2",style:{overflowX:"auto",overflowY:"hidden",whiteSpace:"nowrap",height:"14rem"},children:[Object(O.jsx)("img",{style:{height:"120px",width:"120px"},className:"mx-auto",src:dl,alt:"Task Not Found"}),Object(O.jsx)("p",{style:{opacity:"60%",fontSize:"13px",color:o?"black":"white"},className:"text-center w-75 mx-auto",children:"Task Not Found"})]})})]})};var nc=()=>{const{isLogin:e}=Object(s.useContext)(b);Object(s.useEffect)((()=>{}),[e]);const t=[{compName:Object(O.jsx)(Ue,{})},{compName:Object(O.jsx)(nt,{})},{compName:Object(O.jsx)(Ze,{})},{compName:Object(O.jsx)(ot,{})},{compName:Object(O.jsx)(rc,{})},{compName:Object(O.jsx)(il,{})},{compName:Object(O.jsx)(tt,{})},{compName:Object(O.jsx)(Ke,{})}];return Object(O.jsx)("div",{className:"container-fluid py-2 px-3 pb-4",children:Object(O.jsx)("div",{className:"row row-gap-3 align-items-center",children:t.map(((e,t)=>Object(O.jsx)("div",{className:"col-12 col-md-6 col-lg-4 p-2",children:Object(O.jsx)("div",{children:e.compName})},t)))})})},oc=a.p+"static/media/AssignTask.76b79378.svg";var ic=()=>{const[e,t]=Object(s.useState)([]),[a,l]=Object(s.useState)(!0),[c,r]=Object(s.useState)(null),[n,o]=Object(s.useState)(null),[i,j]=Object(s.useState)({accepted:!1,rejected:!1}),[m,h]=Object(s.useState)(new Date),[u,p]=Object(s.useState)(null),[v,y]=Object(s.useState)(!1),[f,N]=Object(s.useState)(null),[,D]=Object(s.useState)(!1),[,k]=Object(s.useState)(!1),{userData:C}=Object(P.c)((e=>e.user)),{darkMode:S}=g(),M=Object(as.a)(),L=`${null===C||void 0===C?void 0:C.FirstName} ${null===C||void 0===C?void 0:C.LastName}`,T=null===C||void 0===C?void 0:C.Email,I=null===C||void 0===C?void 0:C._id,{socket:R}=Object(s.useContext)(b);Object(s.useEffect)((()=>{d.a.get(`${E}/api/particularEmployee/${I}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{o(e.data)})).catch((e=>{console.error(e)}))}),[]),Object(s.useEffect)((()=>{const e=setInterval((()=>{h(new Date)}),1e3);return()=>clearInterval(e)}),[]);const $=e=>{const t=m;let a=new Date(e)-t;if(a<0)return{delay:!0,days:0,hours:0,minutes:0,seconds:0};return{delay:!1,days:Math.floor(a/864e5),hours:Math.floor(a%864e5/36e5),minutes:Math.floor(a%36e5/6e4),seconds:Math.floor(a%6e4/1e3)}},z=async()=>{try{const e=await d.a.get(`${E}/api/tasks`);t(e.data)}catch(c){console.error("Error fetching tasks:",c.message),r("Error fetching tasks. Please try again later.")}finally{l(!1)}};Object(s.useEffect)((()=>{z()}),[]),Object(s.useEffect)((()=>{q()}),[]);const q=async()=>{try{const e=await d.a.get(`${E}/api/getTask`);p(e.data.data)}catch(c){console.error("Error fetching PDF data:",c.message)}},B=e=>{switch(e){case 1:return"Admin";case 2:return"Hr";case 3:return"Employee";case 4:return"Manager"}};return Object(O.jsxs)("div",{className:"p-4",children:[Object(O.jsxs)("div",{style:{color:S?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)"},children:[Object(O.jsxs)("h5",{style:{fontWeight:"600"},className:"p-0 m-0 text-uppercase",children:["New Task (",null===e||void 0===e?void 0:e.filter((e=>{var t;return"Assigned"===e.status&&(null===e||void 0===e||null===(t=e.managerEmail)||void 0===t?void 0:t.Email)===T})).length,")"]}),Object(O.jsx)("p",{className:"p-0 m-0",children:"You can view all new tasks here!"})]}),Object(O.jsx)("div",{className:"row mx-auto",children:(null===e||void 0===e?void 0:e.filter((e=>{var t;return"Assigned"===(null===e||void 0===e?void 0:e.status)&&(null===e||void 0===e||null===(t=e.managerEmail)||void 0===t?void 0:t.Email)===T})).length)>0?null===e||void 0===e?void 0:e.filter((e=>{var t;return"Assigned"===(null===e||void 0===e?void 0:e.status)&&(null===e||void 0===e||null===(t=e.managerEmail)||void 0===t?void 0:t.Email)===T})).reverse().map((e=>Object(O.jsx)("div",{style:{color:S?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"col-12 col-md-6 col-lg-4 p-2",children:Object(O.jsxs)("div",{style:{border:S?"1px solid var(--secondaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"task-hover-effect p-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("h5",{children:e.Taskname}),Object(O.jsx)("button",{className:"btn btn-primary",children:e.status})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:e.adminMail.profile?e.adminMail.profile.image_url:w,alt:""})," ",Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:e.adminMail.Email}),Object(O.jsx)("span",{children:B(e.adminMail.Account)})]})]}),Object(O.jsx)("span",{style:{border:S?"1px solid var(--primaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"px-2 py-1 text-center",children:e.department})]}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"d-flex align-items-center justify-content-between gap-2",children:Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:e.managerEmail.profile?e.managerEmail.profile.image_url:w,alt:""})," ",Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:e.managerEmail.Email}),Object(O.jsx)("span",{children:B(e.managerEmail.Account)})]})]})}),Object(O.jsxs)("div",{className:"my-3 d-flex flex-column gap-1",children:[Object(O.jsx)("h6",{children:"Task Description"}),Object(O.jsx)("span",{children:e.description})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between gap-3 my-2",children:[Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"Task Duration"}),Object(O.jsxs)("span",{style:{width:"fit-content"},children:[e.duration," days"]})]})," ",Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"Start Date"})," ",Object(O.jsx)("span",{style:{width:"fit-content"},children:Ye(e.startDate)})]}),Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"End Date"})," ",Object(O.jsx)("span",{style:{width:"fit-content"},children:Ye(e.endDate)})]})]}),Object(O.jsx)("div",{className:"mt-4",children:Object(O.jsx)("span",{style:{cursor:"pointer"},onMouseEnter:()=>y("name"),onMouseLeave:()=>y(!1),onClick:()=>(e=>{N((t=>t===e?null:e))})(e._id),children:f===e._id?Object(O.jsxs)("span",{children:["View Less ",Object(O.jsx)(x.b,{className:"fs-4"})]}):Object(O.jsxs)("span",{children:[" ","View Details ",Object(O.jsx)(x.a,{className:"fs-4"})]})})}),f===e._id&&Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex flex-column my-2",children:[Object(O.jsx)("h6",{children:"Remarks"}),Object(O.jsx)("span",{children:e.comment})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("span",{className:"d-flex flex-column gap-1",children:[Object(O.jsx)("h6",{children:"Time Left"}),Object(O.jsx)("span",{children:Object(O.jsx)("div",{style:{display:f===e._id?"flex":"none"},children:Object(O.jsx)("div",{className:"d-flex gap-2 justify-content-between",children:$(e.endDate).delay?Object(O.jsx)("div",{className:"",children:Object(O.jsx)("span",{className:" rounded-5 border border-danger  my-auto  p-1 px-2",children:"Please finish the task as soon as you can, as it's running late."})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:$(e.endDate).days}),Object(O.jsx)("div",{children:"Day"})]}),Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:$(e.endDate).hours}),Object(O.jsx)("div",{children:"Hrs"})]}),Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:$(e.endDate).minutes}),Object(O.jsx)("div",{children:"Min"})]}),Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:$(e.endDate).seconds}),Object(O.jsx)("div",{children:"Sec"})]})]})})})})]}),Object(O.jsxs)("div",{className:"d-flex flex-column gap-2 my-2",children:["Action",Object(O.jsxs)("div",{className:"d-flex gap-3",children:[Object(O.jsxs)("button",{onClick:()=>(async(e,t,a)=>{try{D(!0);const s=prompt("Enter remarks for Accept Task:");if(null===s)return void D(!1);if(await d.a.put(`${E}/api/tasks/${e}`,{status:"Pending",comment:s}),A.toast.success("Task Accepteed successfully!"),n.profile){const e={taskId:M,taskName:t,senderMail:T,adminMail:a,Account:1,message:"Task Accepted",messageBy:L,profile:n.profile.image_url,status:"unseen",path:"taskassign"};R.emit("adminTaskNotification",e)}else{const e={taskId:M,taskName:t,senderMail:T,adminMail:a,Account:1,message:"Task Accepted",messageBy:null,status:"unseen",path:"taskassign"};R.emit("adminTaskNotification",e)}z()}catch(c){console.error("Error canceling task:",c.message),A.toast.error("Failed to cancel task. Please try again.")}finally{D(!1)}})(e._id,e.Taskname,e.adminMail.Email),className:"btn btn-primary py-1",children:[Object(O.jsx)(Te.h,{})," Accept"]}),Object(O.jsxs)("button",{onClick:()=>(e=>{const t=null===u||void 0===u?void 0:u.find((t=>t._id===e));t&&window.open(`${E}/${t.pdf}`,"_blank","noreferrer")})(e._id),className:"btn btn-secondary py-1",children:[Object(O.jsx)(F.a,{})," Attachment"]}),Object(O.jsxs)("button",{onClick:()=>(async(e,t,a)=>{try{k(!0);const s=prompt("Enter remarks for Reject Task:");if(null===s)return void k(!1);if(await d.a.put(`${E}/api/tasks/${e}`,{status:"Rejected",comment:s}),A.toast.success("Task Rejected"),n.profile){const s={taskId:e,taskName:t,senderMail:T,adminMail:a,Account:1,message:"Task Rejected",messageBy:L,profile:n.profile.image_url,status:"unseen",path:"taskreject"};R.emit("adminTaskNotification",s)}else{const s={taskId:e,taskName:t,senderMail:T,adminMail:a,Account:1,message:"Task Rejected",messageBy:null,status:"unseen",path:"taskreject"};R.emit("adminTaskNotification",s)}z()}catch(c){console.error("Error Rejecting task:",c.message),A.toast.error("Failed to Reject task. Please try again.")}finally{k(!1)}})(e._id,e.Taskname,e.adminMail.Email),className:"btn btn-danger py-1",children:[Object(O.jsx)(x.q,{})," Reject"]})]})]})]})]})]})},e._id))):Object(O.jsxs)("div",{className:"d-flex flex-column gap-3  align-items-center justify-content-center",style:{height:"80vh"},children:[Object(O.jsx)("img",{style:{width:"30%",height:"auto"},src:oc,alt:"Assign Task"}),Object(O.jsx)("p",{style:{color:S?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)"},children:"Sorry, there are no tasks assigned yet."})]})})]})},dc=a.p+"static/media/RejectedTask.f5e50968.svg";var jc=()=>{const[e,t]=Object(s.useState)([]),{userData:a}=Object(P.c)((e=>e.user)),[l,c]=Object(s.useState)(!0),[r,n]=Object(s.useState)(null),{darkMode:o}=g(),[i,j]=Object(s.useState)(!1),[m,h]=Object(s.useState)(null),b=null===a||void 0===a?void 0:a.Email;Object(s.useEffect)((()=>{(async()=>{await(async()=>{try{const e=await d.a.get(`${E}/api/tasks`,{params:{status:"Cancelled"}});t(e.data)}catch(r){console.error("Error fetching cancelled tasks:",r.message),n("Error fetching cancelled tasks. Please try again later.")}finally{c(!1)}})()})()}),[]);const u=e=>{switch(e){case 1:return"Admin";case 2:return"Hr";case 3:return"Employee";case 4:return"Manager"}};return Object(O.jsxs)("div",{className:"container-fluid py-3",children:[Object(O.jsx)(ma,{title:"Cancelled Task",numbers:e.filter((e=>"Cancelled"===e.status&&e.managerEmail.Email===b)).length,message:"You can view all Cancelled tasks here."}),l&&Object(O.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(O.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(O.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),Object(O.jsx)("div",{className:"row mx-auto",children:e.filter((e=>"Cancelled"===e.status&&e.managerEmail.Email===b)).length>0?e.filter((e=>"Cancelled"===e.status&&e.managerEmail.Email===b)).map(((e,t)=>Object(O.jsx)("div",{style:{color:o?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"col-12 col-md-6 col-lg-4 p-2",children:Object(O.jsxs)("div",{style:{border:o?"1px solid var(--secondaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"task-hover-effect p-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("h6",{children:e.Taskname}),Object(O.jsx)("button",{style:{cursor:"auto"},className:"btn btn-danger",children:e.status})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:e.adminMail.profile?e.adminMail.profile.image_url:w,alt:""})," ",Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:e.adminMail.Email}),Object(O.jsx)("span",{children:u(e.adminMail.Account)})]})]}),Object(O.jsx)("span",{style:{border:o?"1px solid var(--primaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"px-2 py-1 text-center",children:e.department})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"my-3 d-flex flex-column gap-1",children:[Object(O.jsx)("h6",{children:"Task Description"}),Object(O.jsx)("span",{children:e.description})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between gap-3 my-2",children:[Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"Task Duration"}),Object(O.jsxs)("span",{style:{width:"fit-content"},children:[e.duration," days"]})]})," ",Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"Start Date"})," ",Object(O.jsx)("span",{style:{width:"fit-content"},children:Ye(e.startDate)})]}),Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"End Date"})," ",Object(O.jsx)("span",{style:{width:"fit-content"},children:Ye(e.endDate)})]})]}),Object(O.jsx)("div",{className:"mt-4",children:Object(O.jsx)("span",{style:{cursor:"pointer"},onMouseEnter:()=>j("name"),onMouseLeave:()=>j(!1),onClick:()=>{return t=e._id,void h((e=>e===t?null:t));var t},children:m===e._id?Object(O.jsxs)("span",{children:["View Less ",Object(O.jsx)(x.b,{className:"fs-4"})]}):Object(O.jsxs)("span",{children:[" ","View Details ",Object(O.jsx)(x.a,{className:"fs-4"})]})})}),m===e._id&&Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex flex-column my-2",children:[Object(O.jsx)("h6",{children:"Remarks"}),Object(O.jsx)("span",{children:e.comment})]}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"d-flex flex-column gap-2 my-2",children:"Cancelled"===e.status&&Object(O.jsx)("span",{className:"border border-danger px-2 py-1 text-center",children:"This task is cancelled and cannot be re-open for any query contact your admin."})})]})]})]})},e._id))):Object(O.jsxs)("div",{className:"d-flex flex-column gap-3 align-items-center justify-content-center",style:{height:"80vh"},children:[Object(O.jsx)("img",{style:{width:"25%",height:"auto"},src:dc,alt:""}),Object(O.jsx)("p",{style:{color:o?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)"},children:"Sorry, there are no cancelled tasks found."})]})})]})},mc=a.p+"static/media/CompleteTask.72aab6d5.svg";var hc=()=>{const[e,t]=Object(s.useState)([]),{userData:a}=Object(P.c)((e=>e.user)),[l,c]=Object(s.useState)(!0),[r,n]=Object(s.useState)(null),{darkMode:o}=g(),[i,j]=Object(s.useState)(!1),[m,h]=Object(s.useState)(null),b=null===a||void 0===a?void 0:a.Email;Object(s.useEffect)((()=>((async()=>{try{const e=await d.a.get(`${E}/api/tasks`,{params:{status:"Completed"}});t(e.data)}catch(r){console.error("Error fetching completed tasks:",r.message),n("Error fetching completed tasks. Please try again later.")}finally{c(!1)}})(),()=>clearTimeout())),[]);const u=e=>{switch(e){case 1:return"Admin";case 2:return"Hr";case 3:return"Employee";case 4:return"Manager"}};return Object(O.jsxs)("div",{className:"container-fluid py-3",children:[Object(O.jsx)(ma,{title:" Completed Tasks",numbers:e.filter((e=>"Completed"===e.status&&e.managerEmail.Email===b)).length,message:"You can view all Completed task here."}),l&&Object(O.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2 ",children:[Object(O.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(O.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),Object(O.jsx)("div",{className:"row mx-auto",children:e.filter((e=>"Completed"===e.status&&e.managerEmail.Email===b)).length>0?e.filter((e=>"Completed"===e.status&&e.managerEmail.Email===b)).map(((e,t)=>Object(O.jsx)("div",{style:{color:o?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"col-12 col-md-6 col-lg-4 p-2",children:Object(O.jsxs)("div",{style:{border:o?"1px solid var(--secondaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"task-hover-effect p-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("h6",{children:e.Taskname}),Object(O.jsx)("button",{style:{cursor:"auto"},className:"btn btn-success",children:e.status})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:e.adminMail.profile?e.adminMail.profile.image_url:w,alt:""})," ",Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:e.adminMail.Email}),Object(O.jsx)("span",{children:u(e.adminMail.Account)})]})]}),Object(O.jsx)("span",{style:{border:o?"1px solid var(--primaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"px-2 py-1 text-center",children:e.department})]}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"d-flex align-items-center justify-content-between gap-2",children:Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:e.managerEmail.profile?e.managerEmail.profile.image_url:w,alt:""})," ",Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:e.managerEmail.Email}),Object(O.jsx)("span",{children:u(e.managerEmail.Account)})]})]})}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"my-3 d-flex flex-column gap-1",children:[Object(O.jsx)("h6",{children:"Task Description"}),Object(O.jsx)("span",{children:e.description})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between gap-3 my-2",children:[Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"Task Duration"}),Object(O.jsxs)("span",{style:{width:"fit-content"},children:[e.duration," days"]})]})," ",Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"Start Date"})," ",Object(O.jsx)("span",{style:{width:"fit-content"},children:Ye(e.startDate)})]}),Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"End Date"})," ",Object(O.jsx)("span",{style:{width:"fit-content"},children:Ye(e.endDate)})]})]}),Object(O.jsx)("div",{className:"mt-4",children:Object(O.jsx)("span",{style:{cursor:"pointer"},onMouseEnter:()=>j("name"),onMouseLeave:()=>j(!1),onClick:()=>{return t=e._id,void h((e=>e===t?null:t));var t},children:m===e._id?Object(O.jsxs)("span",{children:["View Less ",Object(O.jsx)(x.b,{className:"fs-4"})]}):Object(O.jsxs)("span",{children:[" ","View Details ",Object(O.jsx)(x.a,{className:"fs-4"})]})})}),m===e._id&&Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex flex-column my-2",children:[Object(O.jsx)("h6",{children:"Remarks"}),Object(O.jsx)("span",{children:e.comment})]}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"d-flex flex-column gap-2 my-2",children:"Completed"===e.status&&Object(O.jsx)("span",{className:"border border-success px-2 py-1 text-center",children:"This task is successfully completed and cannot be re-open for any query contact your admin."})})]})]})]})},e._id))):Object(O.jsxs)("div",{className:"d-flex flex-column gap-3 align-items-center justify-content-center",style:{height:"80vh"},children:[Object(O.jsx)("img",{style:{width:"25%",height:"auto"},src:mc,alt:""}),Object(O.jsx)("p",{style:{color:o?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)"},children:"Sorry, there are no completed tasks found."})]})})]})};var bc=()=>{const[e,t]=Object(s.useState)([]),{userData:a}=Object(P.c)((e=>e.user)),[l,c]=Object(s.useState)(!0),[r,n]=Object(s.useState)(null),{darkMode:o}=g(),[i,j]=Object(s.useState)(!1),[m,h]=Object(s.useState)(null),b=null===a||void 0===a?void 0:a.Email;Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get(`${E}/api/tasks`,{params:{status:"Completed"}});t(e.data)}catch(r){console.error("Error fetching completed tasks:",r.message),n("Error fetching completed tasks. Please try again later.")}finally{c(!1)}})()}),[]);const u=e=>{switch(e){case 1:return"Admin";case 2:return"Hr";case 3:return"Employee";case 4:return"Manager"}};return Object(O.jsxs)("div",{className:"container-fluid py-3",children:[Object(O.jsx)(ma,{title:"Rejected Tasks",numbers:e.filter((e=>"Rejected"===e.status&&e.managerEmail.Email===b)).length,message:"You can view all rejected task here."}),l&&Object(O.jsxs)("div",{style:{width:"100%",height:"100%"},className:"d-flex aline-center gap-2",children:[Object(O.jsx)("div",{className:"spinner-grow bg-primary",style:{width:"1rem",height:"1rem"},role:"status"}),Object(O.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),Object(O.jsx)("div",{className:"row mx-auto",children:e.filter((e=>"Rejected"===e.status&&e.managerEmail.Email===b)).length>0?e.filter((e=>"Rejected"===e.status&&e.managerEmail.Email===b)).map(((e,t)=>Object(O.jsx)("div",{style:{color:o?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"col-12 col-md-6 col-lg-4 p-2",children:Object(O.jsxs)("div",{style:{border:o?"1px solid var(--secondaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"task-hover-effect p-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("h6",{children:e.Taskname}),Object(O.jsx)("button",{style:{cursor:"auto"},className:"btn btn-danger",children:e.status})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:e.adminMail.profile?e.adminMail.profile.image_url:w,alt:""})," ",Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:e.adminMail.Email}),Object(O.jsx)("span",{children:u(e.adminMail.Account)})]})]}),Object(O.jsx)("span",{style:{border:o?"1px solid var(--primaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"px-2 py-1 text-center",children:e.department})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"my-3 d-flex flex-column gap-1",children:[Object(O.jsx)("h6",{children:"Task Description"}),Object(O.jsx)("span",{children:e.description})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between gap-3 my-2",children:[Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"Task Duration"}),Object(O.jsxs)("span",{style:{width:"fit-content"},children:[e.duration," days"]})]})," ",Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"Start Date"})," ",Object(O.jsx)("span",{style:{width:"fit-content"},children:Ye(e.startDate)})]}),Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsx)("h6",{children:"End Date"})," ",Object(O.jsx)("span",{style:{width:"fit-content"},children:Ye(e.endDate)})]})]}),Object(O.jsx)("div",{className:"mt-4",children:Object(O.jsx)("span",{style:{cursor:"pointer"},onMouseEnter:()=>j("name"),onMouseLeave:()=>j(!1),onClick:()=>{return t=e._id,void h((e=>e===t?null:t));var t},children:m===e._id?Object(O.jsxs)("span",{children:["View Less ",Object(O.jsx)(x.b,{className:"fs-4"})]}):Object(O.jsxs)("span",{children:[" ","View Details ",Object(O.jsx)(x.a,{className:"fs-4"})]})})}),m===e._id&&Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"d-flex flex-column my-2",children:[Object(O.jsx)("h6",{children:"Remarks"}),Object(O.jsx)("span",{children:e.comment})]}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"d-flex flex-column gap-2 my-2",children:"Rejected"===e.status&&Object(O.jsxs)("span",{className:"border border-danger px-2 py-1 text-center",children:["The task has been rejected by"," ",Object(O.jsxs)("span",{className:"text-danger",children:[" ",e.managerEmail.Email]}),". Please communicate any discrepancies you encounter."]})})]})]})]})},e._id))):Object(O.jsxs)("div",{className:"d-flex flex-column gap-3 align-items-center justify-content-center",style:{height:"80vh"},children:[Object(O.jsx)("img",{style:{width:"25%",height:"auto"},src:dc,alt:""}),Object(O.jsx)("p",{style:{color:o?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)"},children:"Sorry, there are no completed tasks found."})]})})]})};a(636);var uc=()=>{const{userData:e}=Object(P.c)((e=>e.user)),t=Object(o.p)(),[a,c]=l.a.useState(!1),r=`${null===e||void 0===e?void 0:e.FirstName} ${null===e||void 0===e?void 0:e.LastName}`,[n,i]=Object(s.useState)([]),[j,m]=Object(s.useState)(!0),[h,u]=Object(s.useState)(null),[,p]=Object(s.useState)(!1),[v,y]=Object(s.useState)([]),[f,N]=Object(s.useState)([]),[D,k]=Object(s.useState)(""),[C,S]=Object(s.useState)([]),[M,L]=Object(s.useState)(null),[T,F]=Object(s.useState)(!1),[I,R]=Object(s.useState)(!0),z=null===e||void 0===e?void 0:e.Email,[q,B]=Object(s.useState)([]),[_,H]=Object(s.useState)([]),[U,W]=Object(s.useState)(""),[G,Y]=Object(s.useState)(""),[V,J]=Object(s.useState)(null),[Z,X]=Object(s.useState)(null),{darkMode:Q}=g(),[K,ee]=Object(s.useState)(!1),[te,ae]=Object(s.useState)(new Date),[se,le]=Object(s.useState)(!1),[ce,re]=Object(s.useState)(!1),[ne,oe]=Object(s.useState)(null),{socket:ie,setMessageData:de,setProfile:je}=Object(s.useContext)(b);Object(s.useEffect)((()=>{d.a.get(`${E}/api/employee`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{const t=e.data,a=e.data.filter((e=>e.Email===z));X(a),B(t),m(!1);const s=t.map((e=>({data:e,Email:e.Email,department:e.department[0].DepartmentName,FirstName:e.FirstName+""+e.LastName,ContactNo:e.ContactNo,PositionName:e.position[0]?e.position[0].PositionName:""})));H(s)})).catch((e=>{}))}),[]);const me=e=>{const t=te;let a=new Date(e)-t;if(a<0)return{delay:!0,days:0,hours:0,minutes:0,seconds:0};return{delay:!1,days:Math.floor(a/864e5),hours:Math.floor(a%864e5/36e5),minutes:Math.floor(a%36e5/6e4),seconds:Math.floor(a%6e4/1e3)}},he=async()=>{try{const e=await d.a.get(`${E}/api/tasks`);console.log(e.data),i(e.data),u(null)}catch(h){console.error("Error fetching tasks:",h.message),u("Error fetching tasks. Please try again later.")}finally{m(!1)}};Object(s.useEffect)((()=>{he()}),[]);const be=e=>{const t=e.employees.length-e.employees.filter((e=>"Rejected"===e.empTaskStatus)).length,a=e.employees.filter((e=>"Completed"===e.empTaskStatus)).length;return console.log(t,a),a/t*100};Object(s.useEffect)((()=>{ue()}),[]);const ue=async()=>{const e=await d.a.get(`${E}/api/getTask`);J(e.data.data)},pe={verticalAlign:"middle",whiteSpace:"pre",background:Q?"var(--primaryDashMenuColor)":"var(--primaryDashColorDark)",color:Q?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)",border:"none",position:"sticky",top:"0rem",zIndex:"100",padding:".5rem"},xe=e=>{switch(e){case 1:return"Admin";case 2:return"Hr";case 3:return"Employee";case 4:return"Manager"}};return Object(O.jsxs)("div",{style:{color:Q?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"p-4",children:[Object(O.jsxs)("div",{style:{color:Q?"var(--primaryDashColorDark)":"var(--primaryDashMenuColor)"},children:[Object(O.jsxs)("h5",{style:{fontWeight:"600"},className:"p-0 m-0 text-uppercase",children:["Active Task (",n.filter((e=>"Pending"===e.status&&e.managerEmail.Email===z)).length,")"]}),Object(O.jsx)("p",{className:"p-0 m-0",children:"You can view all active tasks here!"})]}),Object(O.jsx)("div",{className:"row mx-auto",children:n.filter((e=>"Pending"===e.status&&e.managerEmail.Email===z)).length>0?n.filter((e=>"Pending"===e.status&&e.managerEmail.Email===z)).map(((e,a)=>Object(O.jsx)("div",{style:{color:Q?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"col-12 col-md-6 col-lg-4  p-2 ",children:Object(O.jsxs)("div",{style:{border:Q?"1px solid var(--secondaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:" task-hover-effect p-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(O.jsx)("h5",{className:"text-capitalize",children:e.Taskname}),Object(O.jsx)("button",{className:"btn btn-info text-capitalize",children:e.status})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2",children:[Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:e.adminMail.profile?e.adminMail.profile.image_url:w,alt:""})," ",Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:e.adminMail.Email}),Object(O.jsx)("span",{children:xe(e.adminMail.Account)})]})]}),Object(O.jsx)("span",{style:{border:Q?"1px solid var(--primaryDashColorDark)":"1px solid var(--primaryDashMenuColor)"},className:"px-2 py-1 text-center",children:e.department})]}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"d-flex align-items-center justify-content-between gap-2",children:Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%",objectFit:"cover"},src:e.managerEmail.profile?e.managerEmail.profile.image_url:w,alt:""})," ",Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsx)("span",{children:e.managerEmail.Email}),Object(O.jsx)("span",{children:xe(e.managerEmail.Account)})]})]})}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"my-3 d-flex flex-column gap-1",children:["Task Description",Object(O.jsx)("span",{className:"text-capitalize",children:e.description})]}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"d-flex align-items-start justify-content-between",children:[Object(O.jsxs)("span",{className:"d-flex flex-column",children:[Object(O.jsxs)("span",{className:"d-flex align-items-center gap-2",children:["Task Duration"," ",Object(O.jsxs)("span",{style:{position:"relative"},children:[" ",Object(O.jsx)($e.b,{})," "]})]})," ",Object(O.jsxs)("span",{style:{width:"fit-content"},children:[e.duration," days"]})]}),Object(O.jsxs)("span",{className:"d-flex flex-column",children:["Start Date"," ",Object(O.jsx)("span",{style:{width:"fit-content"},children:Ye(e.startDate)})]}),Object(O.jsxs)("span",{className:"d-flex flex-column",children:[" ","End Date"," ",Object(O.jsx)("span",{style:{width:"fit-content"},children:Ye(e.endDate)})]})]})}),Object(O.jsxs)("div",{style:{maxWidth:"100%"},children:[Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-between my-3",children:[Object(O.jsx)(el,{images:e.employees}),Object(O.jsx)("div",{className:"d-flex",style:{width:"4rem",height:"4rem",borderRadius:"50%"},children:Object(O.jsx)(Gl.a,{className:"fw-bold",value:be(e),text:`${be(e).toFixed(0)}%`,styles:Object(Gl.b)({pathColor:"#28a745",textColor:"#28a745"})})})]}),Object(O.jsx)("span",{style:{cursor:"pointer"},onMouseEnter:()=>re("name"),onMouseLeave:()=>re(!1),onClick:()=>{return t=e._id,void oe((e=>e===t?null:t));var t},children:ne===e._id?Object(O.jsxs)("span",{children:["View Less ",Object(O.jsx)(x.b,{className:"fs-4"})]}):Object(O.jsxs)("span",{children:[" ","View Details ",Object(O.jsx)(x.a,{className:"fs-4"})]})})]}),ne===e._id&&Object(O.jsxs)(O.Fragment,{children:[" ",Object(O.jsx)("div",{style:{maxWidth:"100%",overflow:"auto"},children:Object(O.jsxs)("table",{striped:!0,bordered:!0,hover:!0,children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:pe,children:"S. No "}),Object(O.jsx)("th",{style:pe,children:" Name"}),Object(O.jsx)("th",{style:pe,children:" Email"}),Object(O.jsx)("th",{style:pe,children:" Designation"}),Object(O.jsx)("th",{style:pe,children:" Task Status"}),Object(O.jsx)("th",{style:pe,children:" Remarks"})]})}),Object(O.jsx)("tbody",{children:e.employees.map(((e,t)=>Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",backgroundColor:"Completed"===e.empTaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.empTaskStatus?"rgba(214, 92, 44, 0.636)":"inherit",color:Q?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)",border:"none",padding:".5rem"},children:t+1}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",backgroundColor:"Completed"===e.empTaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.empTaskStatus?"rgba(214, 92, 44, 0.636)":"inherit",color:Q?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)",border:"none",padding:".5rem"},children:`${e.employee.FirstName} ${e.employee.LastName}`}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",backgroundColor:"Completed"===e.empTaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.empTaskStatus?"rgba(214, 92, 44, 0.636)":"inherit",color:Q?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)",border:"none",padding:".5rem"},children:e.employee.Email}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",backgroundColor:"Completed"===e.empTaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.empTaskStatus?"rgba(214, 92, 44, 0.636)":"inherit",color:Q?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)",border:"none",padding:".5rem"},children:e.employee.position[0].PositionName}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",backgroundColor:"Completed"===e.empTaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.empTaskStatus?"rgba(214, 92, 44, 0.636)":"inherit",color:Q?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)",border:"none",padding:".5rem"},children:e.empTaskStatus}),Object(O.jsx)("td",{style:{verticalAlign:"middle",whiteSpace:"pre",backgroundColor:"Completed"===e.empTaskStatus?"rgba(25, 201, 84, 0.436)":"Rejected"===e.empTaskStatus?"rgba(214, 92, 44, 0.636)":"inherit",color:Q?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)",border:"none",padding:".5rem"},children:e.empTaskComment})]},t)))})]})}),Object(O.jsxs)("div",{className:"d-flex flex-column my-2",children:["Remarks",Object(O.jsx)("span",{children:e.comment})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("span",{className:"d-flex flex-column gap-1",children:[Object(O.jsx)("h6",{children:"Time Left"}),Object(O.jsx)("span",{children:Object(O.jsx)("div",{style:{display:ne===e._id?"flex":"none"},children:Object(O.jsx)("div",{className:"d-flex gap-2 justify-content-between",children:me(e.endDate).delay?Object(O.jsx)("div",{className:"",children:Object(O.jsx)("span",{className:" rounded-5 border border-danger  my-auto  p-1 px-2",children:"Please finish the task as soon as you can, as it's running late."})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:me(e.endDate).days}),Object(O.jsx)("div",{children:"Day"})]}),Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:me(e.endDate).hours}),Object(O.jsx)("div",{children:"Hrs"})]}),Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:me(e.endDate).minutes}),Object(O.jsx)("div",{children:"Min"})]}),Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"d-flex px-1 bg-white text-black align-items-center justify-content-center",style:{boxShadow:"0 0 5px 2px gray inset",height:"30px",minWidth:"30px"},children:me(e.endDate).seconds}),Object(O.jsx)("div",{children:"Sec"})]})]})})})})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{style:{height:"fit-content"},className:"d-flex rounded mx-1 justify-content-between",children:[" ",Object(O.jsx)(bt,{icon:Object(O.jsx)(Te.e,{className:"fs-4 text-success"}),onClick:()=>(async(e,t,a,s)=>{const l=s.employees.map((e=>e.empemail));let r=_.filter((e=>!l.includes(e.Email)&&e.Email!==z&&(e.data.reportHr===z||e.data.reportManager===z)&&3===e.data.Account&&"active"===e.data.status));Y(a),H(r),W(t),L(e),c(!0)})(e._id,e.department,e.Taskname,e),tooltip:"Forward Task"}),Object(O.jsx)(bt,{icon:Object(O.jsx)(Ee.a,{className:"fs-4 text-danger"}),onClick:()=>(e=>{let t=V&&V.filter((t=>t._id===e));window.open(`${E}/${t[0].pdf}`,"_blank","noreferrer")})(e._id),tooltip:"Attachment"}),Object(O.jsx)(bt,{icon:Object(O.jsx)($.e,{className:"fs-4 text-primary "}),onClick:()=>{return a=e._id,s=e.adminMail,je(Z[0].profile),de({taskId:a,to:[s],name:r}),void t.push("/manager/admin_manager");var a,s},tooltip:"Ask Admin"}),e.employees.length>0&&e.employees.filter((e=>"Task Assigned"!==e.empTaskStatus)).length>0?Object(O.jsx)(bt,{icon:Object(O.jsx)($.f,{className:"fs-4 text-primary "}),onClick:()=>(e=>{const a=e._id,s=e.employees.filter((e=>"Task Assigned"!==e.empTaskStatus)).map((e=>e.empemail));s.length>0&&(je(Z[0].profile),de({taskId:a,to:s,name:r}),t.push("/manager/emp_manager"))})(e),tooltip:"Ask Team"}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)(bt,{icon:Object(O.jsx)($.g,{className:"fs-4 text-success"}),onClick:()=>(async(e,t,a)=>{try{p(!0);const s=prompt("Enter remarks to Complete Task:");if(null===s)return void p(!1);if(await d.a.put(`${E}/api/tasks/${e}`,{status:"Completed",comment:s}),A.toast.success("Task completed successfully!"),Z[0].profile){const s={taskId:e,status:"unseen",path:"taskstatus",senderMail:z,taskName:a,message:"Task Completed",messageBy:r,profile:Z[0].profile.image_url,adminMail:t,Account:1,taskStatus:"completed"};ie.emit("adminTaskNotification",s)}else{const s={taskId:e,status:"unseen",path:"taskstatus",senderMail:z,taskName:a,message:"Task Completed",messageBy:r,profile:null,adminMail:t,Account:1,taskStatus:"completed"};ie.emit("adminTaskNotification",s)}he()}catch(h){console.error("Error completing task:",h.message),A.toast.error("Failed to complete task. Please try again.")}finally{p(!1)}})(e._id,e.adminMail.Email,e.Taskname),tooltip:"Complete Task"})]})]})]})},e.id))):Object(O.jsxs)("div",{className:"d-flex flex-column gap-3 align-items-center justify-content-center",style:{height:"80vh"},children:[Object(O.jsx)("img",{style:{width:"30%",height:"auto"},src:dl,alt:""}),Object(O.jsx)("p",{children:"Sorry, there are no tasks assigned yet."})]})}),j&&Object(O.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[Object(O.jsx)("div",{className:"spinner-grow text-primary",role:"status"}),Object(O.jsx)("span",{className:"text-primary fw-bold",children:"Loading..."})]}),h&&Object(O.jsx)("p",{className:"text-danger",children:h}),Object(O.jsxs)(Bs.a,{fullscreen:!0,show:a,onHide:()=>c(!1),children:[Object(O.jsx)(Bs.a.Header,{closeButton:!0,children:Object(O.jsx)(Bs.a.Title,{children:"Forward Task to Employees"})}),Object(O.jsx)(Bs.a.Body,{children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("form",{className:"d-flex col-8 flex-column gap-3",children:[Object(O.jsx)("input",{className:"w-100 py-1 px-2 rounded-5 border",type:"search",name:"",placeholder:"Search...",id:"",value:D,onChange:e=>{(e=>{k(e.target.value)})(e),(e=>{const t=e.target.value.toLowerCase();if(""===t)y(C);else{const e=C.filter((e=>e.name.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.designation.toLowerCase().includes(t)));y(e)}})(e)}}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:" p-2",children:[" ",Object(O.jsx)("input",{type:"checkbox",name:"",id:"",onChange:()=>{F(!T),N(T?[]:[..._])},checked:T})," ",Object(O.jsx)("span",{children:"Select All"})]}),Object(O.jsxs)("table",{class:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Select"}),Object(O.jsx)("th",{children:"Name"}),Object(O.jsx)("th",{children:"Email"}),Object(O.jsx)("th",{children:"Contact"}),Object(O.jsx)("th",{children:"Designation"})]})}),Object(O.jsx)("tbody",{children:_.map(((e,t)=>Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{scope:"row",children:Object(O.jsx)("input",{type:"checkbox",name:"",id:"",onChange:()=>(e=>{const t=f.some((t=>t.Email===e.Email));N(t?t=>t.filter((t=>t.Email!==e.Email)):[...f,e]),f.length<0?R(!0):R(!1),k("")})(e),checked:f.some((t=>t.Email===e.Email))})}),Object(O.jsx)("td",{children:e.FirstName}),Object(O.jsx)("td",{children:e.Email}),Object(O.jsx)("td",{children:e.ContactNo}),Object(O.jsx)("td",{children:e.PositionName})]},t)))})]})]})]}),Object(O.jsxs)("div",{className:"d-flex flex-column col-4 gap-2 ",children:[Object(O.jsx)("div",{className:"row form-control d-flex pt-3 rounded mx-1 justify-content-between",style:{height:"fit-content"},children:Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:"fw-bold ",children:"Selected Employees:"}),f.map(((e,t)=>Object(O.jsx)("div",{className:"d-flex",children:Object(O.jsxs)("span",{style:{boxShadow:"-3px 3px 5px rgba(204, 201, 201, 0.767)",width:"fit-content"},className:"selected-employee-email d-flex btn gap-2 aline-center  btn-light py-1 px-2 m-1",onClick:()=>(e=>{N(f.filter((t=>t.Email!==e)))})(e.Email),children:[e.FirstName," - ",e.PositionName,Object(O.jsx)("span",{className:"text-danger d-none",children:Object(O.jsx)(x.j,{})})]})},t)))]})}),Object(O.jsx)("button",{className:"btn  btn-primary ",onClick:()=>(async e=>{try{const t=[];for(const s of f)try{t.push(s.Email);const a={empname:s.FirstName,empemail:s.Email,empdesignation:s.PositionName,empTaskStatus:"Task Assigned"};await d.a.post(`${E}/api/tasks/${e}/employees`,{employees:[a]})}catch(h){console.error(`Error forwarding task to ${s.FirstName}:`,h.message)}const a=Object(as.a)();if(Z[0].profile){const e={senderMail:z,employeesEmail:t,taskId:a,status:"unseen",message:"Task Assigned",messageBy:r,profile:Z[0].profile.image_url,taskName:G,Account:2,path:"newTask"};ie.emit("employeeTaskNotification",e)}else{const e={senderMail:z,employeesEmail:t,taskId:a,status:"unseen",message:"Task Assigned",messageBy:r,profile:null,taskName:G,Account:2,path:"newTask"};ie.emit("employeeTaskNotification",e)}he(),N([]),c(!1)}catch(h){console.error("Error forwarding task:",h.message),A.toast.error("Failed to forward task. Please try again.")}})(M),disabled:I,children:"Forward Task to Employees"}),Object(O.jsx)("button",{className:"btn btn-secondary",onClick:()=>c(!1),children:"Cancel"})]})]})})]})]})};var pc=()=>{const[e,t]=Object(s.useState)(null),[a,l]=Object(s.useState)([]),[c,r]=Object(s.useState)(""),[n,o]=Object(s.useState)(null),[i,j]=Object(s.useState)("asc"),[m,h]=Object(s.useState)(1),[b]=Object(s.useState)(10),{darkMode:u}=g();Object(s.useEffect)((()=>{(async()=>{try{const e=await d.a.get(`${E}/api/todays-attendance`);l(e.data)}catch(e){console.error("Error fetching today's attendance data:",e)}})()}),[]);const p=new Date,x=p.getFullYear();let v=p.getMonth()+1,y=p.getDate();y<10&&(y="0"+y),v<10&&(v="0"+v);let f=p.getDay();const N=e=>{if(!e||!e.attendance)return"Absent";const t=e.attendance.loginTime&&e.attendance.loginTime[0];if("string"!==typeof t)return"Absent";const[a,s]=t.split(":").map(Number);return isNaN(a)||isNaN(s)?"Absent":a>9||9===a&&s>45?"Half Day":a>9||9===a&&s>30?"Late":t?"Present":"Absent"},D=e=>{r(e.target.value)},k=a.slice().filter((e=>e.FirstName.toLowerCase().includes(c.toLowerCase()))).sort(((e,t)=>{if(n){const a=e[n],s=t[n];return"string"===typeof a&&"string"===typeof s?"asc"===i?a.localeCompare(s):s.localeCompare(a):"asc"===i?a-s:s-a}return 0}));function C(e){return Math.floor(e/60)+" Hrs "+e%60+" Min"}const w=m*b,A=w-b,S=k.slice(A,w),M=[];for(let s=1;s<=Math.ceil(k.length/b);s++)M.push(s);return Object(O.jsxs)("div",{className:"container-fluid pb-5",children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between py-3",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("h5",{style:{color:u?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)"},className:" my-auto",children:"Today's Attendance"}),Object(O.jsx)("span",{className:"p-0 fs-6 d-flex ",children:Object(O.jsxs)("span",{style:{color:u?"var(--secondaryDashColorDark)":"var(--primaryDashMenuColor)"},className:"m-0 p-0 fs-6 text-center",children:[(T=f,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][T])," , ",Object(O.jsx)("span",{children:y})," - ",Object(O.jsx)("span",{children:v})," -",Object(O.jsx)("span",{children:x})]})})]}),Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"d-flex gap-2",children:[Object(O.jsx)("input",{value:c,onChange:D,type:"search",className:"form-control d-none d-sm-flex rounded-5",placeholder:"Search by employee name"}),Object(O.jsxs)("button",{style:{whiteSpace:"pre",color:u?"var(--primaryDashColorDark)":"var(--secondaryDashMenuColor)"},className:"btn d-flex gap-2 align-items-center justify-content-center m-auto shadow-sm rounded-5",onClick:()=>{const e=a.map((e=>({"Employee ID":e.empID.toUpperCase(),"Employee Name":e.FirstName.toUpperCase()+" "+e.LastName.toUpperCase(),"Login Time (24Hrs)":e.attendance?e.attendance.loginTime[0]:"--","Logout Time (24Hrs)":e.attendance?e.attendance.logoutTime[e.attendance.logoutTime.length-1]:"--","Total Login Time":e.attendance?C(e.attendance.totalLogAfterBreak).toUpperCase():"--",Mark:N(e).toUpperCase()}))),t=la.a.json_to_sheet(e);la.a.sheet_add_aoa(t,[["Kasper","123 New Delhi 110044"]],{origin:-1});const s=la.a.book_new();la.a.book_append_sheet(s,t,"Attendance"),la.b(s,"attendance.xlsx")},children:[" ",Object(O.jsx)(xs.a,{className:"text-success fs-5"}),Object(O.jsx)("span",{className:"d-none d-md-flex text-success",children:"Export XLSX"})]})]})})]}),Object(O.jsx)("div",{className:"d-flex d-sm-none",children:Object(O.jsx)("input",{value:c,onChange:D,type:"search",className:"form-control mb-3 rounded-0",placeholder:"Search by employee name"})}),Object(O.jsx)("div",{children:S.length>0?Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",style:{fontSize:".9rem"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{style:{position:"sticky",top:"0",zIndex:"1"},children:[Object(O.jsxs)("th",{onClick:()=>{return o(e="FirstName"),void j((t=>n===e&&"asc"===t?"desc":"asc"));var e},style:ut(u),children:[Object(O.jsx)(na.a,{})," Employee ",(L="FirstName",n===L?"asc"===i?"\u25b4":"\u25be":null)]}),Object(O.jsxs)("th",{style:ut(u),children:[" ",Object(O.jsx)(Pe.a,{})," Login Time"," "]}),Object(O.jsxs)("th",{style:ut(u),children:[" ","Logout Time ",Object(O.jsx)(Pe.b,{})," "]}),Object(O.jsxs)("th",{style:ut(u),children:[" ",Object(O.jsx)(na.b,{})," Log Count"," "]}),Object(O.jsxs)("th",{style:ut(u),children:[" ","Gross Login ",Object(O.jsx)(Pe.b,{})," "]}),Object(O.jsx)("th",{style:ut(u),children:" Total Break "}),Object(O.jsxs)("th",{style:ut(u),children:[" ",Object(O.jsx)(Ie.f,{})," Net Login"," "]}),Object(O.jsxs)("th",{style:ut(u),children:[" ","Status ",Object(O.jsx)(Pe.d,{})]}),Object(O.jsxs)("th",{style:ut(u),children:[" ",Object(O.jsx)($.h,{})," Mark"," "]}),Object(O.jsxs)("th",{style:ut(u),className:"text-center",children:[" ","Break Count"]})]})}),Object(O.jsx)("tbody",{children:S.map((e=>{var t,a,s;const l=N(e);return Object(O.jsxs)("tr",{style:{position:"sticky",top:"0"},children:[Object(O.jsx)("td",{style:pt(u),children:Object(O.jsxs)("div",{className:"d-flex w-100 align-items-center gap-2",children:[Object(O.jsx)("div",{style:{height:"35px",width:"35px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#ccc",borderRadius:"50%",fontSize:"14px",fontWeight:"bold",color:"#fff"},children:null!==e&&void 0!==e&&null!==(t=e.profile)&&void 0!==t&&t.image_url?Object(O.jsx)("img",{style:{height:"100%",width:"100%",objectFit:"cover",overflow:"hidden",borderRadius:"50%"},src:e.profile.image_url,alt:`${null===e||void 0===e?void 0:e.FirstName} ${null===e||void 0===e?void 0:e.LastName}`}):`${null===e||void 0===e||null===(a=e.FirstName)||void 0===a?void 0:a[0]}${null===e||void 0===e||null===(s=e.LastName)||void 0===s?void 0:s[0]}`}),Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{style:{fontSize:".75rem"},className:"p-0 m-0 w-100",children:e.empID}),Object(O.jsxs)("p",{style:{fontSize:".80rem"},className:"p-0 m-0 w-100 text-uppercase",children:[e.FirstName," ",e.LastName]})]})]})}),Object(O.jsx)("td",{style:pt(u),children:e.attendance?e.attendance.loginTime[0]:"--"}),Object(O.jsx)("td",{style:pt(u),children:e.attendance?e.attendance.logoutTime[e.attendance.logoutTime.length-1]:"--"}),Object(O.jsx)("td",{className:"text-center",style:pt(u),children:e.attendance?e.attendance.loginTime.length:"--"}),Object(O.jsx)("td",{style:pt(u),children:e.attendance?C(e.attendance.TotalLogin):null}),Object(O.jsx)("td",{style:pt(u),children:e.attendance?C(e.attendance.totalBrake):null}),Object(O.jsx)("td",{style:pt(u),children:e.attendance?C(e.attendance.totalLogAfterBreak):null}),Object(O.jsx)("td",{style:pt(u),children:e.attendance?e.attendance.status:"--"}),Object(O.jsx)("td",{style:pt(u),children:Object(O.jsx)("span",{style:{fontSize:".8rem"},className:"py-0 px-3 rounded-5 "+("Present"===l?"border border-success":"Late"===l?"border border-info":"Half Day"===l?"border border-warning":"border border-danger"),children:l})}),Object(O.jsx)("td",{className:"text-center",style:pt(u),children:e.attendance?e.attendance.breakTime.length:"--"})]},e.userId)}))})]})}),Object(O.jsx)(vt,{currentPage:m,pageNumbers:M,handlePaginationPrev:()=>{h((e=>e-1))},handlePaginationNext:()=>{h((e=>e+1))},setCurrentPage:h,filteredDataLength:k.length,itemsPerPage:b})]}):Object(O.jsxs)("div",{style:{minHeight:"70vh",maxHeight:"70vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",wordSpacing:"5px",flexDirection:"column",gap:"2rem"},children:[Object(O.jsx)("img",{style:{height:"auto",width:"20%"},src:ja,alt:"img"}),Object(O.jsx)("p",{className:"text-center w-75 mx-auto",style:{color:u?"var(--secondaryDashColorDark)":"var( --primaryDashMenuColor)"},children:"Sorry records not found or attendance not marked yet."})]})})]});var L,T};a(637);var xc=()=>{const[e,t]=Object(s.useState)(!1),[a,l]=Object(s.useState)([]),[c,r]=Object(s.useState)(null),{socket:n}=Object(s.useContext)(b),{userData:o}=Object(P.c)((e=>e.user)),i=null===o||void 0===o?void 0:o._id,j=null===o||void 0===o?void 0:o.Email,m=()=>{d.a.get(`${E}/api/particularEmployee/${i}`,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{r(e.data.Notification)})).catch((e=>{}))};Object(s.useEffect)((()=>{m()}),[]),Object(s.useEffect)((()=>{n&&n.on("taskNotificationReceived",(()=>{m()}))}),[n]),Object(s.useEffect)((()=>{t(c&&a.length===c.length)}),[a,c]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("form",{className:"d-flex col-8 flex-column gap-3",children:Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"p-2",children:[" ",Object(O.jsx)("input",{type:"checkbox",name:"",id:"",onChange:()=>{t(!e),l(e?[]:[...c])},checked:e})," ",Object(O.jsx)("span",{children:"Select All"})]}),Object(O.jsx)("div",{style:{overflow:"auto",position:"relative"},className:"table-responsive p-2 mb-3",children:Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{scope:"col",children:"Select"}),Object(O.jsx)("th",{scope:"col",children:"task Name"}),Object(O.jsx)("th",{scope:"col",children:"Sender"}),Object(O.jsx)("th",{scope:"col",children:"Status"}),Object(O.jsx)("th",{scope:"col",children:"Action"})]})}),Object(O.jsx)("tbody",{children:c&&c.map(((e,t)=>Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{scope:"row",children:Object(O.jsx)("input",{type:"checkbox",name:"",id:"",onChange:()=>(e=>{const t=a.some((t=>t.taskId===e.taskId));l(t?t=>t.filter((t=>t.taskId!==e.taskId)):[...a,e])})(e),checked:a.some((t=>t.taskId===e.taskId))})}),Object(O.jsx)("td",{children:e.taskName}),Object(O.jsx)("td",{children:e.senderMail}),"unseen"===e.status?Object(O.jsx)("td",{children:"Unread"}):Object(O.jsx)("td",{children:"read"}),Object(O.jsx)("td",{children:Object(O.jsx)(Re.a,{onClick:()=>(e=>{d.a.post(`${E}/api/notificationDeleteHandler/${e}`,{email:j},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{r(e.data.result.Notification),l([]),n.emit("notificationPageUpdate",!0)})).catch((e=>{}))})(e.taskId),className:"bin"})})]},t)))})]})})]})})}),Object(O.jsx)("button",{className:"Notification_delete",onClick:()=>{if(a.length>0){const t=a.map((e=>e.taskId)),s={employeeMail:j,tasks:t};e?c.length>0&&d.a.post(`${E}/api/selectedNotificationDelete`,{email:j},{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{r(e.data.result.Notification),n.emit("notificationPageUpdate",!0)})).catch((e=>{})):d.a.post(`${E}/api/multiSelectedNotificationDelete`,s,{headers:{authorization:localStorage.getItem("token")||""}}).then((e=>{r(e.data.result.Notification),l([]),n.emit("notificationPageUpdate",!0)})).catch((e=>{}))}},children:"Delete"})]})};const Oc=e=>{let{children:t,allowedRoles:a}=e;const{userData:l}=Object(P.c)((e=>e.user)),c=Object(o.p)();return Object(s.useEffect)((()=>{const e=localStorage.getItem("token");l&&e?1===l.Account&&"/"===window.location.pathname?c("/admin/dashboard"):2===l.Account&&"/"===window.location.pathname?c("/hr/dashboard"):3===l.Account&&"/"===window.location.pathname?c("/employee/dashboard"):4===l.Account&&"/"===window.location.pathname&&c("/manager/dashboard"):c("/");const t=Object(Oe.a)(e);a.includes(t.Account)||c("/")}),[l,c]),l?t:null},vc=Object(n.d)([{path:"/",element:Object(O.jsx)(Js,{})},{path:"/hr",element:Object(O.jsx)(Oc,{allowedRoles:[2],children:Object(O.jsx)(He,{})}),children:[{path:"dashboard",element:Object(O.jsx)(dt,{})},{path:"employee/*",element:Object(O.jsx)(Wa,{})},{path:"salary",element:Object(O.jsx)(Za,{})},{path:"company",element:Object(O.jsx)(ta,{})},{path:"role",element:Object(O.jsx)(kt,{})},{path:"position",element:Object(O.jsx)(Mt,{})},{path:"department",element:Object(O.jsx)(Pt,{})},{path:"country",element:Object(O.jsx)(qt,{})},{path:"state",element:Object(O.jsx)(Wt,{})},{path:"city",element:Object(O.jsx)(Zt,{})},{path:"leaveApplication",element:Object(O.jsx)(ss,{})},{path:"assignLeave",element:Object(O.jsx)(Ts,{})},{path:"leaveBalance",element:Object(O.jsx)(ys,{})},{path:"allEmpLeave",element:Object(O.jsx)(Fs,{})},{path:"attenDance",element:Object(O.jsx)(ms,{})},{path:"viewAttenDance",element:Object(O.jsx)(rs,{})},{path:"AttendanceRegister",element:Object(O.jsx)(Ss,{})},{path:"NoticeManagement",element:Object(O.jsx)(Rs,{})},{path:"holiday",element:Object(O.jsx)(ps,{})},{path:"todaysAttendance",element:Object(O.jsx)(gs,{})},{path:"createLeave",element:Object(O.jsx)(Cs,{})},{path:"leaveRegister",element:Object(O.jsx)(Ys,{})},{path:"leaveAccepted",element:Object(O.jsx)(ws,{})},{path:"leaveRejected",element:Object(O.jsx)(As,{})},{path:"notification",element:Object(O.jsx)(Es,{})},{path:"manualAttand",element:Object(O.jsx)(Ms,{})},{path:"personal-info",element:Object(O.jsx)(Ua,{})},{path:"request",element:Object(O.jsx)(qs,{})},{path:"requestOpen",element:Object(O.jsx)(Hs,{})},{path:"requestClosed",element:Object(O.jsx)(Us,{})},{path:"teamRequestClosed",element:Object(O.jsx)(Gs,{})},{path:"teamRequestOpen",element:Object(O.jsx)(Ws,{})},{path:"updateAttendance",element:Object(O.jsx)($s,{})},{path:"NoticeBoard",element:Object(O.jsx)(zs,{})},{path:"*",element:Object(O.jsx)(ls,{})}]},{path:"/employee",element:Object(O.jsx)(Oc,{allowedRoles:[3],children:Object(O.jsx)(gl,{})}),children:[{path:"dashboard",element:Object(O.jsx)(ml,{})},{path:":id/education",element:Object(O.jsx)(va,{})},{path:":id/family-info",element:Object(O.jsx)(qa,{})},{path:":id/personal-info",element:Object(O.jsx)(Ua,{})},{path:":id/work-experience",element:Object(O.jsx)(wa,{})},{path:":id/leave-application-emp",element:Object(O.jsx)(Ks,{})},{path:"leaveApplication",element:Object(O.jsx)(Cs,{})},{path:":id/leave-application-emp",element:Object(O.jsx)(Ks,{})},{path:":id/attenDance",element:Object(O.jsx)(nl,{})},{path:":id/attendanceList",element:Object(O.jsx)(rl,{})},{path:"MyAttendance",element:Object(O.jsx)(ms,{})},{path:":id/departmentchart",element:Object(O.jsx)(ul,{})},{path:"newTask",element:Object(O.jsx)(tl,{})},{path:"activeTask",element:Object(O.jsx)(al,{})},{path:"taskcomplete",element:Object(O.jsx)(sl,{})},{path:"taskreject",element:Object(O.jsx)(ll,{})},{path:":id/selfAtteend",element:Object(O.jsx)(xl,{})},{path:":id/birthDay",element:Object(O.jsx)(Ke,{})},{path:"notification",element:Object(O.jsx)(pl,{})},{path:"document",element:Object(O.jsx)(Pa,{})},{path:"emp_manager",element:Object(O.jsx)(Ol,{})},{path:"request",element:Object(O.jsx)(qs,{})},{path:"requestOpen",element:Object(O.jsx)(Hs,{})},{path:"requestClosed",element:Object(O.jsx)(Us,{})},{path:"NoticeBoard",element:Object(O.jsx)(zs,{})},{path:"task",element:Object(O.jsx)(vl,{})},{path:"*",element:Object(O.jsx)(ls,{})}]},{path:"/admin",element:Object(O.jsx)(Oc,{allowedRoles:[1],children:Object(O.jsx)(ec,{})}),children:[{path:"dashboard",element:Object(O.jsx)(kl,{})},{path:"role",element:Object(O.jsx)(kt,{})},{path:"position",element:Object(O.jsx)(Mt,{})},{path:"department",element:Object(O.jsx)(Pt,{})},{path:"portal-master",element:Object(O.jsx)(El,{})},{path:"project-bid",element:Object(O.jsx)(Pl,{})},{path:"salary",element:Object(O.jsx)(Za,{})},{path:"employee/*",element:Object(O.jsx)(zl,{})},{path:"task",element:Object(O.jsx)(ql,{})},{path:"taskassign",element:Object(O.jsx)(Wl,{})},{path:"taskstatus",element:Object(O.jsx)(Bl,{})},{path:"taskcancle",element:Object(O.jsx)(_l,{})},{path:"taskActive",element:Object(O.jsx)(Yl,{})},{path:"leaveCal",element:Object(O.jsx)(ps,{})},{path:"country",element:Object(O.jsx)(qt,{})},{path:"state",element:Object(O.jsx)(Wt,{})},{path:"city",element:Object(O.jsx)(Zt,{})},{path:"company",element:Object(O.jsx)(ta,{})},{path:"taskcomplete",element:Object(O.jsx)(Hl,{})},{path:"taskreject",element:Object(O.jsx)(Ul,{})},{path:"admin_manager",element:Object(O.jsx)(Zl,{})},{path:"adminAttendance",element:Object(O.jsx)(Vl,{})},{path:"viewAttendance",element:Object(O.jsx)(rs,{})},{path:"todaysAttendance",element:Object(O.jsx)(gs,{})},{path:"myAttendance",element:Object(O.jsx)(ms,{})},{path:"updateAttendance",element:Object(O.jsx)($s,{})},{path:"applyLeave",element:Object(O.jsx)(Cs,{})},{path:"AllEmpLeave",element:Object(O.jsx)(Jl,{})},{path:"leaveAssign",element:Object(O.jsx)("adminLeaveAssign",{})},{path:"leaveRegister",element:Object(O.jsx)(Ys,{})},{path:"leaveAccepted",element:Object(O.jsx)(ws,{})},{path:"leaveApplication",element:Object(O.jsx)($l,{})},{path:"leaveRejected",element:Object(O.jsx)(As,{})},{path:"requestClosed",element:Object(O.jsx)(Gs,{})},{path:"requestReceived",element:Object(O.jsx)(Ws,{})},{path:"notification",element:Object(O.jsx)("adminNotification",{})},{path:"NoticeManagement",element:Object(O.jsx)(Rs,{})},{path:"teamList",element:Object(O.jsx)(Xl,{})},{path:"managerTeam",element:Object(O.jsx)(Ql,{})},{path:"NoticeBoard",element:Object(O.jsx)(zs,{})},{path:"AttendanceRegister",element:Object(O.jsx)(Ss,{})},{path:"monthlyLeave",element:Object(O.jsx)(Kl,{})},{path:"*",element:Object(O.jsx)(ls,{})}]},{path:"/manager",element:Object(O.jsx)(Oc,{allowedRoles:[4],children:Object(O.jsx)(tc,{})}),children:[{path:"employee",element:Object(O.jsx)(Wa,{})},{path:"salary",element:Object(O.jsx)(Za,{})},{path:"company",element:Object(O.jsx)(ta,{})},{path:"role",element:Object(O.jsx)(kt,{})},{path:"position",element:Object(O.jsx)(Mt,{})},{path:"department",element:Object(O.jsx)(Pt,{})},{path:"country",element:Object(O.jsx)(qt,{})},{path:"state",element:Object(O.jsx)(Wt,{})},{path:"city",element:Object(O.jsx)(Zt,{})},{path:"leaveApplication",element:Object(O.jsx)($l,{})},{path:"leaveApplicationAccepted",element:Object(O.jsx)(sc,{})},{path:"leaveApplicationRejected",element:Object(O.jsx)(cc,{})},{path:"city",element:Object(O.jsx)(Zt,{})},{path:"dashboard",element:Object(O.jsx)(nc,{})},{path:"newTask",element:Object(O.jsx)(ic,{})},{path:"ActiveTask",element:Object(O.jsx)(uc,{})},{path:"admin_manager",element:Object(O.jsx)(Zl,{})},{path:"emp_manager",element:Object(O.jsx)(Ol,{})},{path:"taskcancle",element:Object(O.jsx)(jc,{})},{path:"taskcomplete",element:Object(O.jsx)(hc,{})},{path:"rejectTask",element:Object(O.jsx)(bc,{})},{path:"viewAttenDance",element:Object(O.jsx)(rs,{})},{path:"NoticeManagement",element:Object(O.jsx)(Rs,{})},{path:"holiday",element:Object(O.jsx)(ps,{})},{path:"todaysAttendance",element:Object(O.jsx)(pc,{})},{path:"myAttendance",element:Object(O.jsx)(ms,{})},{path:"notification",element:Object(O.jsx)(xc,{})},{path:"createLeave",element:Object(O.jsx)(Cs,{})},{path:"LeaveBalance",element:Object(O.jsx)(ys,{})},{path:"team",element:Object(O.jsx)(Ql,{})},{path:"request",element:Object(O.jsx)(qs,{})},{path:"requestOpen",element:Object(O.jsx)(Hs,{})},{path:"requestClosed",element:Object(O.jsx)(Us,{})},{path:"teamRequestClosed",element:Object(O.jsx)(Gs,{})},{path:"teamRequestOpen",element:Object(O.jsx)(Ws,{})},{path:"NoticeBoard",element:Object(O.jsx)(zs,{})},{path:"personal-info",element:Object(O.jsx)(Ua,{})},{path:"*",element:Object(O.jsx)(ls,{})}]},{path:"/404",element:Object(O.jsx)(ls,{})},{path:"*",element:Object(O.jsx)(ls,{})}]);var gc=()=>Object(O.jsx)("div",{children:Object(O.jsx)(n.c,{router:vc})});a(638);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var yc=a(319);var fc=e=>{let{children:t}=e;const a=Object(s.useMemo)((()=>Object(yc.a)(`${E}`)),[]),[l,c]=Object(s.useState)([]),[r,n]=Object(s.useState)(!1),[o,i]=Object(s.useState)(""),[d,j]=Object(s.useState)(""),[m,h]=Object(s.useState)(""),[u,p]=Object(s.useState)(""),[x,v]=Object(s.useState)(""),[g,y]=Object(s.useState)(null),[f,N]=Object(s.useState)({taskId:"",to:""}),[D,k]=Object(s.useState)(null),[C,w]=Object(s.useState)([]);return Object(O.jsx)(b.Provider,{value:{socket:a,personalData:D,setPersonalData:k,setIsLogin:n,isLogin:r,emailInput:u,setEmailInput:p,employees:l,setEmployees:c,selectedEmployee:o,setManagerMail:y,managerMail:g,setSelectedEmployee:i,attencenceID:d,setAttencenceID:j,message:m,setMessage:h,messageData:f,setMessageData:N,setChat:w,chat:C,setProfile:v,profile:x},children:t})};r.a.createRoot(document.getElementById("root")).render(Object(O.jsxs)(l.a.StrictMode,{children:[Object(O.jsx)(P.a,{store:pe,children:Object(O.jsx)(y,{children:Object(O.jsx)(k,{children:Object(O.jsx)(fc,{children:Object(O.jsx)(gc,{})})})})}),Object(O.jsx)(A.Toaster,{position:"top-center",reverseOrder:!1,gutter:8,containerClassName:"",containerStyle:{},toastOptions:{className:"",duration:5e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,theme:{primary:"green",secondary:"black"}}}})," "]})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()}))}},[[639,1,2]]]);